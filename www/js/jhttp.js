function Http(){}Http.prototype.request=function(){throw"not implemented";};Http.prototype.escape=function(a){return escape(a).replace(/\+/g,"%2b")};Http.prototype.get=function(){var a=Array.prototype.slice.call(arguments),b=a.shift(),d=a.pop(),c=a.pop(),a=a.pop();return this.request("GET",b,a,null,c,d)};Http.prototype.del=function(){var a=Array.prototype.slice.call(arguments),b=a.shift(),d=a.pop(),c=a.pop(),a=a.pop();return this.request("DELETE",b,a,null,c,d)};
Http.prototype.put=function(){var a=Array.prototype.slice.call(arguments),b=a.shift(),d=a.pop(),c=a.pop(),e=a.pop(),a=a.pop();return this.request("PUT",b,a,e,c,d)};Http.prototype.post=function(){var a=Array.prototype.slice.call(arguments),b=a.shift(),d=a.pop(),c=a.pop(),e=a.pop(),a=a.pop();return this.request("POST",b,a,e,c,d)};var JsonHttp;
(function(a){JsonHttp=function(){Http.call(this)};JsonHttp.prototype=new Http;JsonHttp.prototype.request=function(b,d,c,e,g,f){b={type:b,headers:c,cache:!1,success:function(a,b,c){202==c.status?f(202,a):304==c.status?f(304,a):g(a)},error:function(a){var b=parseInt(a.status),c;try{c=JSON.parse(a.responseText)}catch(d){return f(b,{status:b,code:-1,msg:"Server is currently busy. Please try again shortly.",detail:a.responseText})}f(b,c)}};e&&(b.data="string"!=typeof e?JSON.stringify(e):e,b.contentType=
"application/json");c&&c.sync&&(b.async=!1,delete c.sync);d.match(/tubes/)||(b.timeout=3E4);return a.ajax(d,b)};JsonHttp.prototype.fetch=function(b,d,c,e){a.ajax(b,{type:"GET",cache:b.match(/\.html$/)?!1:!0,headers:d,success:function(a,b,d){c(d.responseText)},error:function(a,b){e(b,{msg:a.responseText})}})}})(jQuery);
