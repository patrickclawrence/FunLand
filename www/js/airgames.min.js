var COMPILED=!0,goog=goog||{};goog.global=this;goog.DEBUG=!0;goog.LOCALE="en";goog.provide=function(b){if(!COMPILED){if(goog.isProvided_(b))throw Error('Namespace "'+b+'" already declared.');delete goog.implicitNamespaces_[b];for(var c=b;(c=c.substring(0,c.lastIndexOf(".")))&&!goog.getObjectByName(c);)goog.implicitNamespaces_[c]=!0}goog.exportPath_(b)};goog.setTestOnly=function(b){if(COMPILED&&!goog.DEBUG)throw b=b||"",Error("Importing test-only code into non-debug environment"+b?": "+b:".");};
COMPILED||(goog.isProvided_=function(b){return!goog.implicitNamespaces_[b]&&!!goog.getObjectByName(b)},goog.implicitNamespaces_={});goog.exportPath_=function(b,c,d){b=b.split(".");d=d||goog.global;!(b[0]in d)&&d.execScript&&d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)!b.length&&goog.isDef(c)?d[e]=c:d=d[e]?d[e]:d[e]={}};goog.getObjectByName=function(b,c){for(var d=b.split("."),e=c||goog.global,f;f=d.shift();)if(goog.isDefAndNotNull(e[f]))e=e[f];else return null;return e};
goog.globalize=function(b,c){var d=c||goog.global,e;for(e in b)d[e]=b[e]};goog.addDependency=function(b,c,d){if(!COMPILED){for(var e,b=b.replace(/\\/g,"/"),f=goog.dependencies_,g=0;e=c[g];g++){f.nameToPath[e]=b;b in f.pathToNames||(f.pathToNames[b]={});f.pathToNames[b][e]=true}for(e=0;c=d[e];e++){b in f.requires||(f.requires[b]={});f.requires[b][c]=true}}};goog.ENABLE_DEBUG_LOADER=!0;
goog.require=function(b){if(!COMPILED&&!goog.isProvided_(b)){if(goog.ENABLE_DEBUG_LOADER){var c=goog.getPathFromDeps_(b);if(c){goog.included_[c]=true;goog.writeScripts_();return}}b="goog.require could not find: "+b;goog.global.console&&goog.global.console.error(b);throw Error(b);}};goog.basePath="";goog.nullFunction=function(){};goog.identityFunction=function(b){return b};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};
goog.addSingletonGetter=function(b){b.getInstance=function(){if(b.instance_)return b.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=b);return b.instance_=new b}};goog.instantiatedSingletons_=[];
!COMPILED&&goog.ENABLE_DEBUG_LOADER&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var b=goog.global.document;return typeof b!="undefined"&&"write"in b},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var b=goog.global.document.getElementsByTagName("script"),c=b.length-1;c>=0;--c){var d=b[c].src,e=d.lastIndexOf("?"),
e=e==-1?d.length:e;if(d.substr(e-7,7)=="base.js"){goog.basePath=d.substr(0,e-7);break}}},goog.importScript_=function(b){var c=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[b]&&c(b)&&(goog.dependencies_.written[b]=true)},goog.writeScriptTag_=function(b){if(goog.inHtmlDocument_()){goog.global.document.write('<script type="text/javascript" src="'+b+'"><\/script>');return true}return false},goog.writeScripts_=function(){function b(f){if(!(f in e.written)){if(!(f in
e.visited)){e.visited[f]=true;if(f in e.requires)for(var h in e.requires[f])if(!goog.isProvided_(h))if(h in e.nameToPath)b(e.nameToPath[h]);else throw Error("Undefined nameToPath for "+h);}if(!(f in d)){d[f]=true;c.push(f)}}}var c=[],d={},e=goog.dependencies_,f;for(f in goog.included_)e.written[f]||b(f);for(f=0;f<c.length;f++)if(c[f])goog.importScript_(goog.basePath+c[f]);else throw Error("Undefined script input");},goog.getPathFromDeps_=function(b){return b in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[b]:
null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js"));
goog.typeOf=function(b){var c=typeof b;if(c=="object")if(b){if(b instanceof Array)return"array";if(b instanceof Object)return c;var d=Object.prototype.toString.call(b);if(d=="[object Window]")return"object";if(d=="[object Array]"||typeof b.length=="number"&&typeof b.splice!="undefined"&&typeof b.propertyIsEnumerable!="undefined"&&!b.propertyIsEnumerable("splice"))return"array";if(d=="[object Function]"||typeof b.call!="undefined"&&typeof b.propertyIsEnumerable!="undefined"&&!b.propertyIsEnumerable("call"))return"function"}else return"null";
else if(c=="function"&&typeof b.call=="undefined")return"object";return c};goog.isDef=function(b){return b!==void 0};goog.isNull=function(b){return b===null};goog.isDefAndNotNull=function(b){return b!=null};goog.isArray=function(b){return goog.typeOf(b)=="array"};goog.isArrayLike=function(b){var c=goog.typeOf(b);return c=="array"||c=="object"&&typeof b.length=="number"};goog.isDateLike=function(b){return goog.isObject(b)&&typeof b.getFullYear=="function"};
goog.isString=function(b){return typeof b=="string"};goog.isBoolean=function(b){return typeof b=="boolean"};goog.isNumber=function(b){return typeof b=="number"};goog.isFunction=function(b){return goog.typeOf(b)=="function"};goog.isObject=function(b){var c=typeof b;return c=="object"&&b!=null||c=="function"};goog.getUid=function(b){return b[goog.UID_PROPERTY_]||(b[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.removeUid=function(b){"removeAttribute"in b&&b.removeAttribute(goog.UID_PROPERTY_);try{delete b[goog.UID_PROPERTY_]}catch(c){}};
goog.UID_PROPERTY_="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(b){var c=goog.typeOf(b);if(c=="object"||c=="array"){if(b.clone)return b.clone();var c=c=="array"?[]:{},d;for(d in b)c[d]=goog.cloneObject(b[d]);return c}return b};goog.bindNative_=function(b,c,d){return b.call.apply(b.bind,arguments)};
goog.bindJs_=function(b,c,d){if(!b)throw Error();if(arguments.length>2){var e=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,e);return b.apply(c,d)}}return function(){return b.apply(c,arguments)}};goog.bind=function(b,c,d){goog.bind=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bindNative_:goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(b,c){var d=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,d);return b.apply(this,c)}};goog.mixin=function(b,c){for(var d in c)b[d]=c[d]};goog.now=Date.now||function(){return+new Date};
goog.globalEval=function(b){if(goog.global.execScript)goog.global.execScript(b,"JavaScript");else if(goog.global.eval){if(goog.evalWorksForGlobals_==null){goog.global.eval("var _et_ = 1;");if(typeof goog.global._et_!="undefined"){delete goog.global._et_;goog.evalWorksForGlobals_=true}else goog.evalWorksForGlobals_=false}if(goog.evalWorksForGlobals_)goog.global.eval(b);else{var c=goog.global.document,d=c.createElement("script");d.type="text/javascript";d.defer=false;d.appendChild(c.createTextNode(b));
c.body.appendChild(d);c.body.removeChild(d)}}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.getCssName=function(b,c){var d=function(b){return goog.cssNameMapping_[b]||b},e=function(b){for(var b=b.split("-"),c=[],e=0;e<b.length;e++)c.push(d(b[e]));return c.join("-")},e=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?d:e:function(b){return b};return c?b+"-"+e(c):e(b)};
goog.setCssNameMapping=function(b,c){goog.cssNameMapping_=b;goog.cssNameMappingStyle_=c};!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(b,c){var d=c||{},e;for(e in d)var f=(""+d[e]).replace(/\$/g,"$$$$"),b=b.replace(RegExp("\\{\\$"+e+"\\}","gi"),f);return b};goog.exportSymbol=function(b,c,d){goog.exportPath_(b,c,d)};goog.exportProperty=function(b,c,d){b[c]=d};
goog.inherits=function(b,c){function d(){}d.prototype=c.prototype;b.superClass_=c.prototype;b.prototype=new d;b.prototype.constructor=b};
goog.base=function(b,c,d){var e=arguments.callee.caller;if(e.superClass_)return e.superClass_.constructor.apply(b,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),g=false,h=b.constructor;h;h=h.superClass_&&h.superClass_.constructor)if(h.prototype[c]===e)g=true;else if(g)return h.prototype[c].apply(b,f);if(b[c]===e)return b.constructor.prototype[c].apply(b,f);throw Error("goog.base called from a method of one name to a method of a different name");};
goog.scope=function(b){b.call(goog.global)};goog.debug={};goog.debug.Error=function(b){Error.captureStackTrace?Error.captureStackTrace(this,goog.debug.Error):this.stack=Error().stack||"";b&&(this.message=""+b)};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name="CustomError";goog.string={};goog.string.Unicode={NBSP:"\u00a0"};goog.string.startsWith=function(b,c){return 0==b.lastIndexOf(c,0)};goog.string.endsWith=function(b,c){var d=b.length-c.length;return 0<=d&&b.indexOf(c,d)==d};goog.string.caseInsensitiveStartsWith=function(b,c){return 0==goog.string.caseInsensitiveCompare(c,b.substr(0,c.length))};goog.string.caseInsensitiveEndsWith=function(b,c){return 0==goog.string.caseInsensitiveCompare(c,b.substr(b.length-c.length,c.length))};
goog.string.subs=function(b,c){for(var d=1;d<arguments.length;d++)var e=(""+arguments[d]).replace(/\$/g,"$$$$"),b=b.replace(/\%s/,e);return b};goog.string.collapseWhitespace=function(b){return b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};goog.string.isEmpty=function(b){return/^[\s\xa0]*$/.test(b)};goog.string.isEmptySafe=function(b){return goog.string.isEmpty(goog.string.makeSafe(b))};goog.string.isBreakingWhitespace=function(b){return!/[^\t\n\r ]/.test(b)};goog.string.isAlpha=function(b){return!/[^a-zA-Z]/.test(b)};
goog.string.isNumeric=function(b){return!/[^0-9]/.test(b)};goog.string.isAlphaNumeric=function(b){return!/[^a-zA-Z0-9]/.test(b)};goog.string.isSpace=function(b){return" "==b};goog.string.isUnicodeChar=function(b){return 1==b.length&&" "<=b&&"~">=b||"\u0080"<=b&&"\ufffd">=b};goog.string.stripNewlines=function(b){return b.replace(/(\r\n|\r|\n)+/g," ")};goog.string.canonicalizeNewlines=function(b){return b.replace(/(\r\n|\r|\n)/g,"\n")};
goog.string.normalizeWhitespace=function(b){return b.replace(/\xa0|\s/g," ")};goog.string.normalizeSpaces=function(b){return b.replace(/\xa0|[ \t]+/g," ")};goog.string.collapseBreakingSpaces=function(b){return b.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")};goog.string.trim=function(b){return b.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};goog.string.trimLeft=function(b){return b.replace(/^[\s\xa0]+/,"")};goog.string.trimRight=function(b){return b.replace(/[\s\xa0]+$/,"")};
goog.string.caseInsensitiveCompare=function(b,c){var d=(""+b).toLowerCase(),e=(""+c).toLowerCase();return d<e?-1:d==e?0:1};goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g;
goog.string.numerateCompare=function(b,c){if(b==c)return 0;if(!b)return-1;if(!c)return 1;for(var d=b.toLowerCase().match(goog.string.numerateCompareRegExp_),e=c.toLowerCase().match(goog.string.numerateCompareRegExp_),f=Math.min(d.length,e.length),g=0;g<f;g++){var h=d[g],i=e[g];if(h!=i)return d=parseInt(h,10),!isNaN(d)&&(e=parseInt(i,10),!isNaN(e)&&d-e)?d-e:h<i?-1:1}return d.length!=e.length?d.length-e.length:b<c?-1:1};goog.string.urlEncode=function(b){return encodeURIComponent(""+b)};
goog.string.urlDecode=function(b){return decodeURIComponent(b.replace(/\+/g," "))};goog.string.newLineToBr=function(b,c){return b.replace(/(\r\n|\r|\n)/g,c?"<br />":"<br>")};
goog.string.htmlEscape=function(b,c){if(c)return b.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;");if(!goog.string.allRe_.test(b))return b;-1!=b.indexOf("&")&&(b=b.replace(goog.string.amperRe_,"&amp;"));-1!=b.indexOf("<")&&(b=b.replace(goog.string.ltRe_,"&lt;"));-1!=b.indexOf(">")&&(b=b.replace(goog.string.gtRe_,"&gt;"));-1!=b.indexOf('"')&&(b=b.replace(goog.string.quotRe_,"&quot;"));return b};
goog.string.amperRe_=/&/g;goog.string.ltRe_=/</g;goog.string.gtRe_=/>/g;goog.string.quotRe_=/\"/g;goog.string.allRe_=/[&<>\"]/;goog.string.unescapeEntities=function(b){return goog.string.contains(b,"&")?"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(b):goog.string.unescapePureXmlEntities_(b):b};
goog.string.unescapeEntitiesUsingDom_=function(b){var c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},d=document.createElement("div");return b.replace(goog.string.HTML_ENTITY_PATTERN_,function(b,f){var g=c[b];if(g)return g;if("#"==f.charAt(0)){var h=Number("0"+f.substr(1));isNaN(h)||(g=String.fromCharCode(h))}g||(d.innerHTML=b+" ",g=d.firstChild.nodeValue.slice(0,-1));return c[b]=g})};
goog.string.unescapePureXmlEntities_=function(b){return b.replace(/&([^;]+);/g,function(b,d){switch(d){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==d.charAt(0)){var e=Number("0"+d.substr(1));if(!isNaN(e))return String.fromCharCode(e)}return b}})};goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g;goog.string.whitespaceEscape=function(b,c){return goog.string.newLineToBr(b.replace(/  /g," &#160;"),c)};
goog.string.stripQuotes=function(b,c){for(var d=c.length,e=0;e<d;e++){var f=1==d?c:c.charAt(e);if(b.charAt(0)==f&&b.charAt(b.length-1)==f)return b.substring(1,b.length-1)}return b};goog.string.truncate=function(b,c,d){d&&(b=goog.string.unescapeEntities(b));b.length>c&&(b=b.substring(0,c-3)+"...");d&&(b=goog.string.htmlEscape(b));return b};
goog.string.truncateMiddle=function(b,c,d,e){d&&(b=goog.string.unescapeEntities(b));if(e&&b.length>c){e>c&&(e=c);var f=b.length-e,b=b.substring(0,c-e)+"..."+b.substring(f)}else b.length>c&&(e=Math.floor(c/2),f=b.length-e,b=b.substring(0,e+c%2)+"..."+b.substring(f));d&&(b=goog.string.htmlEscape(b));return b};goog.string.specialEscapeChars_={"\x00":"\\0","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\"};goog.string.jsEscapeCache_={"'":"\\'"};
goog.string.quote=function(b){b=""+b;if(b.quote)return b.quote();for(var c=['"'],d=0;d<b.length;d++){var e=b.charAt(d),f=e.charCodeAt(0);c[d+1]=goog.string.specialEscapeChars_[e]||(31<f&&127>f?e:goog.string.escapeChar(e))}c.push('"');return c.join("")};goog.string.escapeString=function(b){for(var c=[],d=0;d<b.length;d++)c[d]=goog.string.escapeChar(b.charAt(d));return c.join("")};
goog.string.escapeChar=function(b){if(b in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[b];if(b in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[b]=goog.string.specialEscapeChars_[b];var c=b,d=b.charCodeAt(0);if(31<d&&127>d)c=b;else{if(256>d){if(c="\\x",16>d||256<d)c+="0"}else c="\\u",4096>d&&(c+="0");c+=d.toString(16).toUpperCase()}return goog.string.jsEscapeCache_[b]=c};goog.string.toMap=function(b){for(var c={},d=0;d<b.length;d++)c[b.charAt(d)]=!0;return c};
goog.string.contains=function(b,c){return-1!=b.indexOf(c)};goog.string.countOf=function(b,c){return b&&c?b.split(c).length-1:0};goog.string.removeAt=function(b,c,d){var e=b;0<=c&&(c<b.length&&0<d)&&(e=b.substr(0,c)+b.substr(c+d,b.length-c-d));return e};goog.string.remove=function(b,c){var d=RegExp(goog.string.regExpEscape(c),"");return b.replace(d,"")};goog.string.removeAll=function(b,c){var d=RegExp(goog.string.regExpEscape(c),"g");return b.replace(d,"")};
goog.string.regExpEscape=function(b){return(""+b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};goog.string.repeat=function(b,c){return Array(c+1).join(b)};goog.string.padNumber=function(b,c,d){b=goog.isDef(d)?b.toFixed(d):""+b;d=b.indexOf(".");-1==d&&(d=b.length);return goog.string.repeat("0",Math.max(0,c-d))+b};goog.string.makeSafe=function(b){return null==b?"":""+b};goog.string.buildString=function(b){return Array.prototype.join.call(arguments,"")};
goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)};
goog.string.compareVersions=function(b,c){for(var d=0,e=goog.string.trim(""+b).split("."),f=goog.string.trim(""+c).split("."),g=Math.max(e.length,f.length),h=0;0==d&&h<g;h++){var i=e[h]||"",j=f[h]||"",k=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{var n=k.exec(i)||["","",""],m=l.exec(j)||["","",""];if(0==n[0].length&&0==m[0].length)break;var d=0==n[1].length?0:parseInt(n[1],10),p=0==m[1].length?0:parseInt(m[1],10),d=goog.string.compareElements_(d,p)||goog.string.compareElements_(0==
n[2].length,0==m[2].length)||goog.string.compareElements_(n[2],m[2])}while(0==d)}return d};goog.string.compareElements_=function(b,c){return b<c?-1:b>c?1:0};goog.string.HASHCODE_MAX_=4294967296;goog.string.hashCode=function(b){for(var c=0,d=0;d<b.length;++d)c=31*c+b.charCodeAt(d),c%=goog.string.HASHCODE_MAX_;return c};goog.string.uniqueStringCounter_=2147483648*Math.random()|0;goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++};
goog.string.toNumber=function(b){var c=Number(b);return 0==c&&goog.string.isEmpty(b)?NaN:c};goog.string.toCamelCase=function(b){return(""+b).replace(/\-([a-z])/g,function(b,d){return d.toUpperCase()})};goog.string.toSelectorCase=function(b){return(""+b).replace(/([A-Z])/g,"-$1").toLowerCase()};goog.string.toTitleCase=function(b,c){var d=goog.isString(c)?goog.string.regExpEscape(c):"\\s";return b.replace(RegExp("(^"+(d?"|["+d+"]+":"")+")([a-z])","g"),function(b,c,d){return c+d.toUpperCase()})};goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=function(b,c){c.unshift(b);goog.debug.Error.call(this,goog.string.subs.apply(null,c));c.shift();this.messagePattern=b};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name="AssertionError";goog.asserts.doAssertFailure_=function(b,c,d,e){var f="Assertion failed";if(d)var f=f+(": "+d),g=e;else b&&(f+=": "+b,g=c);throw new goog.asserts.AssertionError(""+f,g||[]);};
goog.asserts.assert=function(b,c,d){goog.asserts.ENABLE_ASSERTS&&!b&&goog.asserts.doAssertFailure_("",null,c,Array.prototype.slice.call(arguments,2));return b};goog.asserts.fail=function(b,c){if(goog.asserts.ENABLE_ASSERTS)throw new goog.asserts.AssertionError("Failure"+(b?": "+b:""),Array.prototype.slice.call(arguments,1));};
goog.asserts.assertNumber=function(b,c,d){goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(b)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(b),b],c,Array.prototype.slice.call(arguments,2));return b};goog.asserts.assertString=function(b,c,d){goog.asserts.ENABLE_ASSERTS&&!goog.isString(b)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(b),b],c,Array.prototype.slice.call(arguments,2));return b};
goog.asserts.assertFunction=function(b,c,d){goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(b)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(b),b],c,Array.prototype.slice.call(arguments,2));return b};goog.asserts.assertObject=function(b,c,d){goog.asserts.ENABLE_ASSERTS&&!goog.isObject(b)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(b),b],c,Array.prototype.slice.call(arguments,2));return b};
goog.asserts.assertArray=function(b,c,d){goog.asserts.ENABLE_ASSERTS&&!goog.isArray(b)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(b),b],c,Array.prototype.slice.call(arguments,2));return b};goog.asserts.assertBoolean=function(b,c,d){goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(b)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(b),b],c,Array.prototype.slice.call(arguments,2));return b};
goog.asserts.assertInstanceof=function(b,c,d,e){goog.asserts.ENABLE_ASSERTS&&!(b instanceof c)&&goog.asserts.doAssertFailure_("instanceof check failed.",null,d,Array.prototype.slice.call(arguments,3))};goog.array={};goog.NATIVE_ARRAY_PROTOTYPES=!0;goog.array.peek=function(b){return b[b.length-1]};goog.array.ARRAY_PROTOTYPE_=Array.prototype;
goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.indexOf?function(b,c,d){goog.asserts.assert(null!=b.length);return goog.array.ARRAY_PROTOTYPE_.indexOf.call(b,c,d)}:function(b,c,d){d=null==d?0:0>d?Math.max(0,b.length+d):d;if(goog.isString(b))return!goog.isString(c)||1!=c.length?-1:b.indexOf(c,d);for(;d<b.length;d++)if(d in b&&b[d]===c)return d;return-1};
goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.lastIndexOf?function(b,c,d){goog.asserts.assert(null!=b.length);return goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(b,c,null==d?b.length-1:d)}:function(b,c,d){d=null==d?b.length-1:d;0>d&&(d=Math.max(0,b.length+d));if(goog.isString(b))return!goog.isString(c)||1!=c.length?-1:b.lastIndexOf(c,d);for(;0<=d;d--)if(d in b&&b[d]===c)return d;return-1};
goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.forEach?function(b,c,d){goog.asserts.assert(null!=b.length);goog.array.ARRAY_PROTOTYPE_.forEach.call(b,c,d)}:function(b,c,d){for(var e=b.length,f=goog.isString(b)?b.split(""):b,g=0;g<e;g++)g in f&&c.call(d,f[g],g,b)};goog.array.forEachRight=function(b,c,d){for(var e=b.length,f=goog.isString(b)?b.split(""):b,e=e-1;0<=e;--e)e in f&&c.call(d,f[e],e,b)};
goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.filter?function(b,c,d){goog.asserts.assert(null!=b.length);return goog.array.ARRAY_PROTOTYPE_.filter.call(b,c,d)}:function(b,c,d){for(var e=b.length,f=[],g=0,h=goog.isString(b)?b.split(""):b,i=0;i<e;i++)if(i in h){var j=h[i];c.call(d,j,i,b)&&(f[g++]=j)}return f};
goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.map?function(b,c,d){goog.asserts.assert(null!=b.length);return goog.array.ARRAY_PROTOTYPE_.map.call(b,c,d)}:function(b,c,d){for(var e=b.length,f=Array(e),g=goog.isString(b)?b.split(""):b,h=0;h<e;h++)h in g&&(f[h]=c.call(d,g[h],h,b));return f};goog.array.reduce=function(b,c,d,e){if(b.reduce)return e?b.reduce(goog.bind(c,e),d):b.reduce(c,d);var f=d;goog.array.forEach(b,function(d,h){f=c.call(e,f,d,h,b)});return f};
goog.array.reduceRight=function(b,c,d,e){if(b.reduceRight)return e?b.reduceRight(goog.bind(c,e),d):b.reduceRight(c,d);var f=d;goog.array.forEachRight(b,function(d,h){f=c.call(e,f,d,h,b)});return f};
goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.some?function(b,c,d){goog.asserts.assert(null!=b.length);return goog.array.ARRAY_PROTOTYPE_.some.call(b,c,d)}:function(b,c,d){for(var e=b.length,f=goog.isString(b)?b.split(""):b,g=0;g<e;g++)if(g in f&&c.call(d,f[g],g,b))return!0;return!1};
goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&goog.array.ARRAY_PROTOTYPE_.every?function(b,c,d){goog.asserts.assert(null!=b.length);return goog.array.ARRAY_PROTOTYPE_.every.call(b,c,d)}:function(b,c,d){for(var e=b.length,f=goog.isString(b)?b.split(""):b,g=0;g<e;g++)if(g in f&&!c.call(d,f[g],g,b))return!1;return!0};goog.array.find=function(b,c,d){c=goog.array.findIndex(b,c,d);return 0>c?null:goog.isString(b)?b.charAt(c):b[c]};
goog.array.findIndex=function(b,c,d){for(var e=b.length,f=goog.isString(b)?b.split(""):b,g=0;g<e;g++)if(g in f&&c.call(d,f[g],g,b))return g;return-1};goog.array.findRight=function(b,c,d){c=goog.array.findIndexRight(b,c,d);return 0>c?null:goog.isString(b)?b.charAt(c):b[c]};goog.array.findIndexRight=function(b,c,d){for(var e=b.length,f=goog.isString(b)?b.split(""):b,e=e-1;0<=e;e--)if(e in f&&c.call(d,f[e],e,b))return e;return-1};goog.array.contains=function(b,c){return 0<=goog.array.indexOf(b,c)};
goog.array.isEmpty=function(b){return 0==b.length};goog.array.clear=function(b){if(!goog.isArray(b))for(var c=b.length-1;0<=c;c--)delete b[c];b.length=0};goog.array.insert=function(b,c){goog.array.contains(b,c)||b.push(c)};goog.array.insertAt=function(b,c,d){goog.array.splice(b,d,0,c)};goog.array.insertArrayAt=function(b,c,d){goog.partial(goog.array.splice,b,d,0).apply(null,c)};
goog.array.insertBefore=function(b,c,d){var e;2==arguments.length||0>(e=goog.array.indexOf(b,d))?b.push(c):goog.array.insertAt(b,c,e)};goog.array.remove=function(b,c){var d=goog.array.indexOf(b,c),e;(e=0<=d)&&goog.array.removeAt(b,d);return e};goog.array.removeAt=function(b,c){goog.asserts.assert(null!=b.length);return 1==goog.array.ARRAY_PROTOTYPE_.splice.call(b,c,1).length};goog.array.removeIf=function(b,c,d){c=goog.array.findIndex(b,c,d);return 0<=c?(goog.array.removeAt(b,c),!0):!1};
goog.array.concat=function(b){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)};goog.array.toArray=function(b){var c=b.length;if(0<c){for(var d=Array(c),e=0;e<c;e++)d[e]=b[e];return d}return[]};goog.array.clone=goog.array.toArray;
goog.array.extend=function(b,c){for(var d=1;d<arguments.length;d++){var e=arguments[d],f;if(goog.isArray(e)||(f=goog.isArrayLike(e))&&e.hasOwnProperty("callee"))b.push.apply(b,e);else if(f)for(var g=b.length,h=e.length,i=0;i<h;i++)b[g+i]=e[i];else b.push(e)}};goog.array.splice=function(b,c,d,e){goog.asserts.assert(null!=b.length);return goog.array.ARRAY_PROTOTYPE_.splice.apply(b,goog.array.slice(arguments,1))};
goog.array.slice=function(b,c,d){goog.asserts.assert(null!=b.length);return 2>=arguments.length?goog.array.ARRAY_PROTOTYPE_.slice.call(b,c):goog.array.ARRAY_PROTOTYPE_.slice.call(b,c,d)};goog.array.removeDuplicates=function(b,c){for(var d=c||b,e={},f=0,g=0;g<b.length;){var h=b[g++],i=goog.isObject(h)?"o"+goog.getUid(h):(typeof h).charAt(0)+h;Object.prototype.hasOwnProperty.call(e,i)||(e[i]=!0,d[f++]=h)}d.length=f};
goog.array.binarySearch=function(b,c,d){return goog.array.binarySearch_(b,d||goog.array.defaultCompare,!1,c)};goog.array.binarySelect=function(b,c,d){return goog.array.binarySearch_(b,c,!0,void 0,d)};goog.array.binarySearch_=function(b,c,d,e,f){for(var g=0,h=b.length,i;g<h;){var j=g+h>>1,k;k=d?c.call(f,b[j],j,b):c(e,b[j]);0<k?g=j+1:(h=j,i=!k)}return i?g:~g};goog.array.sort=function(b,c){goog.asserts.assert(null!=b.length);goog.array.ARRAY_PROTOTYPE_.sort.call(b,c||goog.array.defaultCompare)};
goog.array.stableSort=function(b,c){for(var d=0;d<b.length;d++)b[d]={index:d,value:b[d]};var e=c||goog.array.defaultCompare;goog.array.sort(b,function(b,c){return e(b.value,c.value)||b.index-c.index});for(d=0;d<b.length;d++)b[d]=b[d].value};goog.array.sortObjectsByKey=function(b,c,d){var e=d||goog.array.defaultCompare;goog.array.sort(b,function(b,d){return e(b[c],d[c])})};
goog.array.isSorted=function(b,c,d){for(var c=c||goog.array.defaultCompare,e=1;e<b.length;e++){var f=c(b[e-1],b[e]);if(0<f||0==f&&d)return!1}return!0};goog.array.equals=function(b,c,d){if(!goog.isArrayLike(b)||!goog.isArrayLike(c)||b.length!=c.length)return!1;for(var e=b.length,d=d||goog.array.defaultCompareEquality,f=0;f<e;f++)if(!d(b[f],c[f]))return!1;return!0};goog.array.compare=function(b,c,d){return goog.array.equals(b,c,d)};
goog.array.compare3=function(b,c,d){for(var d=d||goog.array.defaultCompare,e=Math.min(b.length,c.length),f=0;f<e;f++){var g=d(b[f],c[f]);if(0!=g)return g}return goog.array.defaultCompare(b.length,c.length)};goog.array.defaultCompare=function(b,c){return b>c?1:b<c?-1:0};goog.array.defaultCompareEquality=function(b,c){return b===c};goog.array.binaryInsert=function(b,c,d){d=goog.array.binarySearch(b,c,d);return 0>d?(goog.array.insertAt(b,c,-(d+1)),!0):!1};
goog.array.binaryRemove=function(b,c,d){c=goog.array.binarySearch(b,c,d);return 0<=c?goog.array.removeAt(b,c):!1};goog.array.bucket=function(b,c){for(var d={},e=0;e<b.length;e++){var f=b[e],g=c(f,e,b);goog.isDef(g)&&(d[g]||(d[g]=[])).push(f)}return d};goog.array.repeat=function(b,c){for(var d=[],e=0;e<c;e++)d[e]=b;return d};goog.array.flatten=function(b){for(var c=[],d=0;d<arguments.length;d++){var e=arguments[d];goog.isArray(e)?c.push.apply(c,goog.array.flatten.apply(null,e)):c.push(e)}return c};
goog.array.rotate=function(b,c){goog.asserts.assert(null!=b.length);b.length&&(c%=b.length,0<c?goog.array.ARRAY_PROTOTYPE_.unshift.apply(b,b.splice(-c,c)):0>c&&goog.array.ARRAY_PROTOTYPE_.push.apply(b,b.splice(0,-c)));return b};goog.array.zip=function(b){if(!arguments.length)return[];for(var c=[],d=0;;d++){for(var e=[],f=0;f<arguments.length;f++){var g=arguments[f];if(d>=g.length)return c;e.push(g[d])}c.push(e)}};
goog.array.shuffle=function(b,c){for(var d=c||Math.random,e=b.length-1;0<e;e--){var f=Math.floor(d()*(e+1)),g=b[e];b[e]=b[f];b[f]=g}};goog.dom={};goog.dom.classes={};goog.dom.classes.set=function(b,c){b.className=c};goog.dom.classes.get=function(b){b=b.className;return goog.isString(b)&&b.match(/\S+/g)||[]};goog.dom.classes.add=function(b,c){var d=goog.dom.classes.get(b),e=goog.array.slice(arguments,1),f=d.length+e.length;goog.dom.classes.add_(d,e);b.className=d.join(" ");return d.length==f};
goog.dom.classes.remove=function(b,c){var d=goog.dom.classes.get(b),e=goog.array.slice(arguments,1),f=goog.dom.classes.getDifference_(d,e);b.className=f.join(" ");return f.length==d.length-e.length};goog.dom.classes.add_=function(b,c){for(var d=0;d<c.length;d++)goog.array.contains(b,c[d])||b.push(c[d])};goog.dom.classes.getDifference_=function(b,c){return goog.array.filter(b,function(b){return!goog.array.contains(c,b)})};
goog.dom.classes.swap=function(b,c,d){for(var e=goog.dom.classes.get(b),f=!1,g=0;g<e.length;g++)e[g]==c&&(goog.array.splice(e,g--,1),f=!0);f&&(e.push(d),b.className=e.join(" "));return f};goog.dom.classes.addRemove=function(b,c,d){var e=goog.dom.classes.get(b);goog.isString(c)?goog.array.remove(e,c):goog.isArray(c)&&(e=goog.dom.classes.getDifference_(e,c));goog.isString(d)&&!goog.array.contains(e,d)?e.push(d):goog.isArray(d)&&goog.dom.classes.add_(e,d);b.className=e.join(" ")};
goog.dom.classes.has=function(b,c){return goog.array.contains(goog.dom.classes.get(b),c)};goog.dom.classes.enable=function(b,c,d){d?goog.dom.classes.add(b,c):goog.dom.classes.remove(b,c)};goog.dom.classes.toggle=function(b,c){var d=!goog.dom.classes.has(b,c);goog.dom.classes.enable(b,c,d);return d};goog.object={};goog.object.forEach=function(b,c,d){for(var e in b)c.call(d,b[e],e,b)};goog.object.filter=function(b,c,d){var e={},f;for(f in b)c.call(d,b[f],f,b)&&(e[f]=b[f]);return e};goog.object.map=function(b,c,d){var e={},f;for(f in b)e[f]=c.call(d,b[f],f,b);return e};goog.object.some=function(b,c,d){for(var e in b)if(c.call(d,b[e],e,b))return!0;return!1};goog.object.every=function(b,c,d){for(var e in b)if(!c.call(d,b[e],e,b))return!1;return!0};
goog.object.getCount=function(b){var c=0,d;for(d in b)c++;return c};goog.object.getAnyKey=function(b){for(var c in b)return c};goog.object.getAnyValue=function(b){for(var c in b)return b[c]};goog.object.contains=function(b,c){return goog.object.containsValue(b,c)};goog.object.getValues=function(b){var c=[],d=0,e;for(e in b)c[d++]=b[e];return c};goog.object.getKeys=function(b){var c=[],d=0,e;for(e in b)c[d++]=e;return c};
goog.object.getValueByKeys=function(b,c){for(var d=goog.isArrayLike(c),e=d?c:arguments,d=d?0:1;d<e.length&&!(b=b[e[d]],!goog.isDef(b));d++);return b};goog.object.containsKey=function(b,c){return c in b};goog.object.containsValue=function(b,c){for(var d in b)if(b[d]==c)return!0;return!1};goog.object.findKey=function(b,c,d){for(var e in b)if(c.call(d,b[e],e,b))return e};goog.object.findValue=function(b,c,d){return(c=goog.object.findKey(b,c,d))&&b[c]};
goog.object.isEmpty=function(b){for(var c in b)return!1;return!0};goog.object.clear=function(b){for(var c in b)delete b[c]};goog.object.remove=function(b,c){var d;(d=c in b)&&delete b[c];return d};goog.object.add=function(b,c,d){if(c in b)throw Error('The object already contains the key "'+c+'"');goog.object.set(b,c,d)};goog.object.get=function(b,c,d){return c in b?b[c]:d};goog.object.set=function(b,c,d){b[c]=d};goog.object.setIfUndefined=function(b,c,d){return c in b?b[c]:b[c]=d};
goog.object.clone=function(b){var c={},d;for(d in b)c[d]=b[d];return c};goog.object.unsafeClone=function(b){var c=goog.typeOf(b);if("object"==c||"array"==c){if(b.clone)return b.clone();var c="array"==c?[]:{},d;for(d in b)c[d]=goog.object.unsafeClone(b[d]);return c}return b};goog.object.transpose=function(b){var c={},d;for(d in b)c[b[d]]=d;return c};goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
goog.object.extend=function(b,c){for(var d,e,f=1;f<arguments.length;f++){e=arguments[f];for(d in e)b[d]=e[d];for(var g=0;g<goog.object.PROTOTYPE_FIELDS_.length;g++)d=goog.object.PROTOTYPE_FIELDS_[g],Object.prototype.hasOwnProperty.call(e,d)&&(b[d]=e[d])}};
goog.object.create=function(b){var c=arguments.length;if(1==c&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(c%2)throw Error("Uneven number of arguments");for(var d={},e=0;e<c;e+=2)d[arguments[e]]=arguments[e+1];return d};goog.object.createSet=function(b){var c=arguments.length;if(1==c&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var d={},e=0;e<c;e++)d[arguments[e]]=!0;return d};goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",DD:"DD",DEL:"DEL",DFN:"DFN",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",FIELDSET:"FIELDSET",FONT:"FONT",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",
H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MENU:"MENU",META:"META",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",P:"P",PARAM:"PARAM",PRE:"PRE",Q:"Q",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SELECT:"SELECT",SMALL:"SMALL",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUP:"SUP",
TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TITLE:"TITLE",TR:"TR",TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO"};goog.userAgent={};goog.userAgent.ASSUME_IE=!1;goog.userAgent.ASSUME_GECKO=!1;goog.userAgent.ASSUME_WEBKIT=!0;goog.userAgent.ASSUME_MOBILE_WEBKIT=!0;goog.userAgent.ASSUME_OPERA=!1;goog.userAgent.ASSUME_ANY_VERSION=!1;goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA;
goog.userAgent.getUserAgentString=function(){return goog.global.navigator?goog.global.navigator.userAgent:null};goog.userAgent.getNavigator=function(){return goog.global.navigator};
goog.userAgent.init_=function(){goog.userAgent.detectedOpera_=!1;goog.userAgent.detectedIe_=!1;goog.userAgent.detectedWebkit_=!1;goog.userAgent.detectedMobile_=!1;goog.userAgent.detectedGecko_=!1;var b;if(!goog.userAgent.BROWSER_KNOWN_&&(b=goog.userAgent.getUserAgentString())){var c=goog.userAgent.getNavigator();goog.userAgent.detectedOpera_=0==b.indexOf("Opera");goog.userAgent.detectedIe_=!goog.userAgent.detectedOpera_&&-1!=b.indexOf("MSIE");goog.userAgent.detectedWebkit_=!goog.userAgent.detectedOpera_&&
-1!=b.indexOf("WebKit");goog.userAgent.detectedMobile_=goog.userAgent.detectedWebkit_&&-1!=b.indexOf("Mobile");goog.userAgent.detectedGecko_=!goog.userAgent.detectedOpera_&&!goog.userAgent.detectedWebkit_&&"Gecko"==c.product}};goog.userAgent.BROWSER_KNOWN_||goog.userAgent.init_();goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.userAgent.detectedOpera_;goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.userAgent.detectedIe_;
goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.userAgent.detectedGecko_;goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.userAgent.detectedWebkit_;goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.detectedMobile_;goog.userAgent.SAFARI=goog.userAgent.WEBKIT;goog.userAgent.determinePlatform_=function(){var b=goog.userAgent.getNavigator();return b&&b.platform||""};
goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_();goog.userAgent.ASSUME_MAC=!1;goog.userAgent.ASSUME_WINDOWS=!1;goog.userAgent.ASSUME_LINUX=!1;goog.userAgent.ASSUME_X11=!1;goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11;
goog.userAgent.initPlatform_=function(){goog.userAgent.detectedMac_=goog.string.contains(goog.userAgent.PLATFORM,"Mac");goog.userAgent.detectedWindows_=goog.string.contains(goog.userAgent.PLATFORM,"Win");goog.userAgent.detectedLinux_=goog.string.contains(goog.userAgent.PLATFORM,"Linux");goog.userAgent.detectedX11_=!!goog.userAgent.getNavigator()&&goog.string.contains(goog.userAgent.getNavigator().appVersion||"","X11")};goog.userAgent.PLATFORM_KNOWN_||goog.userAgent.initPlatform_();
goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.userAgent.detectedMac_;goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.userAgent.detectedWindows_;goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.detectedLinux_;goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.detectedX11_;
goog.userAgent.determineVersion_=function(){var b="",c;goog.userAgent.OPERA&&goog.global.opera?(b=goog.global.opera.version,b="function"==typeof b?b():b):(goog.userAgent.GECKO?c=/rv\:([^\);]+)(\)|;)/:goog.userAgent.IE?c=/MSIE\s+([^\);]+)(\)|;)/:goog.userAgent.WEBKIT&&(c=/WebKit\/(\S+)/),c&&(b=(b=c.exec(goog.userAgent.getUserAgentString()))?b[1]:""));return goog.userAgent.IE&&(c=goog.userAgent.getDocumentMode_(),c>parseFloat(b))?""+c:b};
goog.userAgent.getDocumentMode_=function(){var b=goog.global.document;return b?b.documentMode:void 0};goog.userAgent.VERSION=goog.userAgent.determineVersion_();goog.userAgent.compare=function(b,c){return goog.string.compareVersions(b,c)};goog.userAgent.isVersionCache_={};goog.userAgent.isVersion=function(b){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionCache_[b]||(goog.userAgent.isVersionCache_[b]=0<=goog.string.compareVersions(goog.userAgent.VERSION,b))};
goog.userAgent.isDocumentModeCache_={};goog.userAgent.isDocumentMode=function(b){return goog.userAgent.isDocumentModeCache_[b]||(goog.userAgent.isDocumentModeCache_[b]=goog.userAgent.IE&&!!document.documentMode&&document.documentMode>=b)};goog.math={};goog.math.Size=function(b,c){this.width=b;this.height=c};goog.math.Size.equals=function(b,c){return b==c?!0:!b||!c?!1:b.width==c.width&&b.height==c.height};goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)};goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"});goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)};
goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)};goog.math.Size.prototype.area=function(){return this.width*this.height};goog.math.Size.prototype.perimeter=function(){return(this.width+this.height)*2};goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height};goog.math.Size.prototype.isEmpty=function(){return!this.area()};goog.math.Size.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
goog.math.Size.prototype.fitsInside=function(b){return this.width<=b.width&&this.height<=b.height};goog.math.Size.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};goog.math.Size.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};goog.math.Size.prototype.scale=function(b){this.width=this.width*b;this.height=this.height*b;return this};
goog.math.Size.prototype.scaleToFit=function(b){return this.scale(this.aspectRatio()>b.aspectRatio()?b.width/this.width:b.height/this.height)};goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentMode(9)||goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersion("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE};goog.math.Coordinate=function(b,c){this.x=goog.isDef(b)?b:0;this.y=goog.isDef(c)?c:0};goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)};goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"});goog.math.Coordinate.equals=function(b,c){return b==c?true:!b||!c?false:b.x==c.x&&b.y==c.y};goog.math.Coordinate.distance=function(b,c){var d=b.x-c.x,e=b.y-c.y;return Math.sqrt(d*d+e*e)};
goog.math.Coordinate.squaredDistance=function(b,c){var d=b.x-c.x,e=b.y-c.y;return d*d+e*e};goog.math.Coordinate.difference=function(b,c){return new goog.math.Coordinate(b.x-c.x,b.y-c.y)};goog.math.Coordinate.sum=function(b,c){return new goog.math.Coordinate(b.x+c.x,b.y+c.y)};goog.dom.ASSUME_QUIRKS_MODE=!1;goog.dom.ASSUME_STANDARDS_MODE=!1;goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE;goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};goog.dom.getDomHelper=function(b){return b?new goog.dom.DomHelper(goog.dom.getOwnerDocument(b)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)};
goog.dom.getDocument=function(){return document};goog.dom.getElement=function(b){return goog.isString(b)?document.getElementById(b):b};goog.dom.$=goog.dom.getElement;goog.dom.getElementsByTagNameAndClass=function(b,c,d){return goog.dom.getElementsByTagNameAndClass_(document,b,c,d)};
goog.dom.getElementsByClass=function(b,c){var d=c||document;return goog.dom.canUseQuerySelector_(d)?d.querySelectorAll("."+b):d.getElementsByClassName?d.getElementsByClassName(b):goog.dom.getElementsByTagNameAndClass_(document,"*",b,c)};goog.dom.getElementByClass=function(b,c){var d=c||document,e=null;return(e=goog.dom.canUseQuerySelector_(d)?d.querySelector("."+b):goog.dom.getElementsByClass(b,c)[0])||null};goog.dom.canUseQuerySelector_=function(b){return!(!b.querySelectorAll||!b.querySelector)};
goog.dom.getElementsByTagNameAndClass_=function(b,c,d,e){b=e||b;c=c&&"*"!=c?c.toUpperCase():"";if(goog.dom.canUseQuerySelector_(b)&&(c||d))return b.querySelectorAll(c+(d?"."+d:""));if(d&&b.getElementsByClassName){b=b.getElementsByClassName(d);if(c){for(var e={},f=0,g=0,h;h=b[g];g++)c==h.nodeName&&(e[f++]=h);e.length=f;return e}return b}b=b.getElementsByTagName(c||"*");if(d){e={};for(g=f=0;h=b[g];g++)c=h.className,"function"==typeof c.split&&goog.array.contains(c.split(/\s+/),d)&&(e[f++]=h);e.length=
f;return e}return b};goog.dom.$$=goog.dom.getElementsByTagNameAndClass;goog.dom.setProperties=function(b,c){goog.object.forEach(c,function(c,e){"style"==e?b.style.cssText=c:"class"==e?b.className=c:"for"==e?b.htmlFor=c:e in goog.dom.DIRECT_ATTRIBUTE_MAP_?b.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[e],c):goog.string.startsWith(e,"aria-")?b.setAttribute(e,c):b[e]=c})};
goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};goog.dom.getViewportSize=function(b){return goog.dom.getViewportSize_(b||window)};goog.dom.getViewportSize_=function(b){b=b.document;b=goog.dom.isCss1CompatMode_(b)?b.documentElement:b.body;return new goog.math.Size(b.clientWidth,b.clientHeight)};
goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)};goog.dom.getDocumentHeight_=function(b){var c=b.document,d=0;if(c){var b=goog.dom.getViewportSize_(b).height,d=c.body,e=c.documentElement;if(goog.dom.isCss1CompatMode_(c)&&e.scrollHeight)d=e.scrollHeight!=b?e.scrollHeight:e.offsetHeight;else{var c=e.scrollHeight,f=e.offsetHeight;e.clientHeight!=f&&(c=d.scrollHeight,f=d.offsetHeight);d=c>b?c>f?c:f:c<f?c:f}}return d};
goog.dom.getPageScroll=function(b){return goog.dom.getDomHelper((b||goog.global||window).document).getDocumentScroll()};goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)};goog.dom.getDocumentScroll_=function(b){var c=goog.dom.getDocumentScrollElement_(b),b=goog.dom.getWindow_(b);return new goog.math.Coordinate(b.pageXOffset||c.scrollLeft,b.pageYOffset||c.scrollTop)};goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)};
goog.dom.getDocumentScrollElement_=function(b){return!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(b)?b.documentElement:b.body};goog.dom.getWindow=function(b){return b?goog.dom.getWindow_(b):window};goog.dom.getWindow_=function(b){return b.parentWindow||b.defaultView};goog.dom.createDom=function(b,c,d){return goog.dom.createDom_(document,arguments)};
goog.dom.createDom_=function(b,c){var d=c[0],e=c[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&e&&(e.name||e.type)){d=["<",d];e.name&&d.push(' name="',goog.string.htmlEscape(e.name),'"');if(e.type){d.push(' type="',goog.string.htmlEscape(e.type),'"');var f={};goog.object.extend(f,e);e=f;delete e.type}d.push(">");d=d.join("")}d=b.createElement(d);e&&(goog.isString(e)?d.className=e:goog.isArray(e)?goog.dom.classes.add.apply(null,[d].concat(e)):goog.dom.setProperties(d,e));2<c.length&&
goog.dom.append_(b,d,c,2);return d};goog.dom.append_=function(b,c,d,e){function f(d){d&&c.appendChild(goog.isString(d)?b.createTextNode(d):d)}for(;e<d.length;e++){var g=d[e];goog.isArrayLike(g)&&!goog.dom.isNodeLike(g)?goog.array.forEach(goog.dom.isNodeList(g)?goog.array.toArray(g):g,f):f(g)}};goog.dom.$dom=goog.dom.createDom;goog.dom.createElement=function(b){return document.createElement(b)};goog.dom.createTextNode=function(b){return document.createTextNode(b)};
goog.dom.createTable=function(b,c,d){return goog.dom.createTable_(document,b,c,!!d)};goog.dom.createTable_=function(b,c,d,e){for(var f=["<tr>"],g=0;g<d;g++)f.push(e?"<td>&nbsp;</td>":"<td></td>");f.push("</tr>");f=f.join("");d=["<table>"];for(g=0;g<c;g++)d.push(f);d.push("</table>");b=b.createElement(goog.dom.TagName.DIV);b.innerHTML=d.join("");return b.removeChild(b.firstChild)};goog.dom.htmlToDocumentFragment=function(b){return goog.dom.htmlToDocumentFragment_(document,b)};
goog.dom.htmlToDocumentFragment_=function(b,c){var d=b.createElement("div");goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(d.innerHTML="<br>"+c,d.removeChild(d.firstChild)):d.innerHTML=c;if(1==d.childNodes.length)return d.removeChild(d.firstChild);for(var e=b.createDocumentFragment();d.firstChild;)e.appendChild(d.firstChild);return e};goog.dom.getCompatMode=function(){return goog.dom.isCss1CompatMode()?"CSS1Compat":"BackCompat"};goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)};
goog.dom.isCss1CompatMode_=function(b){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==b.compatMode};goog.dom.canHaveChildren=function(b){if(b.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(b.tagName){case goog.dom.TagName.APPLET:case goog.dom.TagName.AREA:case goog.dom.TagName.BASE:case goog.dom.TagName.BR:case goog.dom.TagName.COL:case goog.dom.TagName.FRAME:case goog.dom.TagName.HR:case goog.dom.TagName.IMG:case goog.dom.TagName.INPUT:case goog.dom.TagName.IFRAME:case goog.dom.TagName.ISINDEX:case goog.dom.TagName.LINK:case goog.dom.TagName.NOFRAMES:case goog.dom.TagName.NOSCRIPT:case goog.dom.TagName.META:case goog.dom.TagName.OBJECT:case goog.dom.TagName.PARAM:case goog.dom.TagName.SCRIPT:case goog.dom.TagName.STYLE:return!1}return!0};
goog.dom.appendChild=function(b,c){b.appendChild(c)};goog.dom.append=function(b,c){goog.dom.append_(goog.dom.getOwnerDocument(b),b,arguments,1)};goog.dom.removeChildren=function(b){for(var c;c=b.firstChild;)b.removeChild(c)};goog.dom.insertSiblingBefore=function(b,c){c.parentNode&&c.parentNode.insertBefore(b,c)};goog.dom.insertSiblingAfter=function(b,c){c.parentNode&&c.parentNode.insertBefore(b,c.nextSibling)};goog.dom.insertChildAt=function(b,c,d){b.insertBefore(c,b.childNodes[d]||null)};
goog.dom.removeNode=function(b){return b&&b.parentNode?b.parentNode.removeChild(b):null};goog.dom.replaceNode=function(b,c){var d=c.parentNode;d&&d.replaceChild(b,c)};goog.dom.flattenElement=function(b){var c,d=b.parentNode;if(d&&d.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(b.removeNode)return b.removeNode(!1);for(;c=b.firstChild;)d.insertBefore(c,b);return goog.dom.removeNode(b)}};
goog.dom.getChildren=function(b){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&void 0!=b.children?b.children:goog.array.filter(b.childNodes,function(b){return b.nodeType==goog.dom.NodeType.ELEMENT})};goog.dom.getFirstElementChild=function(b){return void 0!=b.firstElementChild?b.firstElementChild:goog.dom.getNextElementNode_(b.firstChild,!0)};goog.dom.getLastElementChild=function(b){return void 0!=b.lastElementChild?b.lastElementChild:goog.dom.getNextElementNode_(b.lastChild,!1)};
goog.dom.getNextElementSibling=function(b){return void 0!=b.nextElementSibling?b.nextElementSibling:goog.dom.getNextElementNode_(b.nextSibling,!0)};goog.dom.getPreviousElementSibling=function(b){return void 0!=b.previousElementSibling?b.previousElementSibling:goog.dom.getNextElementNode_(b.previousSibling,!1)};goog.dom.getNextElementNode_=function(b,c){for(;b&&b.nodeType!=goog.dom.NodeType.ELEMENT;)b=c?b.nextSibling:b.previousSibling;return b};
goog.dom.getNextNode=function(b){if(!b)return null;if(b.firstChild)return b.firstChild;for(;b&&!b.nextSibling;)b=b.parentNode;return b?b.nextSibling:null};goog.dom.getPreviousNode=function(b){if(!b)return null;if(!b.previousSibling)return b.parentNode;for(b=b.previousSibling;b&&b.lastChild;)b=b.lastChild;return b};goog.dom.isNodeLike=function(b){return goog.isObject(b)&&0<b.nodeType};goog.dom.isElement=function(b){return goog.isObject(b)&&b.nodeType==goog.dom.NodeType.ELEMENT};
goog.dom.isWindow=function(b){return goog.isObject(b)&&b.window==b};goog.dom.getParentElement=function(b){if(goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY)return b.parentElement;b=b.parentNode;return goog.dom.isElement(b)?b:null};goog.dom.contains=function(b,c){if(b.contains&&c.nodeType==goog.dom.NodeType.ELEMENT)return b==c||b.contains(c);if("undefined"!=typeof b.compareDocumentPosition)return b==c||Boolean(b.compareDocumentPosition(c)&16);for(;c&&b!=c;)c=c.parentNode;return c==b};
goog.dom.compareNodeOrder=function(b,c){if(b==c)return 0;if(b.compareDocumentPosition)return b.compareDocumentPosition(c)&2?1:-1;if("sourceIndex"in b||b.parentNode&&"sourceIndex"in b.parentNode){var d=b.nodeType==goog.dom.NodeType.ELEMENT,e=c.nodeType==goog.dom.NodeType.ELEMENT;if(d&&e)return b.sourceIndex-c.sourceIndex;var f=b.parentNode,g=c.parentNode;return f==g?goog.dom.compareSiblingOrder_(b,c):!d&&goog.dom.contains(f,c)?-1*goog.dom.compareParentsDescendantNodeIe_(b,c):!e&&goog.dom.contains(g,
b)?goog.dom.compareParentsDescendantNodeIe_(c,b):(d?b.sourceIndex:f.sourceIndex)-(e?c.sourceIndex:g.sourceIndex)}e=goog.dom.getOwnerDocument(b);d=e.createRange();d.selectNode(b);d.collapse(!0);e=e.createRange();e.selectNode(c);e.collapse(!0);return d.compareBoundaryPoints(goog.global.Range.START_TO_END,e)};goog.dom.compareParentsDescendantNodeIe_=function(b,c){var d=b.parentNode;if(d==c)return-1;for(var e=c;e.parentNode!=d;)e=e.parentNode;return goog.dom.compareSiblingOrder_(e,b)};
goog.dom.compareSiblingOrder_=function(b,c){for(var d=c;d=d.previousSibling;)if(d==b)return-1;return 1};goog.dom.findCommonAncestor=function(b){var c,d=arguments.length;if(d){if(1==d)return arguments[0]}else return null;var e=[],f=Infinity;for(c=0;c<d;c++){for(var g=[],h=arguments[c];h;)g.unshift(h),h=h.parentNode;e.push(g);f=Math.min(f,g.length)}g=null;for(c=0;c<f;c++){for(var h=e[0][c],i=1;i<d;i++)if(h!=e[i][c])return g;g=h}return g};
goog.dom.getOwnerDocument=function(b){return b.nodeType==goog.dom.NodeType.DOCUMENT?b:b.ownerDocument||b.document};goog.dom.getFrameContentDocument=function(b){return b.contentDocument||b.contentWindow.document};goog.dom.getFrameContentWindow=function(b){return b.contentWindow||goog.dom.getWindow_(goog.dom.getFrameContentDocument(b))};
goog.dom.setTextContent=function(b,c){if("textContent"in b)b.textContent=c;else if(b.firstChild&&b.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;b.lastChild!=b.firstChild;)b.removeChild(b.lastChild);b.firstChild.data=c}else{goog.dom.removeChildren(b);var d=goog.dom.getOwnerDocument(b);b.appendChild(d.createTextNode(c))}};goog.dom.getOuterHtml=function(b){if("outerHTML"in b)return b.outerHTML;var c=goog.dom.getOwnerDocument(b).createElement("div");c.appendChild(b.cloneNode(!0));return c.innerHTML};
goog.dom.findNode=function(b,c){var d=[];return goog.dom.findNodes_(b,c,d,!0)?d[0]:void 0};goog.dom.findNodes=function(b,c){var d=[];goog.dom.findNodes_(b,c,d,!1);return d};goog.dom.findNodes_=function(b,c,d,e){if(null!=b)for(b=b.firstChild;b;){if(c(b)&&(d.push(b),e)||goog.dom.findNodes_(b,c,d,e))return!0;b=b.nextSibling}return!1};goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1};goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"};
goog.dom.isFocusableTabIndex=function(b){var c=b.getAttributeNode("tabindex");return c&&c.specified?(b=b.tabIndex,goog.isNumber(b)&&0<=b&&32768>b):!1};goog.dom.setFocusableTabIndex=function(b,c){c?b.tabIndex=0:(b.tabIndex=-1,b.removeAttribute("tabIndex"))};
goog.dom.getTextContent=function(b){if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&"innerText"in b)b=goog.string.canonicalizeNewlines(b.innerText);else{var c=[];goog.dom.getTextContent_(b,c,!0);b=c.join("")}b=b.replace(/ \xAD /g," ").replace(/\xAD/g,"");b=b.replace(/\u200B/g,"");goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(b=b.replace(/ +/g," "));" "!=b&&(b=b.replace(/^\s*/,""));return b};goog.dom.getRawTextContent=function(b){var c=[];goog.dom.getTextContent_(b,c,!1);return c.join("")};
goog.dom.getTextContent_=function(b,c,d){if(!(b.nodeName in goog.dom.TAGS_TO_IGNORE_))if(b.nodeType==goog.dom.NodeType.TEXT)d?c.push((""+b.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(b.nodeValue);else if(b.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)c.push(goog.dom.PREDEFINED_TAG_VALUES_[b.nodeName]);else for(b=b.firstChild;b;)goog.dom.getTextContent_(b,c,d),b=b.nextSibling};goog.dom.getNodeTextLength=function(b){return goog.dom.getTextContent(b).length};
goog.dom.getNodeTextOffset=function(b,c){for(var d=c||goog.dom.getOwnerDocument(b).body,e=[];b&&b!=d;){for(var f=b;f=f.previousSibling;)e.unshift(goog.dom.getTextContent(f));b=b.parentNode}return goog.string.trimLeft(e.join("")).replace(/ +/g," ").length};
goog.dom.getNodeAtOffset=function(b,c,d){for(var b=[b],e=0,f;0<b.length&&e<c;)if(f=b.pop(),!(f.nodeName in goog.dom.TAGS_TO_IGNORE_))if(f.nodeType==goog.dom.NodeType.TEXT)var g=f.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," "),e=e+g.length;else if(f.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)e+=goog.dom.PREDEFINED_TAG_VALUES_[f.nodeName].length;else for(g=f.childNodes.length-1;0<=g;g--)b.push(f.childNodes[g]);goog.isObject(d)&&(d.remainder=f?f.nodeValue.length+c-e-1:0,d.node=f);return f};
goog.dom.isNodeList=function(b){if(b&&"number"==typeof b.length){if(goog.isObject(b))return"function"==typeof b.item||"string"==typeof b.item;if(goog.isFunction(b))return"function"==typeof b.item}return!1};goog.dom.getAncestorByTagNameAndClass=function(b,c,d){if(!c&&!d)return null;var e=c?c.toUpperCase():null;return goog.dom.getAncestor(b,function(b){return(!e||b.nodeName==e)&&(!d||goog.dom.classes.has(b,d))},!0)};
goog.dom.getAncestorByClass=function(b,c){return goog.dom.getAncestorByTagNameAndClass(b,null,c)};goog.dom.getAncestor=function(b,c,d,e){d||(b=b.parentNode);for(var d=null==e,f=0;b&&(d||f<=e);){if(c(b))return b;b=b.parentNode;f++}return null};goog.dom.getActiveElement=function(b){try{return b&&b.activeElement}catch(c){}return null};goog.dom.DomHelper=function(b){this.document_=b||goog.global.document||document};goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper;
goog.dom.DomHelper.prototype.setDocument=function(b){this.document_=b};goog.dom.DomHelper.prototype.getDocument=function(){return this.document_};goog.dom.DomHelper.prototype.getElement=function(b){return goog.isString(b)?this.document_.getElementById(b):b};goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement;goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(b,c,d){return goog.dom.getElementsByTagNameAndClass_(this.document_,b,c,d)};
goog.dom.DomHelper.prototype.getElementsByClass=function(b,c){return goog.dom.getElementsByClass(b,c||this.document_)};goog.dom.DomHelper.prototype.getElementByClass=function(b,c){return goog.dom.getElementByClass(b,c||this.document_)};goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties;goog.dom.DomHelper.prototype.getViewportSize=function(b){return goog.dom.getViewportSize(b||this.getWindow())};
goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())};goog.dom.DomHelper.prototype.createDom=function(b,c,d){return goog.dom.createDom_(this.document_,arguments)};goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom;goog.dom.DomHelper.prototype.createElement=function(b){return this.document_.createElement(b)};goog.dom.DomHelper.prototype.createTextNode=function(b){return this.document_.createTextNode(b)};
goog.dom.DomHelper.prototype.createTable=function(b,c,d){return goog.dom.createTable_(this.document_,b,c,!!d)};goog.dom.DomHelper.prototype.htmlToDocumentFragment=function(b){return goog.dom.htmlToDocumentFragment_(this.document_,b)};goog.dom.DomHelper.prototype.getCompatMode=function(){return this.isCss1CompatMode()?"CSS1Compat":"BackCompat"};goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)};goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)};
goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)};goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)};goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild;goog.dom.DomHelper.prototype.append=goog.dom.append;goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren;goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore;
goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter;goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode;goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode;goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement;goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild;goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild;goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling;
goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling;goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode;goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode;goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike;goog.dom.DomHelper.prototype.contains=goog.dom.contains;goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument;goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument;
goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow;goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent;goog.dom.DomHelper.prototype.findNode=goog.dom.findNode;goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes;goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent;goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength;goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset;
goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass;goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass;goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor;var a={Globals:{}};a.Globals.AVATAR_PATH="/images/_avatars/01/";a.Globals.AVATAR_FACES="nice punk nerd smooth rough evil".split(" ");
a.Globals.AVATAR_COLORS=[{id:"01",clr:"#EB3582",css:"checked"},{id:"02",clr:"#EC3430",css:""},{id:"03",clr:"#EC7E23",css:""},{id:"04",clr:"#15B1A1",css:""},{id:"05",clr:"#1898BE",css:""},{id:"06",clr:"#6960CF",css:""},{id:"07",clr:"#A2B000",css:""},{id:"08",clr:"#57B22E",css:""},{id:"09",clr:"#31897C",css:""},{id:"10",clr:"#1556C0",css:""},{id:"11",clr:"#603CCD",css:""},{id:"12",clr:"#424242",css:""}];
a.Globals.AVATAR_COLORS.get=function(b){for(var c=0;c<a.Globals.AVATAR_COLORS.length;c++)if(b===a.Globals.AVATAR_COLORS[c].id)return a.Globals.AVATAR_COLORS[c].clr;return null};a.Globals.MONTHS=[{id:"01",text:"January"},{id:"02",text:"February"},{id:"03",text:"March"},{id:"04",text:"April"},{id:"05",text:"May"},{id:"06",text:"June"},{id:"07",text:"July"},{id:"08",text:"August"},{id:"09",text:"September"},{id:"10",text:"October"},{id:"11",text:"November"},{id:"12",text:"December"}];
a.Globals.AVATAR_DEFAULT_COLOR="01";a.Globals.AVATAR_DEFAULT_FACE="nice";a.Globals.GAME_FEAT_1="smc";a.Globals.MENU_WIDTH=50;var aa={getType:function(b){return null===b?"[object Null]":Object.prototype.toString.call(b)},stackTrace:function(){try{x++}catch(b){return b.stack}},prefetchImages:function(b){for(var c=0;c<b.length;c++)(new Image).src=aa.retinaUrl(b[c])},retinaUrl:function(b){aa.isRetina()&&!aa.isEmpty(b)&&(b=b.replace(".png","_2.png"),b=b.replace(".jpg","_2.jpg"));return b},isFunc:function(b){return b&&"function"===typeof b},isString:function(b){return"string"===typeof b||b instanceof String},validateEmail:function(b){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(b)},
isTouchSupported:function(){if(aa.isTouchSupported_)return aa.isTouchSupported_;aa.isTouchSupported_="ontouchstart"in document.documentElement;return aa.isTouchSupported_},supportOrientation:function(){return"onorientationchange"in window},supportOnlineOffline:function(){return"onLine"in navigator},isLandscapeOrientation:function(){var b=goog.dom.getViewportSize();return b.width>b.height},fixViewportHeightAndroid:function(){log("aa::fixViewportHeightAndroid");var b=goog.dom.getElement(a.Id.AG_kbd);
aa.isNull(b)||(aa.isAndroid()?setTimeout(function(){jq(b).css("height","16px")},2E3):jq(b).css("height","16px"))},isLocalhost:function(){if(aa.isLocalhost_)return aa.isLocalhost_;aa.isLocalhost_=window.location.href.match(/localhost/i);return aa.isLocalhost_},isAndroid:function(){if(aa.isAndroid_)return aa.isAndroid_;aa.isAndroid_=navigator.userAgent.match(/Android/i);return aa.isAndroid_},isBlackBerry:function(){if(aa.isBlackBerry_)return aa.isBlackBerry_;aa.isBlackBerry_=navigator.userAgent.match(/BlackBerry/i);
return aa.isBlackBerry_},isIOS:function(){if(aa.isIOS_)return aa.isIOS_;aa.isIOS_=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i);return aa.isIOS_},isIPhoneIPod:function(){if(aa.isIPhoneIPod_)return aa.isIPhoneIPod_;aa.isIPhoneIPod_=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i);return aa.isIPhoneIPod_},isRetina:function(){if(aa.isRetina_)return aa.isRetina_;aa.isRetina_=window.devicePixelRatio&&1<window.devicePixelRatio?
!0:0<=window.navigator.userAgent.indexOf("BlackBerry 9810")||0<=window.navigator.userAgent.indexOf("BlackBerry 9900")?!0:!1;return aa.isRetina_},setCookie:function(b,c,d,e,f,g){b=encodeURIComponent(b);c=encodeURIComponent(c);d=aa.isNull(d)?0:d.getTime();b=b+"="+c;d&&(b+=";expires="+(new Date(d)).toGMTString());e&&(b+=";domain="+e);f&&(b+=";path="+f);g&&(b+=";secure");document.cookie=b},removeCookie:function(b,c){b=encodeURIComponent(b);document.cookie=b+"=;path="+c+";expires=Fri, 02-Jan-1970 00:00:00 GMT"},
getSignAvatarUrl:function(b){return a.Globals.AVATAR_PATH+(b.isGirl?"f":"m")+"-"+b.avatarFace+"-"+b.avatarColor.id+".png"},getAvatarUrl:function(b){var c=aa.isRetina()?"_2":"",d=b.avatarId;if(aa.isNull(d)||"_"==d.substring(0,1))d="_"+(0==b.sex?"f":1==b.sex?"m":"u")+"-no-avatar";return a.Globals.AVATAR_PATH+d+c+".png"},getAvatarBackground:function(b){b=b.avatarId;aa.isNull(b)?b="_no-background":(b=b.replace("m-",""),b=b.replace("f-",""));return a.Globals.AVATAR_PATH+"_bg/"+b+".jpg"},setAvatarSex:function(b,
c){var d=c.avatarId;!aa.isNull(d)&&!goog.string.startsWith(d,"_")&&(d=d.split("-"),0==b?c.avatarId="f-"+d[1]+"-"+d[2]:1==b&&(c.avatarId="m-"+d[1]+"-"+d[2]))},getAvatarSexVal:function(b){var c=b.avatarId,d=0;aa.isNull(c)||goog.string.startsWith(c,"_")?1==b.sex&&(d=1):"m"===c.split("-")[0]&&(d=1);return d},getAvatarFaceVal:function(b){var b=b.avatarId,c=a.Globals.AVATAR_DEFAULT_FACE;!aa.isNull(b)&&!goog.string.startsWith(b,"_")&&(c=b.split("-")[1]);return c},getAvatarColorVal:function(b){var b=b.avatarId,
c=a.Globals.AVATAR_DEFAULT_COLOR;!aa.isNull(b)&&!goog.string.startsWith(b,"_")&&(c=b.split("-")[2]);return c},getAvatarColor:function(b){var b=b.avatarId,c="#E9E9E9";if(!aa.isNull(b))try{var d=b.lastIndexOf("-")+1,b=b.substring(d,b.length),c=a.Globals.AVATAR_COLORS.get(b)}catch(e){log("ERROR:",e)}return c},getAvatarFace:function(b){var c=b.avatarId;if(aa.isNull(c)||goog.string.startsWith(c,"_"))c="_"+(0==b.sex?"f":1==b.sex?"m":"u")+"-no-avatar";return a.Globals.AVATAR_PATH+"_faces/"+c+".png"},getAvatarFaceIndex:function(b){for(var c=
0;c<a.Globals.AVATAR_FACES.length;c++)if(a.Globals.AVATAR_FACES[c]===b)return c;return 0},getAvatarPath:function(b,c,d){return a.Globals.AVATAR_PATH+b+"-"+c+"-"+d+".png"},isNull:function(b){return!goog.isDefAndNotNull(b)},isEmpty:function(b){return aa.isNull(b)||goog.string.isEmpty(b)},noNull:function(b){return aa.isNull(b)?"":b},contains:function(b,c){return-1!=b.indexOf(c)},filteredHTML:function(b){return aa.noNull(b).replace("<","&lt;").replace(">","&gt;")},toInt:function(b){return Math.round(Number(b))},
slideWidgets:function(){log("aa.slideWidgets")}};hideUrl=function(){aa.isAndroid()?window.scrollTo(0,1):aa.isIPhoneIPod()&&(window.scrollTo(0,0),aa.resizeCommunityUIIphone_())};
aa.resizeCommunityUIIphone_=function(){window.innerHeight>window.innerWidth?window.navigator.standalone?jq("#AG").css("height","460px"):jq("#AG").css("height","416px"):158==window.outerHeight?jq("#AG").css("height","158px"):306==window.outerHeight?jq("#AG").css("height","306px"):window.navigator.standalone?jq("#AG").css("height","300px"):jq("#AG").css("height","268px")};aa.isoDateToLong=function(b){return""+Date.parse(b)};aa.random=function(){return""+(Math.floor(1E8*Math.random())+0)};
aa.randomUpper=function(b){return""+(Math.floor(Math.random()*(b-0))+0)};aa.startsWith=function(b,c){return 0==b.lastIndexOf(c,0)};a.Event={CITY_TAB_CLICK:"-2",COUNTRY_TAB_CLICK:"-1",MenuClickedEvent:"0",LoadUserEvent:"1",StorageQuotaErr:"2",StorageErr:"3",LoginCompletedEvent:"4",LoginHideEvent:"5",IntroCompletedEvent:"6",LogoutEvent:"7",ProfileRowClickedEvent:"8",ProfileAvatarClickedEvent:"9",ProfileUpdatedEvent:"10",GameClickedEvent:"11",TidbitListClickedEvent:"12",ShowProfileEvent:"13",ShowFriendEvent:"14",BlockedEvent:"15",UnblockedEvent:"16",FriendDeletedEvent:"17"};a.Sign=function(){this.isGirl=this.avatarColor=this.avatarFace=this.display=this.password=this.email=null};a.Hist={NOHIST:"NOHIST",sLanding:"s0",sEmail:"s1",sPassword:"s2",sNewPass:"s3",sTerms:"s4",sForgotPass:"s5",sNewDispl:"s6",sNewAvatar:"s7",sNewAvatarColor:"s8",Activity:"a",Games:"g",Chats:"c",Friends:"f",Profile:"p",tidbits:"tidbits",tb_game:"tb_game",showFriend:"fs",showProfile:"ps",friendFind:"ff",profileAvatar:"pa",profileUpdate:"pu",game:"ga",blackPopup:"bp"};goog.disposable={};goog.disposable.IDisposable=function(){};goog.Disposable=function(){goog.Disposable.ENABLE_MONITORING&&(this.creationStack=Error().stack,goog.Disposable.instances_[goog.getUid(this)]=this)};goog.Disposable.ENABLE_MONITORING=!1;goog.Disposable.instances_={};goog.Disposable.getUndisposedObjects=function(){var b=[],c;for(c in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(c)&&b.push(goog.Disposable.instances_[Number(c)]);return b};goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}};
goog.Disposable.prototype.disposed_=!1;goog.Disposable.prototype.isDisposed=function(){return this.disposed_};goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed;
goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.ENABLE_MONITORING)){var b=goog.getUid(this);if(!goog.Disposable.instances_.hasOwnProperty(b))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[b]}};goog.Disposable.prototype.registerDisposable=function(b){this.dependentDisposables_||(this.dependentDisposables_=[]);this.dependentDisposables_.push(b)};
goog.Disposable.prototype.addOnDisposeCallback=function(b,c){this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]);this.onDisposeCallbacks_.push(goog.bind(b,c))};goog.Disposable.prototype.disposeInternal=function(){this.dependentDisposables_&&goog.disposeAll.apply(null,this.dependentDisposables_);if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};goog.dispose=function(b){b&&"function"==typeof b.dispose&&b.dispose()};
goog.disposeAll=function(b){for(var c=0,d=arguments.length;c<d;++c){var e=arguments[c];goog.isArrayLike(e)?goog.disposeAll.apply(null,e):goog.dispose(e)}};goog.pubsub={};goog.pubsub.PubSub=function(){goog.Disposable.call(this);this.subscriptions_=[];this.topics_={}};goog.inherits(goog.pubsub.PubSub,goog.Disposable);goog.pubsub.PubSub.prototype.key_=1;goog.pubsub.PubSub.prototype.publishDepth_=0;goog.pubsub.PubSub.prototype.subscribe=function(b,c,d){var e=this.topics_[b];e||(e=this.topics_[b]=[]);var f=this.key_;this.subscriptions_[f]=b;this.subscriptions_[f+1]=c;this.subscriptions_[f+2]=d;this.key_=f+3;e.push(f);return f};
goog.pubsub.PubSub.prototype.subscribeOnce=function(b,c,d){var e=this.subscribe(b,function(b){c.apply(d,arguments);this.unsubscribeByKey(e)},this);return e};goog.pubsub.PubSub.prototype.unsubscribe=function(b,c,d){if(b=this.topics_[b]){var e=this.subscriptions_;if(b=goog.array.find(b,function(b){return e[b+1]==c&&e[b+2]==d}))return this.unsubscribeByKey(b)}return!1};
goog.pubsub.PubSub.prototype.unsubscribeByKey=function(b){if(0!=this.publishDepth_)return this.pendingKeys_||(this.pendingKeys_=[]),this.pendingKeys_.push(b),!1;var c=this.subscriptions_[b];if(c){var d=this.topics_[c];d&&goog.array.remove(d,b);delete this.subscriptions_[b];delete this.subscriptions_[b+1];delete this.subscriptions_[b+2]}return!!c};
goog.pubsub.PubSub.prototype.publish=function(b,c){var d=this.topics_[b];if(d){this.publishDepth_++;for(var e=goog.array.slice(arguments,1),f=0,g=d.length;f<g;f++){var h=d[f];this.subscriptions_[h+1].apply(this.subscriptions_[h+2],e)}this.publishDepth_--;if(this.pendingKeys_&&0==this.publishDepth_)for(;d=this.pendingKeys_.pop();)this.unsubscribeByKey(d);return 0!=f}return!1};
goog.pubsub.PubSub.prototype.clear=function(b){if(b){var c=this.topics_[b];c&&(goog.array.forEach(c,this.unsubscribeByKey,this),delete this.topics_[b])}else this.subscriptions_.length=0,this.topics_={}};goog.pubsub.PubSub.prototype.getCount=function(b){if(b){var c=this.topics_[b];return c?c.length:0}b=0;for(c in this.topics_)b+=this.getCount(c);return b};
goog.pubsub.PubSub.prototype.disposeInternal=function(){goog.pubsub.PubSub.superClass_.disposeInternal.call(this);delete this.subscriptions_;delete this.topics_;delete this.pendingKeys_};a.EventBus=function(b){log("a.EventBus::constructor ");this.ctx_=b;this.pubsub_=new goog.pubsub.PubSub};a.EventBus.prototype.on=function(b,c){this.pubsub_.subscribe(b,c)};a.EventBus.prototype.fire=function(b,c){this.pubsub_.publish(b,c)};a.Tube={};
a.Tube.start=function(b){log("a.Tube.starting ...");var c=function(b){this.ctx_=b;Nsc.MsgHandler.call(this);log(this,"TubeReader::constructor")};c.prototype=new Nsc.MsgHandler;c.prototype.peek=function(b){log(this,"TubeReader::peek",b);return Nsc.MsgHandler.prototype.peek.apply(this,arguments)};c.prototype.onGameCreated=function(b,c,f,g){log(this,"TubeReader::onGameCreated",b,c,f,g)};c.prototype.onGameInvited=function(b,c,f){log(this,"TubeReader::onGameInvited",b,c,f)};c.prototype.onInvited=function(b,
c,f){log(this,"TubeReader::onInvited",b,c,f)};c.prototype.onTurnNotification=function(b,c,f){log(this,"TubeReader::onTurnNotification",b,c,f)};c.prototype.onFriendRequest=function(b){log(this,"TubeReader::onFriendRequest",b);this.ctx_.getTubeReaderDao().addFriendRequest(b)};Tuber.register(new c(b));Tuber.start();goog.exportSymbol("TubeReader",c);goog.exportSymbol("TubeReader.prototype.onFriendRequest",c.prototype.onFriendRequest);goog.exportSymbol("TubeReader.prototype.onTurnNotification",c.prototype.onTurnNotification);
goog.exportSymbol("TubeReader.prototype.onInvited",c.prototype.onInvited);goog.exportSymbol("TubeReader.prototype.onGameInvited",c.prototype.onGameInvited);goog.exportSymbol("TubeReader.prototype.onGameCreated",c.prototype.onGameCreated);goog.exportSymbol("TubeReader.prototype.peek",c.prototype.peek)};a.Tube.stop=function(){log("a.Tube.stopping ...")};goog.uri={};goog.uri.utils={};goog.uri.utils.CharCode_={AMPERSAND:38,EQUAL:61,HASH:35,QUESTION:63};goog.uri.utils.buildFromEncodedParts=function(b,c,d,e,f,g,h){var i=[];b&&i.push(b,":");d&&(i.push("//"),c&&i.push(c,"@"),i.push(d),e&&i.push(":",e));f&&i.push(f);g&&i.push("?",g);h&&i.push("#",h);return i.join("")};goog.uri.utils.splitRe_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");
goog.uri.utils.ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7};goog.uri.utils.split=function(b){return b.match(goog.uri.utils.splitRe_)};goog.uri.utils.decodeIfPossible_=function(b){return b&&decodeURIComponent(b)};goog.uri.utils.getComponentByIndex_=function(b,c){return goog.uri.utils.split(c)[b]||null};goog.uri.utils.getScheme=function(b){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.SCHEME,b)};
goog.uri.utils.getEffectiveScheme=function(b){b=goog.uri.utils.getScheme(b);!b&&self.location&&(b=self.location.protocol,b=b.substr(0,b.length-1));return b?b.toLowerCase():""};goog.uri.utils.getUserInfoEncoded=function(b){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.USER_INFO,b)};goog.uri.utils.getUserInfo=function(b){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getUserInfoEncoded(b))};
goog.uri.utils.getDomainEncoded=function(b){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.DOMAIN,b)};goog.uri.utils.getDomain=function(b){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getDomainEncoded(b))};goog.uri.utils.getPort=function(b){return Number(goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PORT,b))||null};goog.uri.utils.getPathEncoded=function(b){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PATH,b)};
goog.uri.utils.getPath=function(b){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getPathEncoded(b))};goog.uri.utils.getQueryData=function(b){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.QUERY_DATA,b)};goog.uri.utils.getFragmentEncoded=function(b){var c=b.indexOf("#");return 0>c?null:b.substr(c+1)};goog.uri.utils.setFragmentEncoded=function(b,c){return goog.uri.utils.removeFragment(b)+(c?"#"+c:"")};goog.uri.utils.getFragment=function(b){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getFragmentEncoded(b))};
goog.uri.utils.getHost=function(b){b=goog.uri.utils.split(b);return goog.uri.utils.buildFromEncodedParts(b[goog.uri.utils.ComponentIndex.SCHEME],b[goog.uri.utils.ComponentIndex.USER_INFO],b[goog.uri.utils.ComponentIndex.DOMAIN],b[goog.uri.utils.ComponentIndex.PORT])};goog.uri.utils.getPathAndAfter=function(b){b=goog.uri.utils.split(b);return goog.uri.utils.buildFromEncodedParts(null,null,null,null,b[goog.uri.utils.ComponentIndex.PATH],b[goog.uri.utils.ComponentIndex.QUERY_DATA],b[goog.uri.utils.ComponentIndex.FRAGMENT])};
goog.uri.utils.removeFragment=function(b){var c=b.indexOf("#");return 0>c?b:b.substr(0,c)};goog.uri.utils.haveSameDomain=function(b,c){var d=goog.uri.utils.split(b),e=goog.uri.utils.split(c);return d[goog.uri.utils.ComponentIndex.DOMAIN]==e[goog.uri.utils.ComponentIndex.DOMAIN]&&d[goog.uri.utils.ComponentIndex.SCHEME]==e[goog.uri.utils.ComponentIndex.SCHEME]&&d[goog.uri.utils.ComponentIndex.PORT]==e[goog.uri.utils.ComponentIndex.PORT]};
goog.uri.utils.assertNoFragmentsOrQueries_=function(b){if(goog.DEBUG&&(0<=b.indexOf("#")||0<=b.indexOf("?")))throw Error("goog.uri.utils: Fragment or query identifiers are not supported: ["+b+"]");};goog.uri.utils.appendQueryData_=function(b){if(b[1]){var c=b[0],d=c.indexOf("#");0<=d&&(b.push(c.substr(d)),b[0]=c=c.substr(0,d));d=c.indexOf("?");0>d?b[1]="?":d==c.length-1&&(b[1]=void 0)}return b.join("")};
goog.uri.utils.appendKeyValuePairs_=function(b,c,d){if(goog.isArray(c)){goog.asserts.assertArray(c);for(var e=0;e<c.length;e++)goog.uri.utils.appendKeyValuePairs_(b,""+c[e],d)}else null!=c&&d.push("&",b,""===c?"":"=",goog.string.urlEncode(c))};goog.uri.utils.buildQueryDataBuffer_=function(b,c,d){goog.asserts.assert(0==Math.max(c.length-(d||0),0)%2,"goog.uri.utils: Key/value lists must be even in length.");for(d=d||0;d<c.length;d+=2)goog.uri.utils.appendKeyValuePairs_(c[d],c[d+1],b);return b};
goog.uri.utils.buildQueryData=function(b,c){var d=goog.uri.utils.buildQueryDataBuffer_([],b,c);d[0]="";return d.join("")};goog.uri.utils.buildQueryDataBufferFromMap_=function(b,c){for(var d in c)goog.uri.utils.appendKeyValuePairs_(d,c[d],b);return b};goog.uri.utils.buildQueryDataFromMap=function(b){b=goog.uri.utils.buildQueryDataBufferFromMap_([],b);b[0]="";return b.join("")};
goog.uri.utils.appendParams=function(b,c){return goog.uri.utils.appendQueryData_(2==arguments.length?goog.uri.utils.buildQueryDataBuffer_([b],arguments[1],0):goog.uri.utils.buildQueryDataBuffer_([b],arguments,1))};goog.uri.utils.appendParamsFromMap=function(b,c){return goog.uri.utils.appendQueryData_(goog.uri.utils.buildQueryDataBufferFromMap_([b],c))};goog.uri.utils.appendParam=function(b,c,d){return goog.uri.utils.appendQueryData_([b,"&",c,"=",goog.string.urlEncode(d)])};
goog.uri.utils.findParam_=function(b,c,d,e){for(var f=d.length;0<=(c=b.indexOf(d,c))&&c<e;){var g=b.charCodeAt(c-1);if(g==goog.uri.utils.CharCode_.AMPERSAND||g==goog.uri.utils.CharCode_.QUESTION)if(g=b.charCodeAt(c+f),!g||g==goog.uri.utils.CharCode_.EQUAL||g==goog.uri.utils.CharCode_.AMPERSAND||g==goog.uri.utils.CharCode_.HASH)return c;c+=f+1}return-1};goog.uri.utils.hashOrEndRe_=/#|$/;goog.uri.utils.hasParam=function(b,c){return 0<=goog.uri.utils.findParam_(b,0,c,b.search(goog.uri.utils.hashOrEndRe_))};
goog.uri.utils.getParamValue=function(b,c){var d=b.search(goog.uri.utils.hashOrEndRe_),e=goog.uri.utils.findParam_(b,0,c,d);if(0>e)return null;var f=b.indexOf("&",e);if(0>f||f>d)f=d;e+=c.length+1;return goog.string.urlDecode(b.substr(e,f-e))};goog.uri.utils.getParamValues=function(b,c){for(var d=b.search(goog.uri.utils.hashOrEndRe_),e=0,f,g=[];0<=(f=goog.uri.utils.findParam_(b,e,c,d));){e=b.indexOf("&",f);if(0>e||e>d)e=d;f+=c.length+1;g.push(goog.string.urlDecode(b.substr(f,e-f)))}return g};
goog.uri.utils.trailingQueryPunctuationRe_=/[?&]($|#)/;goog.uri.utils.removeParam=function(b,c){for(var d=b.search(goog.uri.utils.hashOrEndRe_),e=0,f,g=[];0<=(f=goog.uri.utils.findParam_(b,e,c,d));)g.push(b.substring(e,f)),e=Math.min(b.indexOf("&",f)+1||d,d);g.push(b.substr(e));return g.join("").replace(goog.uri.utils.trailingQueryPunctuationRe_,"$1")};goog.uri.utils.setParam=function(b,c,d){return goog.uri.utils.appendParam(goog.uri.utils.removeParam(b,c),c,d)};
goog.uri.utils.appendPath=function(b,c){goog.uri.utils.assertNoFragmentsOrQueries_(b);goog.string.endsWith(b,"/")&&(b=b.substr(0,b.length-1));goog.string.startsWith(c,"/")&&(c=c.substr(1));return goog.string.buildString(b,"/",c)};goog.uri.utils.StandardQueryParam={RANDOM:"zx"};goog.uri.utils.makeUnique=function(b){return goog.uri.utils.setParam(b,goog.uri.utils.StandardQueryParam.RANDOM,goog.string.getRandomString())};goog.debug.errorHandlerWeakDep={protectEntryPoint:function(b){return b}};goog.events={};goog.events.Listener=function(){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack)};goog.events.Listener.counter_=0;goog.events.Listener.ENABLE_MONITORING=!1;goog.events.Listener.prototype.key=0;goog.events.Listener.prototype.removed=!1;goog.events.Listener.prototype.callOnce=!1;
goog.events.Listener.prototype.init=function(b,c,d,e,f,g){if(goog.isFunction(b))this.isFunctionListener_=!0;else if(b&&b.handleEvent&&goog.isFunction(b.handleEvent))this.isFunctionListener_=!1;else throw Error("Invalid listener argument");this.listener=b;this.proxy=c;this.src=d;this.type=e;this.capture=!!f;this.handler=g;this.callOnce=!1;this.key=++goog.events.Listener.counter_;this.removed=!1};
goog.events.Listener.prototype.handleEvent=function(b){return this.isFunctionListener_?this.listener.call(this.handler||this.src,b):this.listener.handleEvent.call(this.listener,b)};goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentMode(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersion("8"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersion("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersion("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersion("8")||goog.userAgent.OPERA&&goog.userAgent.isVersion("9.5")||
goog.userAgent.WEBKIT&&goog.userAgent.isVersion("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersion("8")||goog.userAgent.IE&&!goog.userAgent.isVersion("9")};goog.debug.entryPointRegistry={};goog.debug.EntryPointMonitor=function(){};goog.debug.entryPointRegistry.refList_=[];goog.debug.entryPointRegistry.monitors_=[];goog.debug.entryPointRegistry.monitorsMayExist_=!1;goog.debug.entryPointRegistry.register=function(b){goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=b;if(goog.debug.entryPointRegistry.monitorsMayExist_)for(var c=goog.debug.entryPointRegistry.monitors_,d=0;d<c.length;d++)b(goog.bind(c[d].wrap,c[d]))};
goog.debug.entryPointRegistry.monitorAll=function(b){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var c=goog.bind(b.wrap,b),d=0;d<goog.debug.entryPointRegistry.refList_.length;d++)goog.debug.entryPointRegistry.refList_[d](c);goog.debug.entryPointRegistry.monitors_.push(b)};
goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(b){var c=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(b==c[c.length-1],"Only the most recent monitor can be unwrapped.");for(var b=goog.bind(b.unwrap,b),d=0;d<goog.debug.entryPointRegistry.refList_.length;d++)goog.debug.entryPointRegistry.refList_[d](b);c.length--};goog.events.EventWrapper=function(){};goog.events.EventWrapper.prototype.listen=function(){};goog.events.EventWrapper.prototype.unlisten=function(){};goog.events.EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",SELECTSTART:"selectstart",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:goog.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:goog.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",
DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",CONTEXTMENU:"contextmenu",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",
BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",TRANSITIONEND:goog.userAgent.WEBKIT?"webkitTransitionEnd":goog.userAgent.OPERA?"oTransitionEnd":"transitionend"};goog.events.Event=function(b,c){goog.Disposable.call(this);this.type=b;this.currentTarget=this.target=c};goog.inherits(goog.events.Event,goog.Disposable);goog.events.Event.prototype.disposeInternal=function(){delete this.type;delete this.target;delete this.currentTarget};goog.events.Event.prototype.propagationStopped_=!1;goog.events.Event.prototype.defaultPrevented=!1;goog.events.Event.prototype.returnValue_=!0;goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0};
goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0;this.returnValue_=!1};goog.events.Event.stopPropagation=function(b){b.stopPropagation()};goog.events.Event.preventDefault=function(b){b.preventDefault()};goog.reflect={};goog.reflect.object=function(b,c){return c};goog.reflect.sinkValue=function(b){goog.reflect.sinkValue[" "](b);return b};goog.reflect.sinkValue[" "]=goog.nullFunction;goog.reflect.canAccessProperty=function(b,c){try{return goog.reflect.sinkValue(b[c]),!0}catch(d){}return!1};goog.events.BrowserEvent=function(b,c){b&&this.init(b,c)};goog.inherits(goog.events.BrowserEvent,goog.events.Event);goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2};goog.events.BrowserEvent.IEButtonMap=[1,4,2];goog.events.BrowserEvent.prototype.target=null;goog.events.BrowserEvent.prototype.relatedTarget=null;goog.events.BrowserEvent.prototype.offsetX=0;goog.events.BrowserEvent.prototype.offsetY=0;goog.events.BrowserEvent.prototype.clientX=0;
goog.events.BrowserEvent.prototype.clientY=0;goog.events.BrowserEvent.prototype.screenX=0;goog.events.BrowserEvent.prototype.screenY=0;goog.events.BrowserEvent.prototype.button=0;goog.events.BrowserEvent.prototype.keyCode=0;goog.events.BrowserEvent.prototype.charCode=0;goog.events.BrowserEvent.prototype.ctrlKey=!1;goog.events.BrowserEvent.prototype.altKey=!1;goog.events.BrowserEvent.prototype.shiftKey=!1;goog.events.BrowserEvent.prototype.metaKey=!1;
goog.events.BrowserEvent.prototype.platformModifierKey=!1;goog.events.BrowserEvent.prototype.event_=null;
goog.events.BrowserEvent.prototype.init=function(b,c){var d=this.type=b.type;goog.events.Event.call(this,d);this.target=b.target||b.srcElement;this.currentTarget=c;var e=b.relatedTarget;e?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(e,"nodeName")||(e=null)):d==goog.events.EventType.MOUSEOVER?e=b.fromElement:d==goog.events.EventType.MOUSEOUT&&(e=b.toElement);this.relatedTarget=e;this.offsetX=goog.userAgent.WEBKIT||void 0!==b.offsetX?b.offsetX:b.layerX;this.offsetY=goog.userAgent.WEBKIT||void 0!==
b.offsetY?b.offsetY:b.layerY;this.clientX=void 0!==b.clientX?b.clientX:b.pageX;this.clientY=void 0!==b.clientY?b.clientY:b.pageY;this.screenX=b.screenX||0;this.screenY=b.screenY||0;this.button=b.button;this.keyCode=b.keyCode||0;this.charCode=b.charCode||("keypress"==d?b.keyCode:0);this.ctrlKey=b.ctrlKey;this.altKey=b.altKey;this.shiftKey=b.shiftKey;this.metaKey=b.metaKey;this.platformModifierKey=goog.userAgent.MAC?b.metaKey:b.ctrlKey;this.state=b.state;this.event_=b;b.defaultPrevented&&this.preventDefault();
delete this.propagationStopped_};goog.events.BrowserEvent.prototype.isButton=function(b){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==b:"click"==this.type?b==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IEButtonMap[b])};goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)};
goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this);this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0};
goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var b=this.event_;if(b.preventDefault)b.preventDefault();else if(b.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{if(b.ctrlKey||112<=b.keyCode&&123>=b.keyCode)b.keyCode=-1}catch(c){}};goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_};
goog.events.BrowserEvent.prototype.disposeInternal=function(){goog.events.BrowserEvent.superClass_.disposeInternal.call(this);this.relatedTarget=this.currentTarget=this.target=this.event_=null};goog.events.listeners_={};goog.events.listenerTree_={};goog.events.sources_={};goog.events.onString_="on";goog.events.onStringMap_={};goog.events.keySeparator_="_";
goog.events.listen=function(b,c,d,e,f){if(c){if(goog.isArray(c)){for(var g=0;g<c.length;g++)goog.events.listen(b,c[g],d,e,f);return null}var e=!!e,h=goog.events.listenerTree_;c in h||(h[c]={count_:0,remaining_:0});h=h[c];e in h||(h[e]={count_:0,remaining_:0},h.count_++);var h=h[e],i=goog.getUid(b),j;h.remaining_++;if(h[i]){j=h[i];for(g=0;g<j.length;g++)if(h=j[g],h.listener==d&&h.handler==f){if(h.removed)break;return j[g].key}}else j=h[i]=[],h.count_++;g=goog.events.getProxy();g.src=b;h=new goog.events.Listener;
h.init(d,g,b,c,e,f);d=h.key;g.key=d;j.push(h);goog.events.listeners_[d]=h;goog.events.sources_[i]||(goog.events.sources_[i]=[]);goog.events.sources_[i].push(h);b.addEventListener?(b==goog.global||!b.customEvent_)&&b.addEventListener(c,g,e):b.attachEvent(goog.events.getOnString_(c),g);return d}throw Error("Invalid event type");};
goog.events.getProxy=function(){var b=goog.events.handleBrowserEvent_,c=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(d){return b.call(c.src,c.key,d)}:function(d){d=b.call(c.src,c.key,d);if(!d)return d};return c};goog.events.listenOnce=function(b,c,d,e,f){if(goog.isArray(c)){for(var g=0;g<c.length;g++)goog.events.listenOnce(b,c[g],d,e,f);return null}b=goog.events.listen(b,c,d,e,f);goog.events.listeners_[b].callOnce=!0;return b};
goog.events.listenWithWrapper=function(b,c,d,e,f){c.listen(b,d,e,f)};goog.events.unlisten=function(b,c,d,e,f){if(goog.isArray(c)){for(var g=0;g<c.length;g++)goog.events.unlisten(b,c[g],d,e,f);return null}e=!!e;b=goog.events.getListeners_(b,c,e);if(!b)return!1;for(g=0;g<b.length;g++)if(b[g].listener==d&&b[g].capture==e&&b[g].handler==f)return goog.events.unlistenByKey(b[g].key);return!1};
goog.events.unlistenByKey=function(b){if(!goog.events.listeners_[b])return!1;var c=goog.events.listeners_[b];if(c.removed)return!1;var d=c.src,e=c.type,f=c.proxy,g=c.capture;d.removeEventListener?(d==goog.global||!d.customEvent_)&&d.removeEventListener(e,f,g):d.detachEvent&&d.detachEvent(goog.events.getOnString_(e),f);d=goog.getUid(d);f=goog.events.listenerTree_[e][g][d];if(goog.events.sources_[d]){var h=goog.events.sources_[d];goog.array.remove(h,c);0==h.length&&delete goog.events.sources_[d]}c.removed=
!0;f.needsCleanup_=!0;goog.events.cleanUp_(e,g,d,f);delete goog.events.listeners_[b];return!0};goog.events.unlistenWithWrapper=function(b,c,d,e,f){c.unlisten(b,d,e,f)};
goog.events.cleanUp_=function(b,c,d,e){if(!e.locked_&&e.needsCleanup_){for(var f=0,g=0;f<e.length;f++)e[f].removed?e[f].proxy.src=null:(f!=g&&(e[g]=e[f]),g++);e.length=g;e.needsCleanup_=!1;0==g&&(delete goog.events.listenerTree_[b][c][d],goog.events.listenerTree_[b][c].count_--,0==goog.events.listenerTree_[b][c].count_&&(delete goog.events.listenerTree_[b][c],goog.events.listenerTree_[b].count_--),0==goog.events.listenerTree_[b].count_&&delete goog.events.listenerTree_[b])}};
goog.events.removeAll=function(b,c,d){var e=0,f=null==c,g=null==d,d=!!d;if(null==b)goog.object.forEach(goog.events.sources_,function(b){for(var h=b.length-1;0<=h;h--){var i=b[h];if((f||c==i.type)&&(g||d==i.capture))goog.events.unlistenByKey(i.key),e++}});else if(b=goog.getUid(b),goog.events.sources_[b])for(var b=goog.events.sources_[b],h=b.length-1;0<=h;h--){var i=b[h];if((f||c==i.type)&&(g||d==i.capture))goog.events.unlistenByKey(i.key),e++}return e};
goog.events.getListeners=function(b,c,d){return goog.events.getListeners_(b,c,d)||[]};goog.events.getListeners_=function(b,c,d){var e=goog.events.listenerTree_;return c in e&&(e=e[c],d in e&&(e=e[d],b=goog.getUid(b),e[b]))?e[b]:null};goog.events.getListener=function(b,c,d,e,f){e=!!e;if(b=goog.events.getListeners_(b,c,e))for(c=0;c<b.length;c++)if(!b[c].removed&&b[c].listener==d&&b[c].capture==e&&b[c].handler==f)return b[c];return null};
goog.events.hasListener=function(b,c,d){var b=goog.getUid(b),e=goog.events.sources_[b];if(e){var f=goog.isDef(c),g=goog.isDef(d);return f&&g?(e=goog.events.listenerTree_[c],!!e&&!!e[d]&&b in e[d]):!f&&!g?!0:goog.array.some(e,function(b){return f&&b.type==c||g&&b.capture==d})}return!1};goog.events.expose=function(b){var c=[],d;for(d in b)b[d]&&b[d].id?c.push(d+" = "+b[d]+" ("+b[d].id+")"):c.push(d+" = "+b[d]);return c.join("\n")};
goog.events.getOnString_=function(b){return b in goog.events.onStringMap_?goog.events.onStringMap_[b]:goog.events.onStringMap_[b]=goog.events.onString_+b};goog.events.fireListeners=function(b,c,d,e){var f=goog.events.listenerTree_;return c in f&&(f=f[c],d in f)?goog.events.fireListeners_(f[d],b,c,d,e):!0};
goog.events.fireListeners_=function(b,c,d,e,f){var g=1,c=goog.getUid(c);if(b[c]){b.remaining_--;b=b[c];b.locked_?b.locked_++:b.locked_=1;try{for(var h=b.length,i=0;i<h;i++){var j=b[i];j&&!j.removed&&(g&=!1!==goog.events.fireListener(j,f))}}finally{b.locked_--,goog.events.cleanUp_(d,e,c,b)}}return Boolean(g)};goog.events.fireListener=function(b,c){b.callOnce&&goog.events.unlistenByKey(b.key);return b.handleEvent(c)};goog.events.getTotalListenerCount=function(){return goog.object.getCount(goog.events.listeners_)};
goog.events.dispatchEvent=function(b,c){var d=c.type||c,e=goog.events.listenerTree_;if(!(d in e))return!0;if(goog.isString(c))c=new goog.events.Event(c,b);else if(c instanceof goog.events.Event)c.target=c.target||b;else{var f=c,c=new goog.events.Event(d,b);goog.object.extend(c,f)}var f=1,g,e=e[d],d=!0 in e,h;if(d){g=[];for(h=b;h;h=h.getParentEventTarget())g.push(h);h=e[!0];h.remaining_=h.count_;for(var i=g.length-1;!c.propagationStopped_&&0<=i&&h.remaining_;i--)c.currentTarget=g[i],f&=goog.events.fireListeners_(h,
g[i],c.type,!0,c)&&!1!=c.returnValue_}if(!1 in e)if(h=e[!1],h.remaining_=h.count_,d)for(i=0;!c.propagationStopped_&&i<g.length&&h.remaining_;i++)c.currentTarget=g[i],f&=goog.events.fireListeners_(h,g[i],c.type,!1,c)&&!1!=c.returnValue_;else for(e=b;!c.propagationStopped_&&e&&h.remaining_;e=e.getParentEventTarget())c.currentTarget=e,f&=goog.events.fireListeners_(h,e,c.type,!1,c)&&!1!=c.returnValue_;return Boolean(f)};
goog.events.protectBrowserEventEntryPoint=function(b){goog.events.handleBrowserEvent_=b.protectEntryPoint(goog.events.handleBrowserEvent_)};
goog.events.handleBrowserEvent_=function(b,c){if(!goog.events.listeners_[b])return!0;var d=goog.events.listeners_[b],e=d.type,f=goog.events.listenerTree_;if(!(e in f))return!0;var f=f[e],g,h;if(!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){g=c||goog.getObjectByName("window.event");var i=!0 in f,j=!1 in f;if(i){if(goog.events.isMarkedIeEvent_(g))return!0;goog.events.markIeEvent_(g)}var k=new goog.events.BrowserEvent;k.init(g,this);g=!0;try{if(i){for(var l=[],n=k.currentTarget;n;n=n.parentNode)l.push(n);
h=f[!0];h.remaining_=h.count_;for(var m=l.length-1;!k.propagationStopped_&&0<=m&&h.remaining_;m--)k.currentTarget=l[m],g&=goog.events.fireListeners_(h,l[m],e,!0,k);if(j){h=f[!1];h.remaining_=h.count_;for(m=0;!k.propagationStopped_&&m<l.length&&h.remaining_;m++)k.currentTarget=l[m],g&=goog.events.fireListeners_(h,l[m],e,!1,k)}}else g=goog.events.fireListener(d,k)}finally{l&&(l.length=0),k.dispose()}return g}e=new goog.events.BrowserEvent(c,this);try{g=goog.events.fireListener(d,e)}finally{e.dispose()}return g};
goog.events.markIeEvent_=function(b){var c=!1;if(0==b.keyCode)try{b.keyCode=-1;return}catch(d){c=!0}if(c||void 0==b.returnValue)b.returnValue=!0};goog.events.isMarkedIeEvent_=function(b){return 0>b.keyCode||void 0!=b.returnValue};goog.events.uniqueIdCounter_=0;goog.events.getUniqueId=function(b){return b+"_"+goog.events.uniqueIdCounter_++};goog.debug.entryPointRegistry.register(function(b){goog.events.handleBrowserEvent_=b(goog.events.handleBrowserEvent_)});goog.events.EventTarget=function(){goog.Disposable.call(this)};goog.inherits(goog.events.EventTarget,goog.Disposable);goog.events.EventTarget.prototype.customEvent_=!0;goog.events.EventTarget.prototype.parentEventTarget_=null;goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_};goog.events.EventTarget.prototype.setParentEventTarget=function(b){this.parentEventTarget_=b};
goog.events.EventTarget.prototype.addEventListener=function(b,c,d,e){goog.events.listen(this,b,c,d,e)};goog.events.EventTarget.prototype.removeEventListener=function(b,c,d,e){goog.events.unlisten(this,b,c,d,e)};goog.events.EventTarget.prototype.dispatchEvent=function(b){return goog.events.dispatchEvent(this,b)};goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this);goog.events.removeAll(this);this.parentEventTarget_=null};goog.Timer=function(b,c){goog.events.EventTarget.call(this);this.interval_=b||1;this.timerObject_=c||goog.Timer.defaultTimerObject;this.boundTick_=goog.bind(this.tick_,this);this.last_=goog.now()};goog.inherits(goog.Timer,goog.events.EventTarget);goog.Timer.MAX_TIMEOUT_=2147483647;goog.Timer.prototype.enabled=!1;goog.Timer.defaultTimerObject=goog.global.window;goog.Timer.intervalScale=0.8;goog.Timer.prototype.timer_=null;goog.Timer.prototype.getInterval=function(){return this.interval_};
goog.Timer.prototype.setInterval=function(b){this.interval_=b;this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()};goog.Timer.prototype.tick_=function(){if(this.enabled){var b=goog.now()-this.last_;0<b&&b<this.interval_*goog.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-b):(this.dispatchTick(),this.enabled&&(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now()))}};
goog.Timer.prototype.dispatchTick=function(){this.dispatchEvent(goog.Timer.TICK)};goog.Timer.prototype.start=function(){this.enabled=!0;this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())};goog.Timer.prototype.stop=function(){this.enabled=!1;this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)};goog.Timer.prototype.disposeInternal=function(){goog.Timer.superClass_.disposeInternal.call(this);this.stop();delete this.timerObject_};
goog.Timer.TICK="tick";goog.Timer.callOnce=function(b,c,d){if(goog.isFunction(b))d&&(b=goog.bind(b,d));else if(b&&"function"==typeof b.handleEvent)b=goog.bind(b.handleEvent,b);else throw Error("Invalid listener argument");return c>goog.Timer.MAX_TIMEOUT_?-1:goog.Timer.defaultTimerObject.setTimeout(b,c||0)};goog.Timer.clear=function(b){goog.Timer.defaultTimerObject.clearTimeout(b)};goog.iter={};goog.iter.StopIteration="StopIteration"in goog.global?goog.global.StopIteration:Error("StopIteration");goog.iter.Iterator=function(){};goog.iter.Iterator.prototype.next=function(){throw goog.iter.StopIteration;};goog.iter.Iterator.prototype.__iterator__=function(){return this};
goog.iter.toIterator=function(b){if(b instanceof goog.iter.Iterator)return b;if("function"==typeof b.__iterator__)return b.__iterator__(!1);if(goog.isArrayLike(b)){var c=0,d=new goog.iter.Iterator;d.next=function(){for(;;){if(c>=b.length)throw goog.iter.StopIteration;if(c in b)return b[c++];c++}};return d}throw Error("Not implemented");};
goog.iter.forEach=function(b,c,d){if(goog.isArrayLike(b))try{goog.array.forEach(b,c,d)}catch(e){if(e!==goog.iter.StopIteration)throw e;}else{b=goog.iter.toIterator(b);try{for(;;)c.call(d,b.next(),void 0,b)}catch(f){if(f!==goog.iter.StopIteration)throw f;}}};goog.iter.filter=function(b,c,d){var b=goog.iter.toIterator(b),e=new goog.iter.Iterator;e.next=function(){for(;;){var e=b.next();if(c.call(d,e,void 0,b))return e}};return e};
goog.iter.range=function(b,c,d){var e=0,f=b,g=d||1;1<arguments.length&&(e=b,f=c);if(0==g)throw Error("Range step argument must not be zero");var h=new goog.iter.Iterator;h.next=function(){if(g>0&&e>=f||g<0&&e<=f)throw goog.iter.StopIteration;var b=e;e=e+g;return b};return h};goog.iter.join=function(b,c){return goog.iter.toArray(b).join(c)};goog.iter.map=function(b,c,d){var b=goog.iter.toIterator(b),e=new goog.iter.Iterator;e.next=function(){for(;;){var e=b.next();return c.call(d,e,void 0,b)}};return e};
goog.iter.reduce=function(b,c,d,e){var f=d;goog.iter.forEach(b,function(b){f=c.call(e,f,b)});return f};goog.iter.some=function(b,c,d){b=goog.iter.toIterator(b);try{for(;;)if(c.call(d,b.next(),void 0,b))return!0}catch(e){if(e!==goog.iter.StopIteration)throw e;}return!1};goog.iter.every=function(b,c,d){b=goog.iter.toIterator(b);try{for(;;)if(!c.call(d,b.next(),void 0,b))return!1}catch(e){if(e!==goog.iter.StopIteration)throw e;}return!0};
goog.iter.chain=function(b){var c=arguments,d=c.length,e=0,f=new goog.iter.Iterator;f.next=function(){try{if(e>=d)throw goog.iter.StopIteration;return goog.iter.toIterator(c[e]).next()}catch(b){if(b!==goog.iter.StopIteration||e>=d)throw b;e++;return this.next()}};return f};goog.iter.dropWhile=function(b,c,d){var b=goog.iter.toIterator(b),e=new goog.iter.Iterator,f=!0;e.next=function(){for(;;){var e=b.next();if(!f||!c.call(d,e,void 0,b))return f=!1,e}};return e};
goog.iter.takeWhile=function(b,c,d){var b=goog.iter.toIterator(b),e=new goog.iter.Iterator,f=!0;e.next=function(){for(;;)if(f){var e=b.next();if(c.call(d,e,void 0,b))return e;f=!1}else throw goog.iter.StopIteration;};return e};goog.iter.toArray=function(b){if(goog.isArrayLike(b))return goog.array.toArray(b);var b=goog.iter.toIterator(b),c=[];goog.iter.forEach(b,function(b){c.push(b)});return c};
goog.iter.equals=function(b,c){var b=goog.iter.toIterator(b),c=goog.iter.toIterator(c),d,e;try{for(;;){d=e=!1;var f=b.next();d=!0;var g=c.next();e=!0;if(f!=g)break}}catch(h){if(h!==goog.iter.StopIteration)throw h;if(d&&!e)return!1;if(!e)try{c.next()}catch(i){if(i!==goog.iter.StopIteration)throw i;return!0}}return!1};goog.iter.nextOrValue=function(b,c){try{return goog.iter.toIterator(b).next()}catch(d){if(d!=goog.iter.StopIteration)throw d;return c}};
goog.iter.product=function(b){if(goog.array.some(arguments,function(b){return!b.length})||!arguments.length)return new goog.iter.Iterator;var c=new goog.iter.Iterator,d=arguments,e=goog.array.repeat(0,d.length);c.next=function(){if(e){for(var b=goog.array.map(e,function(b,c){return d[c][b]}),c=e.length-1;0<=c;c--){goog.asserts.assert(e);if(e[c]<d[c].length-1){e[c]++;break}if(0==c){e=null;break}e[c]=0}return b}throw goog.iter.StopIteration;};return c};
goog.iter.cycle=function(b){var c=goog.iter.toIterator(b),d=[],e=0,b=new goog.iter.Iterator,f=!1;b.next=function(){var b=null;if(!f)try{return b=c.next(),d.push(b),b}catch(h){if(h!=goog.iter.StopIteration||goog.array.isEmpty(d))throw h;f=!0}b=d[e];e=(e+1)%d.length;return b};return b};goog.structs={};goog.structs.getCount=function(b){return"function"==typeof b.getCount?b.getCount():goog.isArrayLike(b)||goog.isString(b)?b.length:goog.object.getCount(b)};goog.structs.getValues=function(b){if("function"==typeof b.getValues)return b.getValues();if(goog.isString(b))return b.split("");if(goog.isArrayLike(b)){for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e]);return c}return goog.object.getValues(b)};
goog.structs.getKeys=function(b){if("function"==typeof b.getKeys)return b.getKeys();if("function"!=typeof b.getValues){if(goog.isArrayLike(b)||goog.isString(b)){for(var c=[],b=b.length,d=0;d<b;d++)c.push(d);return c}return goog.object.getKeys(b)}};goog.structs.contains=function(b,c){return"function"==typeof b.contains?b.contains(c):"function"==typeof b.containsValue?b.containsValue(c):goog.isArrayLike(b)||goog.isString(b)?goog.array.contains(b,c):goog.object.containsValue(b,c)};
goog.structs.isEmpty=function(b){return"function"==typeof b.isEmpty?b.isEmpty():goog.isArrayLike(b)||goog.isString(b)?goog.array.isEmpty(b):goog.object.isEmpty(b)};goog.structs.clear=function(b){"function"==typeof b.clear?b.clear():goog.isArrayLike(b)?goog.array.clear(b):goog.object.clear(b)};
goog.structs.forEach=function(b,c,d){if("function"==typeof b.forEach)b.forEach(c,d);else if(goog.isArrayLike(b)||goog.isString(b))goog.array.forEach(b,c,d);else for(var e=goog.structs.getKeys(b),f=goog.structs.getValues(b),g=f.length,h=0;h<g;h++)c.call(d,f[h],e&&e[h],b)};
goog.structs.filter=function(b,c,d){if("function"==typeof b.filter)return b.filter(c,d);if(goog.isArrayLike(b)||goog.isString(b))return goog.array.filter(b,c,d);var e,f=goog.structs.getKeys(b),g=goog.structs.getValues(b),h=g.length;if(f){e={};for(var i=0;i<h;i++)c.call(d,g[i],f[i],b)&&(e[f[i]]=g[i])}else{e=[];for(i=0;i<h;i++)c.call(d,g[i],void 0,b)&&e.push(g[i])}return e};
goog.structs.map=function(b,c,d){if("function"==typeof b.map)return b.map(c,d);if(goog.isArrayLike(b)||goog.isString(b))return goog.array.map(b,c,d);var e,f=goog.structs.getKeys(b),g=goog.structs.getValues(b),h=g.length;if(f){e={};for(var i=0;i<h;i++)e[f[i]]=c.call(d,g[i],f[i],b)}else{e=[];for(i=0;i<h;i++)e[i]=c.call(d,g[i],void 0,b)}return e};
goog.structs.some=function(b,c,d){if("function"==typeof b.some)return b.some(c,d);if(goog.isArrayLike(b)||goog.isString(b))return goog.array.some(b,c,d);for(var e=goog.structs.getKeys(b),f=goog.structs.getValues(b),g=f.length,h=0;h<g;h++)if(c.call(d,f[h],e&&e[h],b))return!0;return!1};
goog.structs.every=function(b,c,d){if("function"==typeof b.every)return b.every(c,d);if(goog.isArrayLike(b)||goog.isString(b))return goog.array.every(b,c,d);for(var e=goog.structs.getKeys(b),f=goog.structs.getValues(b),g=f.length,h=0;h<g;h++)if(!c.call(d,f[h],e&&e[h],b))return!1;return!0};goog.structs.Map=function(b,c){this.map_={};this.keys_=[];var d=arguments.length;if(1<d){if(d%2)throw Error("Uneven number of arguments");for(var e=0;e<d;e+=2)this.set(arguments[e],arguments[e+1])}else b&&this.addAll(b)};goog.structs.Map.prototype.count_=0;goog.structs.Map.prototype.version_=0;goog.structs.Map.prototype.getCount=function(){return this.count_};
goog.structs.Map.prototype.getValues=function(){this.cleanupKeysArray_();for(var b=[],c=0;c<this.keys_.length;c++)b.push(this.map_[this.keys_[c]]);return b};goog.structs.Map.prototype.getKeys=function(){this.cleanupKeysArray_();return this.keys_.concat()};goog.structs.Map.prototype.containsKey=function(b){return goog.structs.Map.hasKey_(this.map_,b)};
goog.structs.Map.prototype.containsValue=function(b){for(var c=0;c<this.keys_.length;c++){var d=this.keys_[c];if(goog.structs.Map.hasKey_(this.map_,d)&&this.map_[d]==b)return!0}return!1};goog.structs.Map.prototype.equals=function(b,c){if(this===b)return!0;if(this.count_!=b.getCount())return!1;var d=c||goog.structs.Map.defaultEquals;this.cleanupKeysArray_();for(var e,f=0;e=this.keys_[f];f++)if(!d(this.get(e),b.get(e)))return!1;return!0};goog.structs.Map.defaultEquals=function(b,c){return b===c};
goog.structs.Map.prototype.isEmpty=function(){return 0==this.count_};goog.structs.Map.prototype.clear=function(){this.map_={};this.version_=this.count_=this.keys_.length=0};goog.structs.Map.prototype.remove=function(b){return goog.structs.Map.hasKey_(this.map_,b)?(delete this.map_[b],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),!0):!1};
goog.structs.Map.prototype.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var b=0,c=0;b<this.keys_.length;){var d=this.keys_[b];goog.structs.Map.hasKey_(this.map_,d)&&(this.keys_[c++]=d);b++}this.keys_.length=c}if(this.count_!=this.keys_.length){for(var e={},c=b=0;b<this.keys_.length;)d=this.keys_[b],goog.structs.Map.hasKey_(e,d)||(this.keys_[c++]=d,e[d]=1),b++;this.keys_.length=c}};
goog.structs.Map.prototype.get=function(b,c){return goog.structs.Map.hasKey_(this.map_,b)?this.map_[b]:c};goog.structs.Map.prototype.set=function(b,c){goog.structs.Map.hasKey_(this.map_,b)||(this.count_++,this.keys_.push(b),this.version_++);this.map_[b]=c};goog.structs.Map.prototype.addAll=function(b){var c;b instanceof goog.structs.Map?(c=b.getKeys(),b=b.getValues()):(c=goog.object.getKeys(b),b=goog.object.getValues(b));for(var d=0;d<c.length;d++)this.set(c[d],b[d])};
goog.structs.Map.prototype.clone=function(){return new goog.structs.Map(this)};goog.structs.Map.prototype.transpose=function(){for(var b=new goog.structs.Map,c=0;c<this.keys_.length;c++){var d=this.keys_[c];b.set(this.map_[d],d)}return b};goog.structs.Map.prototype.toObject=function(){this.cleanupKeysArray_();for(var b={},c=0;c<this.keys_.length;c++){var d=this.keys_[c];b[d]=this.map_[d]}return b};goog.structs.Map.prototype.getKeyIterator=function(){return this.__iterator__(!0)};
goog.structs.Map.prototype.getValueIterator=function(){return this.__iterator__(!1)};goog.structs.Map.prototype.__iterator__=function(b){this.cleanupKeysArray_();var c=0,d=this.keys_,e=this.map_,f=this.version_,g=this,h=new goog.iter.Iterator;h.next=function(){for(;;){if(f!=g.version_)throw Error("The map has changed since the iterator was created");if(c>=d.length)throw goog.iter.StopIteration;var h=d[c++];return b?h:e[h]}};return h};
goog.structs.Map.hasKey_=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)};goog.net={};goog.net.ErrorCode={NO_ERROR:0,ACCESS_DENIED:1,FILE_NOT_FOUND:2,FF_SILENT_ERROR:3,CUSTOM_ERROR:4,EXCEPTION:5,HTTP_ERROR:6,ABORT:7,TIMEOUT:8,OFFLINE:9};
goog.net.ErrorCode.getDebugMessage=function(b){switch(b){case goog.net.ErrorCode.NO_ERROR:return"No Error";case goog.net.ErrorCode.ACCESS_DENIED:return"Access denied to content document";case goog.net.ErrorCode.FILE_NOT_FOUND:return"File not found";case goog.net.ErrorCode.FF_SILENT_ERROR:return"Firefox silently errored";case goog.net.ErrorCode.CUSTOM_ERROR:return"Application custom error";case goog.net.ErrorCode.EXCEPTION:return"An exception occurred";case goog.net.ErrorCode.HTTP_ERROR:return"Http response at 400 or 500 level";
case goog.net.ErrorCode.ABORT:return"Request was aborted";case goog.net.ErrorCode.TIMEOUT:return"Request timed out";case goog.net.ErrorCode.OFFLINE:return"The resource is not available offline";default:return"Unrecognized error code"}};goog.net.HttpStatus={CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,
PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUEST_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,QUIRK_IE_NO_CONTENT:1223};
goog.net.HttpStatus.isSuccess=function(b){switch(b){case goog.net.HttpStatus.OK:case goog.net.HttpStatus.CREATED:case goog.net.HttpStatus.ACCEPTED:case goog.net.HttpStatus.NO_CONTENT:case goog.net.HttpStatus.NOT_MODIFIED:case goog.net.HttpStatus.QUIRK_IE_NO_CONTENT:return!0;default:return!1}};goog.json={};goog.json.isValid_=function(b){return/^\s*$/.test(b)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(b.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))};goog.json.parse=function(b){b=""+b;if(goog.json.isValid_(b))try{return eval("("+b+")")}catch(c){}throw Error("Invalid JSON string: "+b);};goog.json.unsafeParse=function(b){return eval("("+b+")")};
goog.json.serialize=function(b,c){return(new goog.json.Serializer(c)).serialize(b)};goog.json.Serializer=function(b){this.replacer_=b};goog.json.Serializer.prototype.serialize=function(b){var c=[];this.serialize_(b,c);return c.join("")};
goog.json.Serializer.prototype.serialize_=function(b,c){switch(typeof b){case "string":this.serializeString_(b,c);break;case "number":this.serializeNumber_(b,c);break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(goog.isArray(b)){this.serializeArray_(b,c);break}this.serializeObject_(b,c);break;case "function":break;default:throw Error("Unknown type: "+typeof b);}};
goog.json.Serializer.charToJsonCharCache_={'"':'\\"',"\\":"\\\\","/":"\\/","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"};goog.json.Serializer.charsToReplace_=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
goog.json.Serializer.prototype.serializeString_=function(b,c){c.push('"',b.replace(goog.json.Serializer.charsToReplace_,function(b){if(b in goog.json.Serializer.charToJsonCharCache_)return goog.json.Serializer.charToJsonCharCache_[b];var c=b.charCodeAt(0),f="\\u";16>c?f+="000":256>c?f+="00":4096>c&&(f+="0");return goog.json.Serializer.charToJsonCharCache_[b]=f+c.toString(16)}),'"')};goog.json.Serializer.prototype.serializeNumber_=function(b,c){c.push(isFinite(b)&&!isNaN(b)?b:"null")};
goog.json.Serializer.prototype.serializeArray_=function(b,c){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],this.serialize_(this.replacer_?this.replacer_.call(b,""+f,e):e,c),e=",";c.push("]")};
goog.json.Serializer.prototype.serializeObject_=function(b,c){c.push("{");var d="",e;for(e in b)if(Object.prototype.hasOwnProperty.call(b,e)){var f=b[e];"function"!=typeof f&&(c.push(d),this.serializeString_(e,c),c.push(":"),this.serialize_(this.replacer_?this.replacer_.call(b,e,f):f,c),d=",")}c.push("}")};goog.net.XmlHttpFactory=function(){};goog.net.XmlHttpFactory.prototype.cachedOptions_=null;goog.net.XmlHttpFactory.prototype.getOptions=function(){return this.cachedOptions_||(this.cachedOptions_=this.internalGetOptions())};goog.net.WrapperXmlHttpFactory=function(b,c){goog.net.XmlHttpFactory.call(this);this.xhrFactory_=b;this.optionsFactory_=c};goog.inherits(goog.net.WrapperXmlHttpFactory,goog.net.XmlHttpFactory);goog.net.WrapperXmlHttpFactory.prototype.createInstance=function(){return this.xhrFactory_()};goog.net.WrapperXmlHttpFactory.prototype.getOptions=function(){return this.optionsFactory_()};goog.net.XmlHttp=function(){return goog.net.XmlHttp.factory_.createInstance()};goog.net.XmlHttp.ASSUME_NATIVE_XHR=!1;goog.net.XmlHttp.getOptions=function(){return goog.net.XmlHttp.factory_.getOptions()};goog.net.XmlHttp.OptionType={USE_NULL_FUNCTION:0,LOCAL_REQUEST_ERROR:1};goog.net.XmlHttp.ReadyState={UNINITIALIZED:0,LOADING:1,LOADED:2,INTERACTIVE:3,COMPLETE:4};goog.net.XmlHttp.setFactory=function(b,c){goog.net.XmlHttp.setGlobalFactory(new goog.net.WrapperXmlHttpFactory(b,c))};
goog.net.XmlHttp.setGlobalFactory=function(b){goog.net.XmlHttp.factory_=b};goog.net.DefaultXmlHttpFactory=function(){goog.net.XmlHttpFactory.call(this)};goog.inherits(goog.net.DefaultXmlHttpFactory,goog.net.XmlHttpFactory);goog.net.DefaultXmlHttpFactory.prototype.createInstance=function(){var b=this.getProgId_();return b?new ActiveXObject(b):new XMLHttpRequest};
goog.net.DefaultXmlHttpFactory.prototype.internalGetOptions=function(){var b={};this.getProgId_()&&(b[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION]=!0,b[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR]=!0);return b};
goog.net.DefaultXmlHttpFactory.prototype.getProgId_=function(){if(goog.net.XmlHttp.ASSUME_NATIVE_XHR)return"";if(!this.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),this.ieProgId_=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return this.ieProgId_};
goog.net.XmlHttp.setGlobalFactory(new goog.net.DefaultXmlHttpFactory);goog.net.EventType={COMPLETE:"complete",SUCCESS:"success",ERROR:"error",ABORT:"abort",READY:"ready",READY_STATE_CHANGE:"readystatechange",TIMEOUT:"timeout",INCREMENTAL_DATA:"incrementaldata",PROGRESS:"progress"};goog.structs.Collection=function(){};goog.structs.Set=function(b){this.map_=new goog.structs.Map;b&&this.addAll(b)};goog.structs.Set.getKey_=function(b){var c=typeof b;return"object"==c&&b||"function"==c?"o"+goog.getUid(b):c.substr(0,1)+b};goog.structs.Set.prototype.getCount=function(){return this.map_.getCount()};goog.structs.Set.prototype.add=function(b){this.map_.set(goog.structs.Set.getKey_(b),b)};goog.structs.Set.prototype.addAll=function(b){for(var b=goog.structs.getValues(b),c=b.length,d=0;d<c;d++)this.add(b[d])};
goog.structs.Set.prototype.removeAll=function(b){for(var b=goog.structs.getValues(b),c=b.length,d=0;d<c;d++)this.remove(b[d])};goog.structs.Set.prototype.remove=function(b){return this.map_.remove(goog.structs.Set.getKey_(b))};goog.structs.Set.prototype.clear=function(){this.map_.clear()};goog.structs.Set.prototype.isEmpty=function(){return this.map_.isEmpty()};goog.structs.Set.prototype.contains=function(b){return this.map_.containsKey(goog.structs.Set.getKey_(b))};
goog.structs.Set.prototype.containsAll=function(b){return goog.structs.every(b,this.contains,this)};goog.structs.Set.prototype.intersection=function(b){for(var c=new goog.structs.Set,b=goog.structs.getValues(b),d=0;d<b.length;d++){var e=b[d];this.contains(e)&&c.add(e)}return c};goog.structs.Set.prototype.difference=function(b){var c=this.clone();c.removeAll(b);return c};goog.structs.Set.prototype.getValues=function(){return this.map_.getValues()};goog.structs.Set.prototype.clone=function(){return new goog.structs.Set(this)};
goog.structs.Set.prototype.equals=function(b){return this.getCount()==goog.structs.getCount(b)&&this.isSubsetOf(b)};goog.structs.Set.prototype.isSubsetOf=function(b){var c=goog.structs.getCount(b);if(this.getCount()>c)return!1;!(b instanceof goog.structs.Set)&&5<c&&(b=new goog.structs.Set(b));return goog.structs.every(this,function(c){return goog.structs.contains(b,c)})};goog.structs.Set.prototype.__iterator__=function(){return this.map_.__iterator__(!1)};goog.debug.catchErrors=function(b,c,d){var d=d||goog.global,e=d.onerror,f=!!c;goog.userAgent.WEBKIT&&!goog.userAgent.isVersion("535.3")&&(f=!f);d.onerror=function(c,d,i){e&&e(c,d,i);b({message:c,fileName:d,line:i});return f}};goog.debug.expose=function(b,c){if("undefined"==typeof b)return"undefined";if(null==b)return"NULL";var d=[],e;for(e in b)if(c||!goog.isFunction(b[e])){var f=e+" = ";try{f+=b[e]}catch(g){f+="*** "+g+" ***"}d.push(f)}return d.join("\n")};
goog.debug.deepExpose=function(b,c){var d=new goog.structs.Set,e=[],f=function(b,h){var i=h+"  ";try{if(goog.isDef(b))if(goog.isNull(b))e.push("NULL");else if(goog.isString(b))e.push('"'+b.replace(/\n/g,"\n"+h)+'"');else if(goog.isFunction(b))e.push((""+b).replace(/\n/g,"\n"+h));else if(goog.isObject(b))if(d.contains(b))e.push("*** reference loop detected ***");else{d.add(b);e.push("{");for(var j in b)if(c||!goog.isFunction(b[j]))e.push("\n"),e.push(i),e.push(j+" = "),f(b[j],i);e.push("\n"+h+"}")}else e.push(b);
else e.push("undefined")}catch(k){e.push("*** "+k+" ***")}};f(b,"");return e.join("")};goog.debug.exposeArray=function(b){for(var c=[],d=0;d<b.length;d++)goog.isArray(b[d])?c.push(goog.debug.exposeArray(b[d])):c.push(b[d]);return"[ "+c.join(", ")+" ]"};
goog.debug.exposeException=function(b,c){try{var d=goog.debug.normalizeErrorObject(b);return"Message: "+goog.string.htmlEscape(d.message)+'\nUrl: <a href="view-source:'+d.fileName+'" target="_new">'+d.fileName+"</a>\nLine: "+d.lineNumber+"\n\nBrowser stack:\n"+goog.string.htmlEscape(d.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+goog.string.htmlEscape(goog.debug.getStacktrace(c)+"-> ")}catch(e){return"Exception trying to expose exception! You win, we lose. "+e}};
goog.debug.normalizeErrorObject=function(b){var c=goog.getObjectByName("window.location.href");if(goog.isString(b))return{message:b,name:"Unknown error",lineNumber:"Not available",fileName:c,stack:"Not available"};var d,e,f=!1;try{d=b.lineNumber||b.line||"Not available"}catch(g){d="Not available",f=!0}try{e=b.fileName||b.filename||b.sourceURL||c}catch(h){e="Not available",f=!0}return f||!b.lineNumber||!b.fileName||!b.stack?{message:b.message,name:b.name,lineNumber:d,fileName:e,stack:b.stack||"Not available"}:
b};goog.debug.enhanceError=function(b,c){var d="string"==typeof b?Error(b):b;d.stack||(d.stack=goog.debug.getStacktrace(arguments.callee.caller));if(c){for(var e=0;d["message"+e];)++e;d["message"+e]=""+c}return d};
goog.debug.getStacktraceSimple=function(b){for(var c=[],d=arguments.callee.caller,e=0;d&&(!b||e<b);){c.push(goog.debug.getFunctionName(d));c.push("()\n");try{d=d.caller}catch(f){c.push("[exception trying to get caller]\n");break}e++;if(e>=goog.debug.MAX_STACK_DEPTH){c.push("[...long stack...]");break}}b&&e>=b?c.push("[...reached max depth limit...]"):c.push("[end]");return c.join("")};goog.debug.MAX_STACK_DEPTH=50;
goog.debug.getStacktrace=function(b){return goog.debug.getStacktraceHelper_(b||arguments.callee.caller,[])};
goog.debug.getStacktraceHelper_=function(b,c){var d=[];if(goog.array.contains(c,b))d.push("[...circular reference...]");else if(b&&c.length<goog.debug.MAX_STACK_DEPTH){d.push(goog.debug.getFunctionName(b)+"(");for(var e=b.arguments,f=0;f<e.length;f++){0<f&&d.push(", ");var g;g=e[f];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=""+g;break;case "boolean":g=g?"true":"false";break;case "function":g=(g=goog.debug.getFunctionName(g))?g:"[fn]";break;default:g=
typeof g}40<g.length&&(g=g.substr(0,40)+"...");d.push(g)}c.push(b);d.push(")\n");try{d.push(goog.debug.getStacktraceHelper_(b.caller,c))}catch(h){d.push("[exception trying to get caller]\n")}}else b?d.push("[...long stack...]"):d.push("[end]");return d.join("")};goog.debug.setFunctionResolver=function(b){goog.debug.fnNameResolver_=b};
goog.debug.getFunctionName=function(b){if(goog.debug.fnNameCache_[b])return goog.debug.fnNameCache_[b];if(goog.debug.fnNameResolver_){var c=goog.debug.fnNameResolver_(b);if(c)return goog.debug.fnNameCache_[b]=c}b=""+b;goog.debug.fnNameCache_[b]||(c=/function ([^\(]+)/.exec(b),goog.debug.fnNameCache_[b]=c?c[1]:"[Anonymous]");return goog.debug.fnNameCache_[b]};
goog.debug.makeWhitespaceVisible=function(b){return b.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,"[n]\n").replace(/\r/g,"[r]").replace(/\t/g,"[t]")};goog.debug.fnNameCache_={};goog.debug.LogRecord=function(b,c,d,e,f){this.reset(b,c,d,e,f)};goog.debug.LogRecord.prototype.sequenceNumber_=0;goog.debug.LogRecord.prototype.exception_=null;goog.debug.LogRecord.prototype.exceptionText_=null;goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS=!0;goog.debug.LogRecord.nextSequenceNumber_=0;
goog.debug.LogRecord.prototype.reset=function(b,c,d,e,f){goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS&&(this.sequenceNumber_="number"==typeof f?f:goog.debug.LogRecord.nextSequenceNumber_++);this.time_=e||goog.now();this.level_=b;this.msg_=c;this.loggerName_=d;delete this.exception_;delete this.exceptionText_};goog.debug.LogRecord.prototype.getLoggerName=function(){return this.loggerName_};goog.debug.LogRecord.prototype.getException=function(){return this.exception_};
goog.debug.LogRecord.prototype.setException=function(b){this.exception_=b};goog.debug.LogRecord.prototype.getExceptionText=function(){return this.exceptionText_};goog.debug.LogRecord.prototype.setExceptionText=function(b){this.exceptionText_=b};goog.debug.LogRecord.prototype.setLoggerName=function(b){this.loggerName_=b};goog.debug.LogRecord.prototype.getLevel=function(){return this.level_};goog.debug.LogRecord.prototype.setLevel=function(b){this.level_=b};
goog.debug.LogRecord.prototype.getMessage=function(){return this.msg_};goog.debug.LogRecord.prototype.setMessage=function(b){this.msg_=b};goog.debug.LogRecord.prototype.getMillis=function(){return this.time_};goog.debug.LogRecord.prototype.setMillis=function(b){this.time_=b};goog.debug.LogRecord.prototype.getSequenceNumber=function(){return this.sequenceNumber_};goog.debug.LogBuffer=function(){goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(),"Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY.");this.clear()};goog.debug.LogBuffer.getInstance=function(){goog.debug.LogBuffer.instance_||(goog.debug.LogBuffer.instance_=new goog.debug.LogBuffer);return goog.debug.LogBuffer.instance_};goog.debug.LogBuffer.CAPACITY=0;
goog.debug.LogBuffer.prototype.addRecord=function(b,c,d){var e=(this.curIndex_+1)%goog.debug.LogBuffer.CAPACITY;this.curIndex_=e;if(this.isFull_)return e=this.buffer_[e],e.reset(b,c,d),e;this.isFull_=e==goog.debug.LogBuffer.CAPACITY-1;return this.buffer_[e]=new goog.debug.LogRecord(b,c,d)};goog.debug.LogBuffer.isBufferingEnabled=function(){return 0<goog.debug.LogBuffer.CAPACITY};
goog.debug.LogBuffer.prototype.clear=function(){this.buffer_=Array(goog.debug.LogBuffer.CAPACITY);this.curIndex_=-1;this.isFull_=!1};goog.debug.LogBuffer.prototype.forEachRecord=function(b){var c=this.buffer_;if(c[0]){var d=this.curIndex_,e=this.isFull_?d:-1;do e=(e+1)%goog.debug.LogBuffer.CAPACITY,b(c[e]);while(e!=d)}};goog.debug.Logger=function(b){this.name_=b};goog.debug.Logger.prototype.parent_=null;goog.debug.Logger.prototype.level_=null;goog.debug.Logger.prototype.children_=null;goog.debug.Logger.prototype.handlers_=null;goog.debug.Logger.ENABLE_HIERARCHY=!0;goog.debug.Logger.ENABLE_HIERARCHY||(goog.debug.Logger.rootHandlers_=[]);goog.debug.Logger.Level=function(b,c){this.name=b;this.value=c};goog.debug.Logger.Level.prototype.toString=function(){return this.name};
goog.debug.Logger.Level.OFF=new goog.debug.Logger.Level("OFF",Infinity);goog.debug.Logger.Level.SHOUT=new goog.debug.Logger.Level("SHOUT",1200);goog.debug.Logger.Level.SEVERE=new goog.debug.Logger.Level("SEVERE",1E3);goog.debug.Logger.Level.WARNING=new goog.debug.Logger.Level("WARNING",900);goog.debug.Logger.Level.INFO=new goog.debug.Logger.Level("INFO",800);goog.debug.Logger.Level.CONFIG=new goog.debug.Logger.Level("CONFIG",700);goog.debug.Logger.Level.FINE=new goog.debug.Logger.Level("FINE",500);
goog.debug.Logger.Level.FINER=new goog.debug.Logger.Level("FINER",400);goog.debug.Logger.Level.FINEST=new goog.debug.Logger.Level("FINEST",300);goog.debug.Logger.Level.ALL=new goog.debug.Logger.Level("ALL",0);
goog.debug.Logger.Level.PREDEFINED_LEVELS=[goog.debug.Logger.Level.OFF,goog.debug.Logger.Level.SHOUT,goog.debug.Logger.Level.SEVERE,goog.debug.Logger.Level.WARNING,goog.debug.Logger.Level.INFO,goog.debug.Logger.Level.CONFIG,goog.debug.Logger.Level.FINE,goog.debug.Logger.Level.FINER,goog.debug.Logger.Level.FINEST,goog.debug.Logger.Level.ALL];goog.debug.Logger.Level.predefinedLevelsCache_=null;
goog.debug.Logger.Level.createPredefinedLevelsCache_=function(){goog.debug.Logger.Level.predefinedLevelsCache_={};for(var b=0,c;c=goog.debug.Logger.Level.PREDEFINED_LEVELS[b];b++){goog.debug.Logger.Level.predefinedLevelsCache_[c.value]=c;goog.debug.Logger.Level.predefinedLevelsCache_[c.name]=c}};
goog.debug.Logger.Level.getPredefinedLevel=function(b){goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_();return goog.debug.Logger.Level.predefinedLevelsCache_[b]||null};
goog.debug.Logger.Level.getPredefinedLevelByValue=function(b){goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_();if(b in goog.debug.Logger.Level.predefinedLevelsCache_)return goog.debug.Logger.Level.predefinedLevelsCache_[b];for(var c=0;c<goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++c){var d=goog.debug.Logger.Level.PREDEFINED_LEVELS[c];if(d.value<=b)return d}return null};goog.debug.Logger.getLogger=function(b){return goog.debug.LogManager.getLogger(b)};
goog.debug.Logger.logToProfilers=function(b){goog.global.console&&(goog.global.console.timeStamp?goog.global.console.timeStamp(b):goog.global.console.markTimeline&&goog.global.console.markTimeline(b));goog.global.msWriteProfilerMark&&goog.global.msWriteProfilerMark(b)};goog.debug.Logger.prototype.getName=function(){return this.name_};
goog.debug.Logger.prototype.addHandler=function(b){if(goog.debug.Logger.ENABLE_HIERARCHY){if(!this.handlers_)this.handlers_=[];this.handlers_.push(b)}else{goog.asserts.assert(!this.name_,"Cannot call addHandler on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false.");goog.debug.Logger.rootHandlers_.push(b)}};goog.debug.Logger.prototype.removeHandler=function(b){var c=goog.debug.Logger.ENABLE_HIERARCHY?this.handlers_:goog.debug.Logger.rootHandlers_;return!!c&&goog.array.remove(c,b)};
goog.debug.Logger.prototype.getParent=function(){return this.parent_};goog.debug.Logger.prototype.getChildren=function(){if(!this.children_)this.children_={};return this.children_};goog.debug.Logger.prototype.setLevel=function(b){if(goog.debug.Logger.ENABLE_HIERARCHY)this.level_=b;else{goog.asserts.assert(!this.name_,"Cannot call setLevel() on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false.");goog.debug.Logger.rootLevel_=b}};goog.debug.Logger.prototype.getLevel=function(){return this.level_};
goog.debug.Logger.prototype.getEffectiveLevel=function(){if(!goog.debug.Logger.ENABLE_HIERARCHY)return goog.debug.Logger.rootLevel_;if(this.level_)return this.level_;if(this.parent_)return this.parent_.getEffectiveLevel();goog.asserts.fail("Root logger has no level set.");return null};goog.debug.Logger.prototype.isLoggable=function(b){return b.value>=this.getEffectiveLevel().value};goog.debug.Logger.prototype.log=function(b,c,d){this.isLoggable(b)&&this.doLogRecord_(this.getLogRecord(b,c,d))};
goog.debug.Logger.prototype.getLogRecord=function(b,c,d){var e=goog.debug.LogBuffer.isBufferingEnabled()?goog.debug.LogBuffer.getInstance().addRecord(b,c,this.name_):new goog.debug.LogRecord(b,""+c,this.name_);if(d){e.setException(d);e.setExceptionText(goog.debug.exposeException(d,arguments.callee.caller))}return e};goog.debug.Logger.prototype.shout=function(b,c){this.log(goog.debug.Logger.Level.SHOUT,b,c)};
goog.debug.Logger.prototype.severe=function(b,c){this.log(goog.debug.Logger.Level.SEVERE,b,c)};goog.debug.Logger.prototype.warning=function(b,c){this.log(goog.debug.Logger.Level.WARNING,b,c)};goog.debug.Logger.prototype.info=function(b,c){this.log(goog.debug.Logger.Level.INFO,b,c)};goog.debug.Logger.prototype.config=function(b,c){this.log(goog.debug.Logger.Level.CONFIG,b,c)};goog.debug.Logger.prototype.fine=function(b,c){this.log(goog.debug.Logger.Level.FINE,b,c)};
goog.debug.Logger.prototype.finer=function(b,c){this.log(goog.debug.Logger.Level.FINER,b,c)};goog.debug.Logger.prototype.finest=function(b,c){this.log(goog.debug.Logger.Level.FINEST,b,c)};goog.debug.Logger.prototype.logRecord=function(b){this.isLoggable(b.getLevel())&&this.doLogRecord_(b)};
goog.debug.Logger.prototype.doLogRecord_=function(b){goog.debug.Logger.logToProfilers("log:"+b.getMessage());if(goog.debug.Logger.ENABLE_HIERARCHY)for(var c=this;c;){c.callPublish_(b);c=c.getParent()}else for(var c=0,d;d=goog.debug.Logger.rootHandlers_[c++];)d(b)};goog.debug.Logger.prototype.callPublish_=function(b){if(this.handlers_)for(var c=0,d;d=this.handlers_[c];c++)d(b)};goog.debug.Logger.prototype.setParent_=function(b){this.parent_=b};
goog.debug.Logger.prototype.addChild_=function(b,c){this.getChildren()[b]=c};goog.debug.LogManager={};goog.debug.LogManager.loggers_={};goog.debug.LogManager.rootLogger_=null;goog.debug.LogManager.initialize=function(){if(!goog.debug.LogManager.rootLogger_){goog.debug.LogManager.rootLogger_=new goog.debug.Logger("");goog.debug.LogManager.loggers_[""]=goog.debug.LogManager.rootLogger_;goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG)}};goog.debug.LogManager.getLoggers=function(){return goog.debug.LogManager.loggers_};
goog.debug.LogManager.getRoot=function(){goog.debug.LogManager.initialize();return goog.debug.LogManager.rootLogger_};goog.debug.LogManager.getLogger=function(b){goog.debug.LogManager.initialize();return goog.debug.LogManager.loggers_[b]||goog.debug.LogManager.createLogger_(b)};goog.debug.LogManager.createFunctionForCatchErrors=function(b){return function(c){(b||goog.debug.LogManager.getRoot()).severe("Error: "+c.message+" ("+c.fileName+" @ Line: "+c.line+")")}};
goog.debug.LogManager.createLogger_=function(b){var c=new goog.debug.Logger(b);if(goog.debug.Logger.ENABLE_HIERARCHY){var d=b.lastIndexOf("."),e=b.substr(0,d),d=b.substr(d+1),e=goog.debug.LogManager.getLogger(e);e.addChild_(d,c);c.setParent_(e)}return goog.debug.LogManager.loggers_[b]=c};goog.net.XhrIo=function(b){goog.events.EventTarget.call(this);this.headers=new goog.structs.Map;this.xmlHttpFactory_=b||null};goog.inherits(goog.net.XhrIo,goog.events.EventTarget);goog.net.XhrIo.ResponseType={DEFAULT:"",TEXT:"text",DOCUMENT:"document",BLOB:"blob",ARRAY_BUFFER:"arraybuffer"};goog.net.XhrIo.prototype.logger_=goog.debug.Logger.getLogger("goog.net.XhrIo");goog.net.XhrIo.CONTENT_TYPE_HEADER="Content-Type";goog.net.XhrIo.HTTP_SCHEME_PATTERN=/^https?$/i;
goog.net.XhrIo.FORM_CONTENT_TYPE="application/x-www-form-urlencoded;charset=utf-8";goog.net.XhrIo.sendInstances_=[];goog.net.XhrIo.send=function(b,c,d,e,f,g){var h=new goog.net.XhrIo;goog.net.XhrIo.sendInstances_.push(h);c&&goog.events.listen(h,goog.net.EventType.COMPLETE,c);goog.events.listen(h,goog.net.EventType.READY,goog.partial(goog.net.XhrIo.cleanupSend_,h));g&&h.setTimeoutInterval(g);h.send(b,d,e,f)};goog.net.XhrIo.cleanup=function(){for(var b=goog.net.XhrIo.sendInstances_;b.length;)b.pop().dispose()};
goog.net.XhrIo.protectEntryPoints=function(b){goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=b.protectEntryPoint(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)};goog.net.XhrIo.cleanupSend_=function(b){b.dispose();goog.array.remove(goog.net.XhrIo.sendInstances_,b)};goog.net.XhrIo.prototype.active_=!1;goog.net.XhrIo.prototype.xhr_=null;goog.net.XhrIo.prototype.xhrOptions_=null;goog.net.XhrIo.prototype.lastUri_="";goog.net.XhrIo.prototype.lastMethod_="";
goog.net.XhrIo.prototype.lastErrorCode_=goog.net.ErrorCode.NO_ERROR;goog.net.XhrIo.prototype.lastError_="";goog.net.XhrIo.prototype.errorDispatched_=!1;goog.net.XhrIo.prototype.inSend_=!1;goog.net.XhrIo.prototype.inOpen_=!1;goog.net.XhrIo.prototype.inAbort_=!1;goog.net.XhrIo.prototype.timeoutInterval_=0;goog.net.XhrIo.prototype.timeoutId_=null;goog.net.XhrIo.prototype.responseType_=goog.net.XhrIo.ResponseType.DEFAULT;goog.net.XhrIo.prototype.withCredentials_=!1;
goog.net.XhrIo.prototype.getTimeoutInterval=function(){return this.timeoutInterval_};goog.net.XhrIo.prototype.setTimeoutInterval=function(b){this.timeoutInterval_=Math.max(0,b)};goog.net.XhrIo.prototype.setResponseType=function(b){this.responseType_=b};goog.net.XhrIo.prototype.getResponseType=function(){return this.responseType_};goog.net.XhrIo.prototype.setWithCredentials=function(b){this.withCredentials_=b};goog.net.XhrIo.prototype.getWithCredentials=function(){return this.withCredentials_};
goog.net.XhrIo.prototype.send=function(b,c,d,e){if(this.xhr_)throw Error("[goog.net.XhrIo] Object is active with another request");c=c?c.toUpperCase():"GET";this.lastUri_=b;this.lastError_="";this.lastErrorCode_=goog.net.ErrorCode.NO_ERROR;this.lastMethod_=c;this.errorDispatched_=!1;this.active_=!0;this.xhr_=this.createXhr();this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():goog.net.XmlHttp.getOptions();this.xhr_.onreadystatechange=goog.bind(this.onReadyStateChange_,this);try{this.logger_.fine(this.formatMsg_("Opening Xhr")),
this.inOpen_=!0,this.xhr_.open(c,b,!0),this.inOpen_=!1}catch(f){this.logger_.fine(this.formatMsg_("Error opening Xhr: "+f.message));this.error_(goog.net.ErrorCode.EXCEPTION,f);return}var b=d||"",g=this.headers.clone();e&&goog.structs.forEach(e,function(b,c){g.set(c,b)});"POST"==c&&!g.containsKey(goog.net.XhrIo.CONTENT_TYPE_HEADER)&&g.set(goog.net.XhrIo.CONTENT_TYPE_HEADER,goog.net.XhrIo.FORM_CONTENT_TYPE);goog.structs.forEach(g,function(b,c){this.xhr_.setRequestHeader(c,b)},this);this.responseType_&&
(this.xhr_.responseType=this.responseType_);goog.object.containsKey(this.xhr_,"withCredentials")&&(this.xhr_.withCredentials=this.withCredentials_);try{this.timeoutId_&&(goog.Timer.defaultTimerObject.clearTimeout(this.timeoutId_),this.timeoutId_=null),0<this.timeoutInterval_&&(this.logger_.fine(this.formatMsg_("Will abort after "+this.timeoutInterval_+"ms if incomplete")),this.timeoutId_=goog.Timer.defaultTimerObject.setTimeout(goog.bind(this.timeout_,this),this.timeoutInterval_)),this.logger_.fine(this.formatMsg_("Sending request")),
this.inSend_=!0,this.xhr_.send(b),this.inSend_=!1}catch(h){this.logger_.fine(this.formatMsg_("Send error: "+h.message)),this.error_(goog.net.ErrorCode.EXCEPTION,h)}};goog.net.XhrIo.prototype.createXhr=function(){return this.xmlHttpFactory_?this.xmlHttpFactory_.createInstance():goog.net.XmlHttp()};
goog.net.XhrIo.prototype.timeout_=function(){"undefined"!=typeof goog&&this.xhr_&&(this.lastError_="Timed out after "+this.timeoutInterval_+"ms, aborting",this.lastErrorCode_=goog.net.ErrorCode.TIMEOUT,this.logger_.fine(this.formatMsg_(this.lastError_)),this.dispatchEvent(goog.net.EventType.TIMEOUT),this.abort(goog.net.ErrorCode.TIMEOUT))};
goog.net.XhrIo.prototype.error_=function(b,c){this.active_=!1;this.xhr_&&(this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1);this.lastError_=c;this.lastErrorCode_=b;this.dispatchErrors_();this.cleanUpXhr_()};goog.net.XhrIo.prototype.dispatchErrors_=function(){this.errorDispatched_||(this.errorDispatched_=!0,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ERROR))};
goog.net.XhrIo.prototype.abort=function(b){this.xhr_&&this.active_&&(this.logger_.fine(this.formatMsg_("Aborting")),this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1,this.lastErrorCode_=b||goog.net.ErrorCode.ABORT,this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.ABORT),this.cleanUpXhr_())};
goog.net.XhrIo.prototype.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=!1,this.inAbort_=!0,this.xhr_.abort(),this.inAbort_=!1),this.cleanUpXhr_(!0));goog.net.XhrIo.superClass_.disposeInternal.call(this)};goog.net.XhrIo.prototype.onReadyStateChange_=function(){if(!this.inOpen_&&!this.inSend_&&!this.inAbort_)this.onReadyStateChangeEntryPoint_();else this.onReadyStateChangeHelper_()};goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=function(){this.onReadyStateChangeHelper_()};
goog.net.XhrIo.prototype.onReadyStateChangeHelper_=function(){if(this.active_&&"undefined"!=typeof goog)if(this.xhrOptions_[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR]&&this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE&&2==this.getStatus())this.logger_.fine(this.formatMsg_("Local request error detected and ignored"));else if(this.inSend_&&this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE)goog.Timer.defaultTimerObject.setTimeout(goog.bind(this.onReadyStateChange_,this),0);else if(this.dispatchEvent(goog.net.EventType.READY_STATE_CHANGE),
this.isComplete()){this.logger_.fine(this.formatMsg_("Request complete"));this.active_=!1;try{this.isSuccess()?(this.dispatchEvent(goog.net.EventType.COMPLETE),this.dispatchEvent(goog.net.EventType.SUCCESS)):(this.lastErrorCode_=goog.net.ErrorCode.HTTP_ERROR,this.lastError_=this.getStatusText()+" ["+this.getStatus()+"]",this.dispatchErrors_())}finally{this.cleanUpXhr_()}}};
goog.net.XhrIo.prototype.cleanUpXhr_=function(b){if(this.xhr_){var c=this.xhr_,d=this.xhrOptions_[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION]?goog.nullFunction:null;this.xhrOptions_=this.xhr_=null;this.timeoutId_&&(goog.Timer.defaultTimerObject.clearTimeout(this.timeoutId_),this.timeoutId_=null);b||this.dispatchEvent(goog.net.EventType.READY);try{c.onreadystatechange=d}catch(e){this.logger_.severe("Problem encountered resetting onreadystatechange: "+e.message)}}};
goog.net.XhrIo.prototype.isActive=function(){return!!this.xhr_};goog.net.XhrIo.prototype.isComplete=function(){return this.getReadyState()==goog.net.XmlHttp.ReadyState.COMPLETE};goog.net.XhrIo.prototype.isSuccess=function(){var b=this.getStatus();return goog.net.HttpStatus.isSuccess(b)||0===b&&!this.isLastUriEffectiveSchemeHttp_()};goog.net.XhrIo.prototype.isLastUriEffectiveSchemeHttp_=function(){var b=goog.uri.utils.getEffectiveScheme(""+this.lastUri_);return goog.net.XhrIo.HTTP_SCHEME_PATTERN.test(b)};
goog.net.XhrIo.prototype.getReadyState=function(){return this.xhr_?this.xhr_.readyState:goog.net.XmlHttp.ReadyState.UNINITIALIZED};goog.net.XhrIo.prototype.getStatus=function(){try{return this.getReadyState()>goog.net.XmlHttp.ReadyState.LOADED?this.xhr_.status:-1}catch(b){return this.logger_.warning("Can not get status: "+b.message),-1}};
goog.net.XhrIo.prototype.getStatusText=function(){try{return this.getReadyState()>goog.net.XmlHttp.ReadyState.LOADED?this.xhr_.statusText:""}catch(b){return this.logger_.fine("Can not get status: "+b.message),""}};goog.net.XhrIo.prototype.getLastUri=function(){return""+this.lastUri_};goog.net.XhrIo.prototype.getResponseText=function(){try{return this.xhr_?this.xhr_.responseText:""}catch(b){return this.logger_.fine("Can not get responseText: "+b.message),""}};
goog.net.XhrIo.prototype.getResponseXml=function(){try{return this.xhr_?this.xhr_.responseXML:null}catch(b){return this.logger_.fine("Can not get responseXML: "+b.message),null}};goog.net.XhrIo.prototype.getResponseJson=function(b){if(this.xhr_){var c=this.xhr_.responseText;b&&0==c.indexOf(b)&&(c=c.substring(b.length));return goog.json.parse(c)}};
goog.net.XhrIo.prototype.getResponse=function(){try{if(!this.xhr_)return null;if("response"in this.xhr_)return this.xhr_.response;switch(this.responseType_){case goog.net.XhrIo.ResponseType.DEFAULT:case goog.net.XhrIo.ResponseType.TEXT:return this.xhr_.responseText;case goog.net.XhrIo.ResponseType.ARRAY_BUFFER:if("mozResponseArrayBuffer"in this.xhr_)return this.xhr_.mozResponseArrayBuffer}this.logger_.severe("Response type "+this.responseType_+" is not supported on this browser");return null}catch(b){return this.logger_.fine("Can not get response: "+
b.message),null}};goog.net.XhrIo.prototype.getResponseHeader=function(b){return this.xhr_&&this.isComplete()?this.xhr_.getResponseHeader(b):void 0};goog.net.XhrIo.prototype.getAllResponseHeaders=function(){return this.xhr_&&this.isComplete()?this.xhr_.getAllResponseHeaders():""};goog.net.XhrIo.prototype.getLastErrorCode=function(){return this.lastErrorCode_};goog.net.XhrIo.prototype.getLastError=function(){return goog.isString(this.lastError_)?this.lastError_:""+this.lastError_};
goog.net.XhrIo.prototype.formatMsg_=function(b){return b+" ["+this.lastMethod_+" "+this.lastUri_+" "+this.getStatus()+"]"};goog.debug.entryPointRegistry.register(function(b){goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_=b(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_)});a.HTTP={};a.HTTP.doGet=function(b,c,d,e){log("GET: "+b);var f=null;aa.isNull(c)||(f={"API-KEY":c});goog.net.XhrIo.send(b,function(b){b=b.target;200==b.getStatus()?aa.isFunc(d)&&d(b.getResponseJson()):aa.isFunc(e)&&e(b.getStatus())},"GET",null,f)};
a.HTTP.doPost=function(b,c,d,e,f){log("POST: "+b+", jsonData:"+d);var g=null,g=aa.isNull(c)?{"Content-Type":"application/json"}:{"API-KEY":c,"Content-Type":"application/json"};goog.net.XhrIo.send(b,function(b){b=b.target;200==b.getStatus()?aa.isFunc(e)&&e(b.getResponseJson()):aa.isFunc(f)&&f(b.getStatus())},"POST",d,g)};
a.HTTP.doDelete=function(b,c,d,e,f){log("DELETE: "+b+", jsonData:"+d);var g=null,g=aa.isNull(c)?{"Content-Type":"application/json"}:{"API-KEY":c,"Content-Type":"application/json"};goog.net.XhrIo.send(b,function(b){b=b.target;200==b.getStatus()?aa.isFunc(e)&&e(b.getResponseJson()):aa.isFunc(f)&&f(b.getStatus())},"DELETE",d,g)};
a.HTTP.doPut=function(b,c,d,e,f){log("PUT: "+b+", jsonData:"+d);var g=null,g=aa.isNull(c)?{"Content-Type":"application/json"}:{"API-KEY":c,"Content-Type":"application/json"};goog.net.XhrIo.send(b,function(b){b=b.target;200==b.getStatus()?aa.isFunc(e)&&e(b.getResponseJson()):aa.isFunc(f)&&f(b.getStatus())},"PUT",d,g)};a.Id={AG_ROOT:"AG",AG_kbd:"AG_kbd",AG_load:"AG_load",xLoading:"xLoading",tabLogo:"tabLogo",tabGames:"tabGames",tabFriends:"tabFriends",tabProfile:"tabProfile",pfAvatar:"pfAvatar",pfImg:"pfImg",pfImgBg:"pfImgBg",pfName:"pfName",pfSexBoy:"pfSexBoy",pfSexGirl:"pfSexGirl",pfSexInco:"pfSexInco",pfAge:"pfAge",pfStatus:"pfStatus",pfLast:"pfLast",pfEmail:"pfEmail",pfPhone:"pfPhone",pfPass:"pfPass",pfLogout:"pfLogout",pfBuild:"pfBuild",paFaces:"paFaces",paAvatar:"paAvatar",paSwitch:"paSwitch",paColors:"paColors",
paSavePanel:"paSavePanel",puBack:"puBack",puSave:"puSave",puInput:"puInput",puInputConfirm:"puInputConfirm",puRefresh:"puRefresh",puAnchor:"puAnchor",puSelects:"puSelects",gaRows:"gaRows",garow:"garow",gaFeat1:"gaFeat1",gmImg:"gmImg",gmBack:"gmBack",hmTbImage:"hmTbImage",hmTbTitle:"hmTbTitle",hmTbMsg:"hmTbMsg",hmTbMsg2:"hmTbMsg2",hmMascot:"hmMascot",hmFeat1:"hmFeat1",hmFeat2:"hmFeat2",hmMoreBtn:"hmMoreBtn",hmTidbit:"hmTidbit",frBack:"frBack",frImgBg:"frImgBg",frAddBtn:"frAddBtn",tbBack:"tbBack",fsInput:"fsInput",
fsClearSearchBtn:"fsClearSearchBtn",fsAnchor:"fsAnchor",fsViewOnline:"fsViewOnline",fsViewChange:"fsViewChange",fsViewRecent:"fsViewRecent",fsViewBlock:"fsViewBlock",fsSelectRecent:"fsSelectRecent",fsSelectBlocked:"fsSelectBlocked",fsRowsOnline:"fsRowsOnline",fsRowsOffline:"fsRowsOffline",fsRowsRecent:"fsRowsRecent",fsRowsBlocked:"fsRowsBlocked",fsBlockedMascot:"fsBlockedMascot",fsTitle:"fsTitle",fsSlideBtn:"fsSlideBtn",fsCancelBtn:"fsCancelBtn",fsFriendRequests:"fsFriendRequests",fsFriendRequestRows:"fsFriendRequestRows",
opAddBtn:"opAddBtn",opDeleteBtn:"opDeleteBtn",opBlockBtn:"opBlockBtn",opUnblockBtn:"opUnblockBtn",opPosition:"opPosition",snLandBtn:"snLandBtn",snLandSky:"snLandSky",snEmailFormPanel:"snEmailFormPanel",snEmailBtn:"snEmailBtn",snEmailInput:"snEmailInput",snEmailBack:"snEmailBack",snPassFormPanel:"snPassFormPanel",snPassBtn:"snPassBtn",snPassBack:"snPassBack",snPassInput:"snPassInput",snPassLbl:"snPassLbl",snNewPassFormPanel:"snNewPassFormPanel",snNewPassBtn:"snNewPassBtn",snNewPassBack:"snNewPassBack",
snNewPassInput:"snNewPassInput",snNewPassLbl:"snNewPassLbl",snForgotLetin:"snForgotLetin",snForgotAnother:"snForgotAnother",snForgotSend:"snForgotSend",snForgotBack:"snForgotBack",snForgotInput:"snForgotInput",snForgotImg:"snForgotImg",snForgotLabel:"snForgotLabel",snForgotPassBtn:"snForgotPassBtn",snContactusBtn:"snContactusBtn",snTermsBtn:"snTermsBtn",snTermsBack:"snTermsBack",snTermsText:"snTermsText",snNewDispBtn:"snNewDispBtn",snNewDispBack:"snNewDispBack",snNewDispInput:"snNewDispInput",snNewDispRefresh:"snNewDispRefresh",
snAvatarBack:"snAvatarBack",snAvatarSwitch:"snAvatarSwitch",snFaces:"snFaces",snColorSwitch:"snColorSwitch",snColorImage:"snColorImage",clr:"clr",face:"face",tb:"tb",snColorDone:"snColorDone",snColorBack:"snColorBack"};a.Widget=function(){this.children_=[];this.isAttached_=!1};a.Widget.prototype.onAttach=function(){};a.Widget.prototype.onDetach=function(){};a.Widget.prototype.setPresenter=function(b){this.presenter_=b};a.Widget.prototype.getParent=function(){return this.parent_};a.Widget.prototype.getChildren=function(){return this.children_};
a.Widget.prototype.add=function(b){if(!goog.isDefAndNotNull(b))throw Error("a.Widget:add Empty widget");if(!a.Widget.isWidgetOrEle(b))throw Error("a.Widget:add Wrong type, not a Widget or Element");goog.array.insert(this.children_,b);a.Widget.isWidget(b)?(goog.dom.appendChild(this.getElement(),b.getElement()),b.isAttached_||(b.onAttach(),b.isAttached_=!0),this.attachChildren(b,0)):goog.dom.appendChild(this.getElement(),b)};
a.Widget.prototype.remove=function(b){if(!goog.isDefAndNotNull(b))throw Error("a.Widget:remove Empty widget");if(!a.Widget.isWidgetOrEle(b))throw Error("a.Widget:remove Wrong type, not a Widget or Element");if(0<=goog.array.remove(this.children_,b))goog.dom.removeNode(b.getElement()),a.Widget.isWidget(b)&&(b.isAttached_&&(b.onDetach(),b.isAttached_=!1),this.detachChildren(b));else throw Error("a.Widget:remove widget not found in current Element");};
a.Widget.prototype.render=function(b){if(!goog.isDefAndNotNull(b))throw Error("a.Widget::render Empty parent widget.");if(!a.Widget.isWidgetOrEle(b))throw Error("a.Widget::render Parent must be {a.Widget} or {Element} type.");this.parent_=b;goog.dom.removeChildren(b);goog.dom.appendChild(b,this.getElement());this.isAttached_||(this.onAttach(),this.isAttached_=!0);this.onRender()};
a.Widget.prototype.addToParent=function(b){if(!goog.isDefAndNotNull(b))throw Error("a.Widget::render Empty parent widget.");if(!a.Widget.isWidgetOrEle(b))throw Error("a.Widget::render Parent must be {a.Widget} or {Element} type.");this.parent_=b;goog.dom.appendChild(b,this.getElement());this.isAttached_||(this.onAttach(),this.isAttached_=!0);this.onRender()};a.Widget.prototype.onRender=function(){};
a.Widget.prototype.removeFromParent=function(){if(!goog.isDefAndNotNull(this.parent_))throw Error("a.Widget:removeFromParent Empty parent_");a.Widget.isWidget(this.parent_)?this.parent_.remove(this):goog.dom.removeNode(this.getElement());this.isAttached_=!1};
a.Widget.prototype.detachChildren=function(b,c){if(goog.isDefAndNotNull(b)&&a.Widget.isWidget(b))for(var d=b.getChildren(),e=0;e<d.length;e++){var f=d[e];f instanceof a.Widget&&(f.isAttached_&&(f.onDetach(),f.isAttached_=!1),this.detachChildren(f,c++))}};
a.Widget.prototype.attachChildren=function(b,c){if(goog.isDefAndNotNull(b)&&a.Widget.isWidget(b))for(var d=b.getChildren(),e=0;e<d.length;e++){var f=d[e];f instanceof a.Widget&&(f.isAttached_||(f.onAttach(),f.isAttached_=!1),this.attachChildren(f,c++))}};a.Widget.isWidgetOrEle=function(b){return b instanceof a.Widget||b instanceof Element?!0:!1};a.Widget.isWidget=function(b){return b instanceof a.Widget};a.History=function(b){a.History.ctx_=b;window.location.hash=1;window.location.hash=2;window.location.hash=3;setTimeout(function(){"onhashchange"in window||"onhashchange"in document?window.onhashchange=function(){var b=location.hash.substr(1);a.History.onValueChange(b)}:new BlackPopup("No History support on this phone")},1E3)};a.History.ctx_=null;a.History.push=function(b){a.History.ctx_.getSession().setHist(b);window.location.hash=b};
a.History.onValueChange=function(b){var c=a.History.ctx_.getSession();c.getHist()!==b&&(aa.isNull(c.getSign())?c.isValid()&&(a.History.doActiveSession(b),hideUrl()):(a.History.doSign(b),hideUrl()))};
a.History.doSign=function(b){var c=a.History.ctx_;if(c.getSession().isValid())a.Hist.sNewDispl===b?a.History.goBackSign(c.getUi().signNewDisplay()):a.Hist.sNewAvatar===b?a.History.goBackSign(c.getUi().signNewAvatar()):a.Hist.sNewAvatarColor===b?a.History.goBackSign(c.getUi().signNewAvatarColor()):a.History.push(c.getSession().getHist());else if(a.Hist.sLanding===b)a.History.goBackSign(c.getUi().signLanding());else if(a.Hist.sEmail===b)a.History.goBackSign(c.getUi().signEmail());else if(a.Hist.sPassword===
b)a.History.goBackSign(c.getUi().signPassword());else if(a.Hist.sNewPass===b)a.History.goBackSign(c.getUi().signNewPassword());else if(a.Hist.sForgotPass===b)a.History.goBackSign(c.getUi().signForgotPassword());else if(a.Hist.sTerms===b){var d=c.getUi().signTerms();a.History.goBackSign(d);c.getApi().getTerms(function(b){d.loadTerms(b)})}else a.History.push(a.Hist.sLanding)};a.History.goBackSign=function(b){var c=a.History.ctx_;c.getSession().getSign();c.setCurrentView(b);b.attach()};
a.History.doActiveSession=function(b){var c=a.History.ctx_;a.Hist.Activity===b?c.fireEvent(a.Event.MenuClickedEvent,b):a.Hist.Games===b?c.fireEvent(a.Event.MenuClickedEvent,b):a.Hist.Chats===b?c.fireEvent(a.Event.MenuClickedEvent,b):a.Hist.Friends===b?c.fireEvent(a.Event.MenuClickedEvent,b):a.Hist.Profile===b?c.fireEvent(a.Event.MenuClickedEvent,b):a.Hist.tidbits===b?c.fireEvent(a.Event.TidbitListClickedEvent,b):a.History.push(a.Hist.Activity)};a.FastButton=function(b,c,d){this.element=b;this.handler=c;this.showDarkBackground=d;b.addEventListener("touchstart",this,!1)};a.FastButton.prototype.handleEvent=function(b){switch(b.type){case "touchstart":this.onTouchStart(b);break;case "touchmove":this.onTouchMove(b);break;case "touchend":this.onClick(b);break;case "click":this.onClick(b)}};
a.FastButton.prototype.onTouchStart=function(b){b.stopPropagation();this.element.addEventListener("touchend",this,!1);document.body.addEventListener("touchmove",this,!1);this.startX=b.touches[0].clientX;this.startY=b.touches[0].clientY;this.showDarkBackground&&(this.element.style.backgroundColor="rgba(0,0,0,.7)")};a.FastButton.prototype.onTouchMove=function(b){(10<Math.abs(b.touches[0].clientX-this.startX)||10<Math.abs(b.touches[0].clientY-this.startY))&&this.reset()};
a.FastButton.prototype.onClick=function(b){b.stopPropagation();this.reset();this.handler(b);"touchend"==b.type&&AG_preventGhostClick(this.startX,this.startY);this.element.style.backgroundColor=""};a.FastButton.prototype.reset=function(){this.element.removeEventListener("touchend",this,!1);document.body.removeEventListener("touchmove",this,!1);this.element.style.backgroundColor=""};
var AG_preventGhostClick=function(b,c){AG_coordinates.push(b,c);window.setTimeout(AG_gpop,2500)},AG_gpop=function(){AG_coordinates.splice(0,2)},AG_gonClick=function(b){for(var c=0;c<AG_coordinates.length;c+=2){var d=AG_coordinates[c+1];25>Math.abs(b.clientX-AG_coordinates[c])&&25>Math.abs(b.clientY-d)&&(b.stopPropagation(),b.preventDefault())}};document.addEventListener("click",AG_gonClick,!0);var AG_coordinates=[];goog.string.StringBuffer=function(b,c){null!=b&&this.append.apply(this,arguments)};goog.string.StringBuffer.prototype.buffer_="";goog.string.StringBuffer.prototype.set=function(b){this.buffer_=""+b};goog.string.StringBuffer.prototype.append=function(b,c,d){this.buffer_+=b;if(null!=c)for(var e=1;e<arguments.length;e++)this.buffer_+=arguments[e];return this};goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""};goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length};
goog.string.StringBuffer.prototype.toString=function(){return this.buffer_};goog.soy={};goog.soy.renderElement=function(b,c,d,e){b.innerHTML=c(d||goog.soy.defaultTemplateData_,void 0,e)};goog.soy.renderAsFragment=function(b,c,d,e){return(e||goog.dom.getDomHelper()).htmlToDocumentFragment(b(c||goog.soy.defaultTemplateData_,void 0,d))};
goog.soy.renderAsElement=function(b,c,d,e){e=(e||goog.dom.getDomHelper()).createElement(goog.dom.TagName.DIV);e.innerHTML=b(c||goog.soy.defaultTemplateData_,void 0,d);return 1==e.childNodes.length&&(b=e.firstChild,b.nodeType==goog.dom.NodeType.ELEMENT)?b:e};goog.soy.defaultTemplateData_={};goog.structs.InversionMap=function(b,c,d){if(b.length!=c.length)return null;this.storeInversion_(b,d);this.values=c};goog.structs.InversionMap.prototype.storeInversion_=function(b,c){this.rangeArray=b;for(var d=1;d<b.length;d++)null==b[d]?b[d]=b[d-1]+1:c&&(b[d]+=b[d-1])};
goog.structs.InversionMap.prototype.spliceInversion=function(b,c,d){var b=new goog.structs.InversionMap(b,c,d),d=b.rangeArray[0],e=goog.array.peek(b.rangeArray),c=this.getLeast(d),e=this.getLeast(e);d!=this.rangeArray[c]&&c++;d=e-c+1;goog.partial(goog.array.splice,this.rangeArray,c,d).apply(null,b.rangeArray);goog.partial(goog.array.splice,this.values,c,d).apply(null,b.values)};goog.structs.InversionMap.prototype.at=function(b){b=this.getLeast(b);return 0>b?null:this.values[b]};
goog.structs.InversionMap.prototype.getLeast=function(b){for(var c=this.rangeArray,d=0,e=c.length;8<e-d;){var f=e+d>>1;c[f]<=b?d=f:e=f}for(;d<e&&!(b<c[d]);++d);return d-1};goog.i18n={};goog.i18n.GraphemeBreak={};goog.i18n.GraphemeBreak.property={ANY:0,CONTROL:1,EXTEND:2,PREPEND:3,SPACING_MARK:4,L:5,V:6,T:7,LV:8,LVT:9,CR:10,LF:11};goog.i18n.GraphemeBreak.inversions_=null;
goog.i18n.GraphemeBreak.applyLegacyBreakRules_=function(b,c){var d=goog.i18n.GraphemeBreak.property;return b==d.CR&&c==d.LF?!1:b==d.CONTROL||b==d.CR||b==d.LF||c==d.CONTROL||c==d.CR||c==d.LF?!0:b==d.L&&(c==d.L||c==d.V||c==d.LV||c==d.LVT)||(b==d.LV||b==d.V)&&(c==d.V||c==d.T)||(b==d.LVT||b==d.T)&&c==d.T||c==d.EXTEND?!1:!0};
goog.i18n.GraphemeBreak.getBreakProp_=function(b){if(44032<=b&&55203>=b){var c=goog.i18n.GraphemeBreak.property;return 16==b%28?c.LV:c.LVT}goog.i18n.GraphemeBreak.inversions_||(goog.i18n.GraphemeBreak.inversions_=new goog.structs.InversionMap([0,10,1,2,1,18,95,33,13,1,594,112,275,7,263,45,1,1,1,2,1,2,1,1,56,4,12,11,48,20,17,1,101,7,1,7,2,2,1,4,33,1,1,1,30,27,91,11,58,9,269,2,1,56,1,1,3,8,4,1,3,4,13,2,29,1,2,56,1,1,1,2,6,6,1,9,1,10,2,29,2,1,56,2,3,17,30,2,3,14,1,56,1,1,3,8,4,1,20,2,29,1,2,56,1,1,2,
1,6,6,11,10,2,30,1,59,1,1,1,12,1,9,1,41,3,58,3,5,17,11,2,30,2,56,1,1,1,1,2,1,3,1,5,11,11,2,30,2,58,1,2,5,7,11,10,2,30,2,70,6,2,6,7,19,2,60,11,5,5,1,1,8,97,13,3,5,3,6,74,2,27,1,1,1,1,1,4,2,49,14,1,5,1,2,8,45,9,1,100,2,4,1,6,1,2,2,2,23,2,2,4,3,1,3,2,7,3,4,13,1,2,2,6,1,1,1,112,96,72,82,357,1,946,3,29,3,29,2,30,2,64,2,1,7,8,1,2,11,9,1,45,3,155,1,118,3,4,2,9,1,6,3,116,17,7,2,77,2,3,228,4,1,47,1,1,5,1,1,5,1,2,38,9,12,2,1,30,1,4,2,2,1,121,8,8,2,2,392,64,523,1,2,2,24,7,49,16,96,33,3311,32,554,6,105,2,30164,
4,9,2,388,1,3,1,4,1,23,2,2,1,88,2,50,16,1,97,8,25,11,2,213,6,2,2,2,2,12,1,8,1,1,434,11172,1116,1024,6942,1,737,16,16,7,216,1,158,2,89,3,513,1,2051,15,40,8,50981,1,1,3,3,1,5,8,8,2,7,30,4,148,3,798140,255],[1,11,1,10,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,1,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,0,2,4,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,2,4,2,0,2,0,4,0,2,4,2,0,2,0,4,0,2,0,4,2,4,2,4,2,4,2,0,2,0,4,
0,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,4,0,2,0,3,2,0,2,0,2,0,3,0,2,0,2,0,2,0,2,0,2,0,4,0,2,4,2,0,2,0,2,0,2,0,4,2,4,2,4,2,4,2,0,4,2,0,2,0,4,0,4,0,2,0,2,4,2,4,2,0,4,0,5,6,7,0,2,0,2,0,2,0,2,0,2,0,1,4,2,4,2,4,2,0,2,0,2,0,2,0,2,4,2,4,2,4,2,0,4,0,4,0,2,4,0,2,4,0,2,4,2,4,2,4,2,4,0,2,0,2,4,0,4,2,4,2,4,0,4,2,4,2,0,2,0,1,2,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,4,2,4,0,4,0,4,2,0,2,0,2,4,0,2,4,2,4,2,0,2,0,2,4,0,9,0,2,0,2,0,2,0,2,0,1,0,2,0,1,0,2,0,2,0,2,0,2,4,2,0,4,2,1,2,0,2,0,2,0,2,0,1,2],!0));return goog.i18n.GraphemeBreak.inversions_.at(b)};
goog.i18n.GraphemeBreak.hasGraphemeBreak=function(b,c,d){var b=goog.i18n.GraphemeBreak.getBreakProp_(b),c=goog.i18n.GraphemeBreak.getBreakProp_(c),e=goog.i18n.GraphemeBreak.property;return goog.i18n.GraphemeBreak.applyLegacyBreakRules_(b,c)&&!(d&&(b==e.PREPEND||c==e.SPACING_MARK))};goog.format={};goog.format.fileSize=function(b,c){return goog.format.numBytesToString(b,c,!1)};goog.format.isConvertableScaledNumber=function(b){return goog.format.SCALED_NUMERIC_RE_.test(b)};goog.format.stringToNumericValue=function(b){return goog.string.endsWith(b,"B")?goog.format.stringToNumericValue_(b,goog.format.NUMERIC_SCALES_BINARY_):goog.format.stringToNumericValue_(b,goog.format.NUMERIC_SCALES_SI_)};goog.format.stringToNumBytes=function(b){return goog.format.stringToNumericValue_(b,goog.format.NUMERIC_SCALES_BINARY_)};
goog.format.numericValueToString=function(b,c){return goog.format.numericValueToString_(b,goog.format.NUMERIC_SCALES_SI_,c)};goog.format.numBytesToString=function(b,c,d){var e="";if(!goog.isDef(d)||d)e="B";return goog.format.numericValueToString_(b,goog.format.NUMERIC_SCALES_BINARY_,c,e)};goog.format.stringToNumericValue_=function(b,c){var d=b.match(goog.format.SCALED_NUMERIC_RE_);return!d?NaN:d[1]*c[d[2]]};
goog.format.numericValueToString_=function(b,c,d,e){var f=goog.format.NUMERIC_SCALE_PREFIXES_,g=b,h="",i=1;0>b&&(b=-b);for(var j=0;j<f.length;j++){var k=f[j],i=c[k];if(b>=i||1>=i&&b>0.1*i){h=k;break}}h?e&&(h+=e):i=1;b=Math.pow(10,goog.isDef(d)?d:2);return Math.round(g/i*b)/b+h};goog.format.SCALED_NUMERIC_RE_=/^([-]?\d+\.?\d*)([K,M,G,T,P,k,m,u,n]?)[B]?$/;goog.format.NUMERIC_SCALE_PREFIXES_="P T G M K  m u n".split(" ");
goog.format.NUMERIC_SCALES_SI_={"":1,n:1.0E-9,u:1.0E-6,m:0.001,k:1E3,K:1E3,M:1E6,G:1E9,T:1E12,P:1E15};goog.format.NUMERIC_SCALES_BINARY_={"":1,n:Math.pow(1024,-3),u:Math.pow(1024,-2),m:1/1024,k:1024,K:1024,M:Math.pow(1024,2),G:Math.pow(1024,3),T:Math.pow(1024,4),P:Math.pow(1024,5)};goog.format.FIRST_GRAPHEME_EXTEND_=768;
goog.format.insertWordBreaksGeneric_=function(b,c,d){d=d||10;if(d>b.length)return b;for(var e=[],f=0,g=0,h=0,i=0,j=0;j<b.length;j++){var k=i,i=b.charCodeAt(j),k=i>=goog.format.FIRST_GRAPHEME_EXTEND_&&!c(k,i,!0);f>=d&&(i>goog.format.WbrToken_.SPACE&&!k)&&(e.push(b.substring(h,j),goog.format.WORD_BREAK_HTML),h=j,f=0);g?i==goog.format.WbrToken_.GT&&g==goog.format.WbrToken_.LT?g=0:i==goog.format.WbrToken_.SEMI_COLON&&g==goog.format.WbrToken_.AMP&&(g=0,f++):i==goog.format.WbrToken_.LT||i==goog.format.WbrToken_.AMP?
g=i:i<=goog.format.WbrToken_.SPACE?f=0:f++}e.push(b.substr(h));return e.join("")};goog.format.insertWordBreaks=function(b,c){return goog.format.insertWordBreaksGeneric_(b,goog.i18n.GraphemeBreak.hasGraphemeBreak,c)};goog.format.conservativelyHasGraphemeBreak_=function(b,c){return 1024<=c&&1315>c};goog.format.insertWordBreaksBasic=function(b,c){return goog.format.insertWordBreaksGeneric_(b,goog.format.conservativelyHasGraphemeBreak_,c)};goog.format.IS_IE8_OR_ABOVE_=goog.userAgent.IE&&goog.userAgent.isVersion(8);
goog.format.WORD_BREAK_HTML=goog.userAgent.WEBKIT?"<wbr></wbr>":goog.userAgent.OPERA?"&shy;":goog.format.IS_IE8_OR_ABOVE_?"&#8203;":"<wbr>";goog.format.WbrToken_={LT:60,GT:62,AMP:38,SEMI_COLON:59,SPACE:32};goog.i18n.bidi={};goog.i18n.bidi.FORCE_RTL=!1;goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3));
goog.i18n.bidi.Format={LRE:"\u202a",RLE:"\u202b",PDF:"\u202c",LRM:"\u200e",RLM:"\u200f"};goog.i18n.bidi.Dir={RTL:-1,UNKNOWN:0,LTR:1};goog.i18n.bidi.RIGHT="right";goog.i18n.bidi.LEFT="left";goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT;goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT;
goog.i18n.bidi.toDir=function(b){return"number"==typeof b?0<b?goog.i18n.bidi.Dir.LTR:0>b?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.UNKNOWN:b?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};goog.i18n.bidi.ltrChars_="A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff";goog.i18n.bidi.rtlChars_="\u0591-\u07ff\ufb1d-\ufdff\ufe70-\ufefc";goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g;
goog.i18n.bidi.stripHtmlIfNeeded_=function(b,c){return c?b.replace(goog.i18n.bidi.htmlSkipReg_," "):b};goog.i18n.bidi.rtlCharReg_=RegExp("["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.ltrCharReg_=RegExp("["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.hasAnyRtl=function(b,c){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(b,c))};goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl;
goog.i18n.bidi.hasAnyLtr=function(b,c){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(b,c))};goog.i18n.bidi.ltrRe_=RegExp("^["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlRe_=RegExp("^["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.isRtlChar=function(b){return goog.i18n.bidi.rtlRe_.test(b)};goog.i18n.bidi.isLtrChar=function(b){return goog.i18n.bidi.ltrRe_.test(b)};goog.i18n.bidi.isNeutralChar=function(b){return!goog.i18n.bidi.isLtrChar(b)&&!goog.i18n.bidi.isRtlChar(b)};
goog.i18n.bidi.ltrDirCheckRe_=RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]");goog.i18n.bidi.rtlDirCheckRe_=RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]");goog.i18n.bidi.startsWithRtl=function(b,c){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(b,c))};goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl;
goog.i18n.bidi.startsWithLtr=function(b,c){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(b,c))};goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr;goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/;goog.i18n.bidi.isNeutralText=function(b,c){b=goog.i18n.bidi.stripHtmlIfNeeded_(b,c);return goog.i18n.bidi.isRequiredLtrRe_.test(b)||!goog.i18n.bidi.hasAnyLtr(b)&&!goog.i18n.bidi.hasAnyRtl(b)};
goog.i18n.bidi.ltrExitDirCheckRe_=RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$");goog.i18n.bidi.rtlExitDirCheckRe_=RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$");goog.i18n.bidi.endsWithLtr=function(b,c){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(b,c))};goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr;
goog.i18n.bidi.endsWithRtl=function(b,c){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(b,c))};goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl;goog.i18n.bidi.rtlLocalesRe_=RegExp("^(ar|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)","i");goog.i18n.bidi.isRtlLanguage=function(b){return goog.i18n.bidi.rtlLocalesRe_.test(b)};goog.i18n.bidi.bracketGuardHtmlRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(&lt;.*?(&gt;)+)/g;
goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g;goog.i18n.bidi.guardBracketInHtml=function(b,c){return(void 0===c?goog.i18n.bidi.hasAnyRtl(b):c)?b.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=rtl>$&</span>"):b.replace(goog.i18n.bidi.bracketGuardHtmlRe_,"<span dir=ltr>$&</span>")};
goog.i18n.bidi.guardBracketInText=function(b,c){var d=(void 0===c?goog.i18n.bidi.hasAnyRtl(b):c)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return b.replace(goog.i18n.bidi.bracketGuardTextRe_,d+"$&"+d)};goog.i18n.bidi.enforceRtlInHtml=function(b){return"<"==b.charAt(0)?b.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+b+"</span>"};goog.i18n.bidi.enforceRtlInText=function(b){return goog.i18n.bidi.Format.RLE+b+goog.i18n.bidi.Format.PDF};
goog.i18n.bidi.enforceLtrInHtml=function(b){return"<"==b.charAt(0)?b.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+b+"</span>"};goog.i18n.bidi.enforceLtrInText=function(b){return goog.i18n.bidi.Format.LRE+b+goog.i18n.bidi.Format.PDF};goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g;goog.i18n.bidi.leftRe_=/left/gi;goog.i18n.bidi.rightRe_=/right/gi;goog.i18n.bidi.tempRe_=/%%%%/g;
goog.i18n.bidi.mirrorCSS=function(b){return b.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)};goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g;goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g;
goog.i18n.bidi.normalizeHebrewQuote=function(b){return b.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1\u05f4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1\u05f3")};goog.i18n.bidi.wordSeparatorRe_=/\s+/;goog.i18n.bidi.hasNumeralsRe_=/\d/;goog.i18n.bidi.rtlDetectionThreshold_=0.4;
goog.i18n.bidi.estimateDirection=function(b,c){for(var d=0,e=0,f=!1,g=goog.i18n.bidi.stripHtmlIfNeeded_(b,c).split(goog.i18n.bidi.wordSeparatorRe_),h=0;h<g.length;h++){var i=g[h];goog.i18n.bidi.startsWithRtl(i)?(d++,e++):goog.i18n.bidi.isRequiredLtrRe_.test(i)?f=!0:goog.i18n.bidi.hasAnyLtr(i)?e++:goog.i18n.bidi.hasNumeralsRe_.test(i)&&(f=!0)}return 0==e?f?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.UNKNOWN:d/e>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};
goog.i18n.bidi.detectRtlDirectionality=function(b,c){return goog.i18n.bidi.estimateDirection(b,c)==goog.i18n.bidi.Dir.RTL};goog.i18n.bidi.setElementDirAndAlign=function(b,c){if(b&&(c=goog.i18n.bidi.toDir(c))!=goog.i18n.bidi.Dir.UNKNOWN)b.style.textAlign=c==goog.i18n.bidi.Dir.RTL?"right":"left",b.dir=c==goog.i18n.bidi.Dir.RTL?"rtl":"ltr"};goog.i18n.BidiFormatter=function(b,c){this.contextDir_=goog.i18n.bidi.toDir(b);this.alwaysSpan_=!!c};goog.i18n.BidiFormatter.prototype.getContextDir=function(){return this.contextDir_};goog.i18n.BidiFormatter.prototype.getAlwaysSpan=function(){return this.alwaysSpan_};goog.i18n.BidiFormatter.prototype.setContextDir=function(b){this.contextDir_=goog.i18n.bidi.toDir(b)};goog.i18n.BidiFormatter.prototype.setAlwaysSpan=function(b){this.alwaysSpan_=b};
goog.i18n.BidiFormatter.prototype.estimateDirection=goog.i18n.bidi.estimateDirection;goog.i18n.BidiFormatter.prototype.areDirectionalitiesOpposite_=function(b,c){return 0>b*c};
goog.i18n.BidiFormatter.prototype.dirResetIfNeeded_=function(b,c,d,e){return e&&(this.areDirectionalitiesOpposite_(c,this.contextDir_)||this.contextDir_==goog.i18n.bidi.Dir.LTR&&goog.i18n.bidi.endsWithRtl(b,d)||this.contextDir_==goog.i18n.bidi.Dir.RTL&&goog.i18n.bidi.endsWithLtr(b,d))?this.contextDir_==goog.i18n.bidi.Dir.LTR?goog.i18n.bidi.Format.LRM:goog.i18n.bidi.Format.RLM:""};goog.i18n.BidiFormatter.prototype.dirAttrValue=function(b,c){return this.knownDirAttrValue(this.estimateDirection(b,c))};
goog.i18n.BidiFormatter.prototype.knownDirAttrValue=function(b){b==goog.i18n.bidi.Dir.UNKNOWN&&(b=this.contextDir_);return b==goog.i18n.bidi.Dir.RTL?"rtl":"ltr"};goog.i18n.BidiFormatter.prototype.dirAttr=function(b,c){return this.knownDirAttr(this.estimateDirection(b,c))};goog.i18n.BidiFormatter.prototype.knownDirAttr=function(b){return b!=this.contextDir_?b==goog.i18n.bidi.Dir.RTL?"dir=rtl":b==goog.i18n.bidi.Dir.LTR?"dir=ltr":"":""};
goog.i18n.BidiFormatter.prototype.spanWrap=function(b,c,d){return this.spanWrapWithKnownDir(this.estimateDirection(b,c),b,c,d)};goog.i18n.BidiFormatter.prototype.spanWrapWithKnownDir=function(b,c,d,e){var e=e||void 0==e,f=b!=goog.i18n.bidi.Dir.UNKNOWN&&b!=this.contextDir_;d||(c=goog.string.htmlEscape(c));d=[];this.alwaysSpan_||f?(d.push("<span"),f&&d.push(b==goog.i18n.bidi.Dir.RTL?" dir=rtl":" dir=ltr"),d.push(">"+c+"</span>")):d.push(c);d.push(this.dirResetIfNeeded_(c,b,!0,e));return d.join("")};
goog.i18n.BidiFormatter.prototype.unicodeWrap=function(b,c,d){return this.unicodeWrapWithKnownDir(this.estimateDirection(b,c),b,c,d)};goog.i18n.BidiFormatter.prototype.unicodeWrapWithKnownDir=function(b,c,d,e){var e=e||void 0==e,f=[];b!=goog.i18n.bidi.Dir.UNKNOWN&&b!=this.contextDir_?(f.push(b==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.Format.RLE:goog.i18n.bidi.Format.LRE),f.push(c),f.push(goog.i18n.bidi.Format.PDF)):f.push(c);f.push(this.dirResetIfNeeded_(c,b,d,e));return f.join("")};
goog.i18n.BidiFormatter.prototype.markAfter=function(b,c){return this.dirResetIfNeeded_(b,this.estimateDirection(b,c),c,!0)};goog.i18n.BidiFormatter.prototype.mark=function(){switch(this.contextDir_){case goog.i18n.bidi.Dir.LTR:return goog.i18n.bidi.Format.LRM;case goog.i18n.bidi.Dir.RTL:return goog.i18n.bidi.Format.RLM;default:return""}};goog.i18n.BidiFormatter.prototype.startEdge=function(){return this.contextDir_==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT};
goog.i18n.BidiFormatter.prototype.endEdge=function(){return this.contextDir_==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT};var soy={esc:{}},soydata={};soy.StringBuilder=goog.string.StringBuffer;soydata.SanitizedContentKind={HTML:0,JS_STR_CHARS:1,URI:2,HTML_ATTRIBUTE:3};soydata.SanitizedContent=function(b){this.content=b};soydata.SanitizedContent.prototype.toString=function(){return this.content};soydata.SanitizedHtml=function(b){soydata.SanitizedContent.call(this,b)};goog.inherits(soydata.SanitizedHtml,soydata.SanitizedContent);soydata.SanitizedHtml.prototype.contentKind=soydata.SanitizedContentKind.HTML;
soydata.SanitizedJsStrChars=function(b){soydata.SanitizedContent.call(this,b)};goog.inherits(soydata.SanitizedJsStrChars,soydata.SanitizedContent);soydata.SanitizedJsStrChars.prototype.contentKind=soydata.SanitizedContentKind.JS_STR_CHARS;soydata.SanitizedUri=function(b){soydata.SanitizedContent.call(this,b)};goog.inherits(soydata.SanitizedUri,soydata.SanitizedContent);soydata.SanitizedUri.prototype.contentKind=soydata.SanitizedContentKind.URI;
soydata.SanitizedHtmlAttribute=function(b){soydata.SanitizedContent.call(this,b)};goog.inherits(soydata.SanitizedHtmlAttribute,soydata.SanitizedContent);soydata.SanitizedHtmlAttribute.prototype.contentKind=soydata.SanitizedContentKind.HTML_ATTRIBUTE;soy.renderElement=goog.soy.renderElement;soy.renderAsFragment=function(b,c,d,e){return goog.soy.renderAsFragment(b,c,e,new goog.dom.DomHelper(d))};soy.renderAsElement=function(b,c,d,e){return goog.soy.renderAsElement(b,c,e,new goog.dom.DomHelper(d))};
soy.$$augmentData=function(b,c){function d(){}d.prototype=b;var e=new d,f;for(f in c)e[f]=c[f];return e};soy.$$getMapKeys=function(b){var c=[],d;for(d in b)c.push(d);return c};soy.$$getDelegateId=function(b){return b};soy.$$DELEGATE_REGISTRY_PRIORITIES_={};soy.$$DELEGATE_REGISTRY_FUNCTIONS_={};
soy.$$registerDelegateFn=function(b,c,d){var e="key_"+b,f=soy.$$DELEGATE_REGISTRY_PRIORITIES_[e];if(void 0===f||c>f)soy.$$DELEGATE_REGISTRY_PRIORITIES_[e]=c,soy.$$DELEGATE_REGISTRY_FUNCTIONS_[e]=d;else if(c==f)throw Error('Encountered two active delegates with same priority (id/name "'+b+'").');};soy.$$getDelegateFn=function(b){return(b=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+b])?b:soy.$$EMPTY_TEMPLATE_FN_};soy.$$EMPTY_TEMPLATE_FN_=function(){return""};
soy.$$escapeHtml=function(b){return"object"===typeof b&&b&&b.contentKind===soydata.SanitizedContentKind.HTML?b.content:soy.esc.$$escapeHtmlHelper(b)};soy.$$escapeHtmlRcdata=function(b){return"object"===typeof b&&b&&b.contentKind===soydata.SanitizedContentKind.HTML?soy.esc.$$normalizeHtmlHelper(b.content):soy.esc.$$escapeHtmlHelper(b)};soy.$$stripHtmlTags=function(b){return(""+b).replace(soy.esc.$$HTML_TAG_REGEX_,"")};
soy.$$escapeHtmlAttribute=function(b){return"object"===typeof b&&b&&b.contentKind===soydata.SanitizedContentKind.HTML?soy.esc.$$normalizeHtmlHelper(soy.$$stripHtmlTags(b.content)):soy.esc.$$escapeHtmlHelper(b)};soy.$$escapeHtmlAttributeNospace=function(b){return"object"===typeof b&&b&&b.contentKind===soydata.SanitizedContentKind.HTML?soy.esc.$$normalizeHtmlNospaceHelper(soy.$$stripHtmlTags(b.content)):soy.esc.$$escapeHtmlNospaceHelper(b)};
soy.$$filterHtmlAttribute=function(b){return"object"===typeof b&&b&&b.contentKind===soydata.SanitizedContentKind.HTML_ATTRIBUTE?b.content.replace(/=([^"']*)$/,'="$1"'):soy.esc.$$filterHtmlAttributeHelper(b)};soy.$$filterHtmlElementName=function(b){return soy.esc.$$filterHtmlElementNameHelper(b)};soy.$$escapeJs=function(b){return soy.$$escapeJsString(b)};soy.$$escapeJsString=function(b){return"object"===typeof b&&b.contentKind===soydata.SanitizedContentKind.JS_STR_CHARS?b.content:soy.esc.$$escapeJsStringHelper(b)};
soy.$$escapeJsValue=function(b){if(null==b)return" null ";switch(typeof b){case "boolean":case "number":return" "+b+" ";default:return"'"+soy.esc.$$escapeJsStringHelper(""+b)+"'"}};soy.$$escapeJsRegex=function(b){return soy.esc.$$escapeJsRegexHelper(b)};soy.$$problematicUriMarks_=/['()]/g;soy.$$pctEncode_=function(b){return"%"+b.charCodeAt(0).toString(16)};
soy.$$escapeUri=function(b){if("object"===typeof b&&b.contentKind===soydata.SanitizedContentKind.URI)return soy.$$normalizeUri(b);b=soy.esc.$$escapeUriHelper(b);soy.$$problematicUriMarks_.lastIndex=0;return soy.$$problematicUriMarks_.test(b)?b.replace(soy.$$problematicUriMarks_,soy.$$pctEncode_):b};soy.$$normalizeUri=function(b){return soy.esc.$$normalizeUriHelper(b)};soy.$$filterNormalizeUri=function(b){return soy.esc.$$filterNormalizeUriHelper(b)};soy.$$escapeCssString=function(b){return soy.esc.$$escapeCssStringHelper(b)};
soy.$$filterCssValue=function(b){return null==b?"":soy.esc.$$filterCssValueHelper(b)};soy.$$changeNewlineToBr=function(b){return goog.string.newLineToBr(""+b,!1)};soy.$$insertWordBreaks=function(b,c){return goog.format.insertWordBreaks(""+b,c)};soy.$$truncate=function(b,c,d){b=""+b;if(b.length<=c)return b;d&&(3<c?c-=3:d=!1);soy.$$isHighSurrogate_(b.charAt(c-1))&&soy.$$isLowSurrogate_(b.charAt(c))&&(c-=1);b=b.substring(0,c);d&&(b+="...");return b};
soy.$$isHighSurrogate_=function(b){return 55296<=b&&56319>=b};soy.$$isLowSurrogate_=function(b){return 56320<=b&&57343>=b};soy.$$bidiFormatterCache_={};soy.$$getBidiFormatterInstance_=function(b){return soy.$$bidiFormatterCache_[b]||(soy.$$bidiFormatterCache_[b]=new goog.i18n.BidiFormatter(b))};soy.$$bidiTextDir=function(b,c){return!b?0:goog.i18n.bidi.detectRtlDirectionality(b,c)?-1:1};
soy.$$bidiDirAttr=function(b,c,d){return new soydata.SanitizedHtmlAttribute(soy.$$getBidiFormatterInstance_(b).dirAttr(c,d))};soy.$$bidiMarkAfter=function(b,c,d){return soy.$$getBidiFormatterInstance_(b).markAfter(c,d)};soy.$$bidiSpanWrap=function(b,c){return soy.$$getBidiFormatterInstance_(b).spanWrap(c+"",!0)};soy.$$bidiUnicodeWrap=function(b,c){return soy.$$getBidiFormatterInstance_(b).unicodeWrap(c+"",!0)};soy.esc.$$escapeUriHelper=function(b){return goog.string.urlEncode(""+b)};
soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\u000c":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};
soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_=function(b){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_[b]};
soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_={"\x00":"\\x00","\u0008":"\\x08","\t":"\\t","\n":"\\n","\x0B":"\\x0b","\u000c":"\\f","\r":"\\r",'"':"\\x22","&":"\\x26","'":"\\x27","/":"\\/","<":"\\x3c","=":"\\x3d",">":"\\x3e","\\":"\\\\","\u0085":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029",$:"\\x24","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e",":":"\\x3a","?":"\\x3f","[":"\\x5b","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d"};
soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_=function(b){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_[b]};
soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_={"\x00":"\\0 ","\u0008":"\\8 ","\t":"\\9 ","\n":"\\a ","\x0B":"\\b ","\u000c":"\\c ","\r":"\\d ",'"':"\\22 ","&":"\\26 ","'":"\\27 ","(":"\\28 ",")":"\\29 ","*":"\\2a ","/":"\\2f ",":":"\\3a ",";":"\\3b ","<":"\\3c ","=":"\\3d ",">":"\\3e ","@":"\\40 ","\\":"\\5c ","{":"\\7b ","}":"\\7d ","\u0085":"\\85 ","\u00a0":"\\a0 ","\u2028":"\\2028 ","\u2029":"\\2029 "};soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_=function(b){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_[b]};
soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_={"\x00":"%00","\u0001":"%01","\u0002":"%02","\u0003":"%03","\u0004":"%04","\u0005":"%05","\u0006":"%06","\u0007":"%07","\u0008":"%08","\t":"%09","\n":"%0A","\x0B":"%0B","\u000c":"%0C","\r":"%0D","\u000e":"%0E","\u000f":"%0F","\u0010":"%10","\u0011":"%11","\u0012":"%12","\u0013":"%13","\u0014":"%14","\u0015":"%15","\u0016":"%16","\u0017":"%17","\u0018":"%18","\u0019":"%19","\u001a":"%1A","\u001b":"%1B","\u001c":"%1C","\u001d":"%1D",
"\u001e":"%1E","\u001f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\u007f":"%7F","\u0085":"%C2%85","\u00a0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D",
"\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"};soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=function(b){return soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_[b]};soy.esc.$$MATCHER_FOR_ESCAPE_HTML_=/[\x00\x22\x26\x27\x3c\x3e]/g;soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_=/[\x00\x22\x27\x3c\x3e]/g;soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x26\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g;
soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_=/[\x00\x08-\x0d\x22\x24\x26-\/\x3a\x3c-\x3f\x5b-\x5e\x7b-\x7d\x85\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_=/[\x00\x08-\x0d\x22\x26-\x2a\/\x3a-\x3e@\\\x7b\x7d\x85\xa0\u2028\u2029]/g;
soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g;soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i;soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_=/^(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i;
soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTE_=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[a-z0-9_$:-]*)$/i;soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_=/^(?!script|style|title|textarea|xmp|no)[a-z0-9_$:-]*$/i;soy.esc.$$escapeHtmlHelper=function(b){return(""+b).replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};
soy.esc.$$normalizeHtmlHelper=function(b){return(""+b).replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};soy.esc.$$escapeHtmlNospaceHelper=function(b){return(""+b).replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};
soy.esc.$$normalizeHtmlNospaceHelper=function(b){return(""+b).replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};soy.esc.$$escapeJsStringHelper=function(b){return(""+b).replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)};
soy.esc.$$escapeJsRegexHelper=function(b){return(""+b).replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)};soy.esc.$$escapeCssStringHelper=function(b){return(""+b).replace(soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_)};soy.esc.$$filterCssValueHelper=function(b){b=""+b;return!soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_.test(b)?(goog.asserts.fail("Bad value `%s` for |filterCssValue",[b]),"zSoyz"):b};
soy.esc.$$normalizeUriHelper=function(b){return(""+b).replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)};soy.esc.$$filterNormalizeUriHelper=function(b){b=""+b;return!soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_.test(b)?(goog.asserts.fail("Bad value `%s` for |filterNormalizeUri",[b]),"zSoyz"):b.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)};
soy.esc.$$filterHtmlAttributeHelper=function(b){b=""+b;return!soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTE_.test(b)?(goog.asserts.fail("Bad value `%s` for |filterHtmlAttribute",[b]),"zSoyz"):b};soy.esc.$$filterHtmlElementNameHelper=function(b){b=""+b;return!soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_.test(b)?(goog.asserts.fail("Bad value `%s` for |filterHtmlElementName",[b]),"zSoyz"):b};soy.esc.$$HTML_TAG_REGEX_=/<(?:!|\/?[a-zA-Z])(?:[^>'"]|"[^"]*"|'[^']*')*>/g;a.soy={};a.soy.home={};
a.soy.home.homeView=function(b,c){var d=c||new soy.StringBuilder;d.append('<div><div class="tabbar"><div id="tabLogo" class="ximage logo active" style=" background-size: 106px 20px; width: 125px; height: 54px; background-repeat: no-repeat; "></div><div id="tabGames" class="games"></div><div id="tabFriends" class="friends"></div><div id="tabProfile" class="profile"></div></div></div><div class="roundParent"><div class="roundChild"></div></div><div id="hmTidbit" class="tidbit"><div class="title">COMMUNITY TIDBIT</div><div id="hmTbImage" class="ximage" style=" background-size: 55px; width: 55px; height: 55px; background-position: 2px 2px; background-repeat: no-repeat; "></div><div id="hmTbTitle" class="name"></div><div class="text"><div id="hmTbMsg" class="msg"></div><div id="hmTbMsg2" class="msg2"></div></div></div><div class="mascot help" style=""><div id="hmMascot" class="circleBtn" style="width: 58px; height: 58px; background-position: -150px -230px; "></div><div class="msg">Hello, <strong>OpenRockstar</strong>. Welcome to the community! Whenever you see this mascotWrapper button, you can click on it to read tips from good ol\' Sammy!</div></div><div class="news" style="display: none; "></div><div class="listHeader"><div style="background-image: url(/images/_icons20',soy.$$escapeHtml(b.ret),
'.png); background-size: 20px 670px; width: 13px; height: 13px; margin: 2px 5px 0 0px; float: left;background-position:0 -300px"></div>Featured Games</div><div id="hmFeat1" class="gameFeat listHeaderShadow"><div class="ximage" style="  background-size: 225px 113px; width: 225px; height: 113px; background-position: 6px 6px; background-repeat: no-repeat; "></div><div class="atitle"></div><div class="company"></div><div class="descr"></div></div><div id="hmFeat2" class="gameFeat even"><div class="ximage" style="  background-size: 225px 113px; width: 225px; height: 113px; background-position: 6px 6px; background-repeat: no-repeat; "></div><div class="atitle"></div><div class="company"></div><div class="descr"></div></div><div class="rows"></div><div class="spacer"></div><div class="btnTxt"><div></div><div id="hmMoreBtn" class="txt">See more games</div><div></div></div><div class="spacer"></div>');
return c?"":d.toString()};
a.soy.home.tidbits=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="blackHeader back "><div id="tbBack" class="circleBtn" style="background-position: 2px -395px; "></div><div class="title">Community Tidbits</div></div>');for(var e=b.list,f=e.length,g=0;g<f;g++){var h=e[g];d.append('<div id="tb-',soy.$$escapeHtml(h.userId),'" class="tidbit single"><a class="title" href="javascript:;">',soy.$$escapeHtml(h.created),'</a><div class="ximage" style=" background-image: url(',soy.$$escapeHtml(h.msg.image),
'); background-size: 55px; width: 55px; height: 55px; background-position: 2px 2px; background-repeat: no-repeat; "></div><a class="name" href="javascript:;">',soy.$$escapeHtml(h.msg.title),'</a><div class="text"><div class="msg">',soy.$$escapeHtml(h.msg.text1),'</div><div class="msg2">',soy.$$escapeHtml(h.msg.text2),"</div></div></div>")}return c?"":d.toString()};a.soy.games={};
a.soy.games.gamesView=function(b,c){var d=c||new soy.StringBuilder;d.append('<div><div class="tabbar"><div id="tabLogo" class="ximage logo" style="background-size: 106px 20px; width: 125px; height: 54px; background-repeat: no-repeat no-repeat; "></div><div id="tabGames" class="games active"></div><div id="tabFriends" class="friends"></div><div id="tabProfile" class="profile"></div></div></div><div class="blueHeader"><div class="blueWrapper"><div class="title">Games</div></div></div><div id="gaFeat1" class="gameFeat listHeaderShadow"><div class="ximage" style="background-image: url(/images/ag/ag-1',soy.$$escapeHtml(b.ret),
'.jpg); background-size: 225px 113px; width: 225px; height: 113px; background-position: 6px 6px; background-repeat: no-repeat no-repeat; "></div><div class="atitle">Harvest Frenzy</div><div class="company">by airG</div><div class="descr">Match as many fruits as you can. Play against others or challenge yourself to achieve a personal highscore.</div></div><div id="gaRows" class="rows"></div>');return c?"":d.toString()};
a.soy.games.gameRows=function(b,c){for(var d=c||new soy.StringBuilder,e=b.games,f=e.length,g=0;g<f;g++){var h=e[g];d.append('<div id="garow',soy.$$escapeHtml(h.game),'" class="row"><div class="ximage" style=" background-image: url(',soy.$$escapeHtml(h.imageThumbUrl),'); background-size: 53px; width: 53px; height: 53px; background-repeat: no-repeat; "></div><div class="title">',soy.$$escapeHtml(h.title),'</div><div class="descr">',soy.$$escapeHtml(h.shortDescr),"</div></div>")}return c?"":d.toString()};
a.soy.games.game=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="blackHeader back "><div id="gmBack" class="circleBtn" style="background-position: 2px -395px; "></div><div class="title">',soy.$$escapeHtml(b.g.title),'</div></div><div id="gmImg" class="ximage icon" style=" background-image: url(',soy.$$escapeHtml(b.g.imageUrl),'); background-repeat: no-repeat; "></div><div class="gameTitle">',soy.$$escapeHtml(b.g.title),'</div><div class="author">',soy.$$escapeHtml(b.g.author),'</div><div class="descr">',
soy.$$escapeHtml(b.g.longDescr),'</div><div class="btnTxt"><div></div><a class="txt" href="',soy.$$escapeHtml(b.g.url),'">Play</a><div></div></div><table cellpadding="0" cellspacing="20" style="width: 100%; "><colgroup><col /></colgroup><tbody><tr><td align="center">');if(b.g.shots)for(var e=b.g.shots,f=e.length,g=0;g<f;g++)d.append('<div class="ximage shot" style=" background-image: url(',soy.$$escapeHtml(e[g]),'); background-size: 219px 285px; width: 219px; height: 285px; background-repeat: no-repeat; margin-bottom: 20px;"></div>');
d.append('</td></tr></tbody></table><div class="listHeader"><div style=" background-image: url(/images/_icons20',soy.$$escapeHtml(b.ret),'.png); background-size: 20px 670px; width: 13px; height: 13px; margin: 2px 5px 0 0px; float: left; background-position:0 -200px"></div>Recent players</div><div class="rows"><div class="empty">No activity</div></div>');return c?"":d.toString()};a.soy.friends={};
a.soy.friends.friendsView=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="slidePanel"><div><div class="tabbar"><div id="tabLogo" class="ximage logo" style="background-size: 106px 20px; width: 125px; height: 54px; background-repeat: no-repeat;"></div><div id="tabGames" class="games"></div><div id="tabFriends" class="friends active"></div><div id="tabProfile" class="profile"></div></div></div><div class="blueHeader"><div class="blueWrapper"><div id="fsTitle" class="title">Friends</div><div id="fsSlideBtn" class="circleBtn" style="background-position: -50px -166px;"></div><div id="fsCancelBtn" class="btnTxt small" style="display: none"><div></div><div class="txt">Cancel</div><div></div></div></div></div><div id="fsViewOnline" class="FriendList FriendOnlineView" style=""><div class="search"><div class="left"><a id="fsAnchor" href="javascript:;"> </a></div><div class="center"><input id="fsInput" type="text" class="filter" autocapitalize="off" autocorrect="off" /></div><div id="fsClearSearchBtn" class="right"></div></div><div id="fsFriendRequests" class="friendRequests" style="display: none"><div class="title">New Friend Requests</div><div id="fsFriendRequestRows" class="rows"></div></div><div class="listHeader"><div style="background-image: url(/images/_icons20',soy.$$escapeHtml(b.ret),
'.png); background-size: 20px 670px; width: 13px; height: 13px; margin: 2px 5px 0 0px; float: left;background-position:0 -400px"></div>Online now</div><div id="fsRowsOnline" class="rows online"><div class="empty">Loading list...</div></div><div class="listHeader"><div style="background-image: url(/images/_icons20',soy.$$escapeHtml(b.ret),'.png); background-size: 20px 670px; width: 13px; height: 13px; margin: 2px 5px 0 0px; float: left;background-position:0 -100px"></div>Offline</div><div id="fsRowsOffline" class="rows offline"><div class="empty">Loading list...</div></div></div><div id="fsViewChange" class="FriendList FriendChangeView" style="display: none;"><div class="rows"><div id="fsSelectRecent" class="row"><div class="ximage" style=" background-image: url(/images/_icons40',
soy.$$escapeHtml(b.ret),'.png); width: 50px; height: 60px; background-size: 40px 804px; background-position: 8px -608px; background-repeat: no-repeat;"></div><div class="title">Recently played</div><div class="descr"> </div></div><div id="fsSelectBlocked" class="row"><div class="ximage" style=" background-image: url(/images/_icons40',soy.$$escapeHtml(b.ret),'.png); width: 50px; height: 60px; background-size: 40px 804px; background-position: 8px -537px; background-repeat: no-repeat;"></div><div class="title">Blocked players</div><div class="descr"> </div></div></div></div><div id="fsViewRecent" class="FriendList FriendRecentView" style="display: none;"><div id="fsRowsRecent" class="rows"><div class="empty">Loading recent players...</div></div></div><div id="fsViewBlock" class="FriendList FriendBlockView" style="display: none;"><div id="fsRowsBlocked" class="rows"><div class="empty">Loading blocked players...</div></div><div class="mascot help"><div id="fsBlockedMascot" class="circleBtn" style="width: 58px; height: 58px; background-position: -150px -230px;"></div><div class="msg">What happens to blocked users?</div></div></div></div>');
return c?"":d.toString()};a.soy.friends.friendRow=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="ximage" style=" background-image: url(/images/_avatars/01/',soy.$$escapeHtml(b.p.avatarId),soy.$$escapeHtml(b.ret),'.png); background-size: 48px; width: 48px; height: 48px; background-repeat: no-repeat;"></div><div class="title">',soy.$$escapeHtml(b.p.display),'</div><div class="descr"></div><div class="lastLogin">',soy.$$escapeHtml(b.p.lastAccess),"</div>");return c?"":d.toString()};
a.soy.friends.friendRequestRow=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="row"><div class="ximage" style=" background-image: url(/images/_avatars/01/',soy.$$escapeHtml(b.p.avatarId),soy.$$escapeHtml(b.ret),'.png); background-size: 48px; width: 48px; height: 48px; background-repeat: no-repeat;"></div><div class="title">',soy.$$escapeHtml(b.p.display),'</div><div class="descr"></div><div class="lastLogin"></div><div id="accept-',soy.$$escapeHtml(b.p.userId),'" class="accept">Accept</div><div id="cancel-',
soy.$$escapeHtml(b.p.userId),'" class="cancel">Cancel</div></div>');return c?"":d.toString()};
a.soy.friends.profile=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="blackHeader back "><div id="frBack" class="circleBtn" style="background-position: 2px -395px;"></div><div class="title">Player Profile</div></div><div class="avatarPanel"><div id="frImgBg" class="ximage bg" style=" background-size: 400px 250px; height: 150px; background-repeat: repeat no-repeat;"></div><div class="ximage avatar" style="background-image: url(/images/_avatars/01/_faces/',soy.$$escapeHtml(b.p.avatarId),
soy.$$escapeHtml(b.ret),'.png); background-size: 115px 140px; width: 115px; height: 140px; background-repeat: no-repeat;"></div><div id="frAddBtn" class="circleBtn addblock" style="background-position: 2px -741px;"></div></div><div class="bodyPanel"><div class="display">',soy.$$escapeHtml(b.p.display),'</div><div class="lastLogin">Last login: ',soy.$$escapeHtml(b.p.lastAccess),'</div><div class="gameWrapper"></div><div class="lastRow"></div></div>');return c?"":d.toString()};a.soy.profile={};
a.soy.profile.profileView=function(b,c){var d=c||new soy.StringBuilder;d.append('<div><div class="tabbar"><div id="tabLogo" class="ximage logo" style="background-size: 106px 20px; width: 125px; height: 54px; background-repeat: no-repeat; "></div><div id="tabGames" class="games"></div><div id="tabFriends" class="friends"></div><div id="tabProfile" class="profile active"></div></div></div><div class="blueHeader"><div class="blueWrapper"><div class="title">My account</div></div></div><div class="profilePanel"><div id="pfAvatar" class="avatarPanel"><\!-- background-image: url(/images/_avatars/01/_bg/nerd-06',
soy.$$escapeHtml(b.ret),".jpg); background-image: url(/images/_avatars/01/_faces/m-nerd-06",soy.$$escapeHtml(b.ret),'.png); background-color: rgb(105, 96, 207); --\><div id="pfImgBg" id="pfName" class="ximage bg" style="background-size: 400px 250px; height: 150px; background-repeat: repeat no-repeat; "></div><div id="pfImg" class="ximage avatar" style="background-size: 115px 140px; width: 115px; height: 140px; background-repeat: no-repeat; "></div><div class="ximage" style="background-image: url(/images/a20-btn-profile',
soy.$$escapeHtml(b.ret),'.png); background-size: 37px; width: 37px; height: 37px; position: absolute; bottom: 10px; right: 10px; background-repeat: no-repeat; "></div></div><table class="formPanel" cellpadding="0" cellspacing="0" style="width: 100%; "><colgroup><col /></colgroup><tbody><tr><td class="c00"></td><td class="c01"><div id="pfName" class="profileField nickPanel"></div></td></tr><tr><td class="c10"></td><td class="c11"><div class="sexPanel" style="margin-top: 0px; margin-right: 20px; margin-bottom: 0px; margin-left: 30px; "><a id="pfSexBoy" class="sexBoy checked"></a><a id="pfSexGirl" class="sexGirl"></a><a id="pfSexInco" class="sexIncognito"></a></div></td></tr><tr><td class="c20"></td><td class="c21"><div id="pfAge" class="profileField agePanel"></div></td></tr><tr><td class="c30"></td><td class="c31" style="vertical-align: middle; "><div id="pfStatus" class="profileField statusPanel"></div></td></tr></tbody></table><div id="pfLast" class="lastLogin">Last login: Moments ago</div></div><div class="accountPanel" /><div class="accTitle">Account settings</div><div class="accountWrapper"><div id="pfEmail" class="accountField emailPanel" style="font-weight: bold; "></div><div id="pfPhone" class="accountField phonePanel notSet">Enter your phone number</div><div id="pfPass" class="accountField passwordPanel notSet">Change password</div><div class="btnTxt gray"><div></div><div id="pfLogout" class="txt">Sign Out</div><div></div></div></div><div class="build">&copy; airgames - <span id="pfBuild"></span></div>');
return c?"":d.toString()};
a.soy.profile.profileAvatarView=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="blackHeader back ProfileAvatar"><div id="puBack" class="circleBtn" style="background-position: 2px -395px; "></div><div class="title">Change Avatar</div></div><div class="avatarSwitch"><div id="paAvatar" class="ximage avatar" style=" background-size: 122px; width: 122px; height: 122px; background-repeat: no-repeat; "></div><div id="paSwitch" class="agswitch rightWidget"><div class="xswitch" style="-webkit-transition-duration: 100ms;"></div></div></div><div class="controls"><div id="paFaces" class="male faces"><div id="face0" class="fc nice"><div class="face"></div><div class="name">nice</div></div><div id="face1" class="fc punk"><div class="face"></div><div class="name">punk</div></div><div id="face2" class="fc nerd"><div class="face"></div><div class="name">nerd</div></div><div id="face3" class="fc smooth"><div class="face"></div><div class="name">smooth</div></div><div id="face4" class="fc rough"><div class="face"></div><div class="name">rough</div></div><div id="face5" class="fc evil"><div class="face"></div><div class="name">evil</div></div></div><div id="paColors" class="colors" style="display: none; ">');for(var e=
b.colors,f=e.length,g=0;g<f;g++){var h=e[g];d.append('<div id="clr',soy.$$escapeHtml(h.id),'" class="clr ',soy.$$escapeHtml(h.id),'"><div style="background-color: ',soy.$$escapeHtml(h.clr),'; "></div></div>')}d.append('</div></div><div id="paSavePanel" class="btnTxt" style="display: none; "><div></div><div id="puSave" class="txt">Save</div><div></div></div>');return c?"":d.toString()};
a.soy.profile.updateDisplay=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="blackHeader back ProfileUpdate"><div id="puBack" class="circleBtn" style="background-position: 2px -395px; "></div><div class="title">My nickname</div></div><div class="titleBar display"><div class="inputPanel" style="width: 260px; "><input id="puInput" type="text" class="mobileInput display" autocomplete="off" autocapitalize="off" autocorrect="off" placeholder="Nickname" maxlength="20" value="',soy.$$escapeHtml(b.param0),
'"/><a id="puAnchor" class="anchor" href="javascript:;">&nbsp;</a><div id="puRefresh" class="circleBtn" style="background-position: -100px -500px; "></div></div><div class="btnTxt"><div></div><div id="puSave" class="txt">Save</div><div></div></div></div>');return c?"":d.toString()};
a.soy.profile.updateBirthday=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="blackHeader back ProfileUpdate"><div id="puBack" class="circleBtn" style="background-position: 2px -395px; "></div><div class="title">My birthday</div></div><a class="anchor" href="javascript:;">&nbsp;</a><div class="titleBar"><div class="ximage cal" style="background-image: url(/images/calendar',soy.$$escapeHtml(b.ret),'.png); background-size: 79px; width: 79px; height: 79px; background-repeat: no-repeat; "></div><div><br /><br /></div><div id="puSelects"></div><div class="btnTxt btnBirthday"><div></div><div id="puSave" class="txt">Save</div><div></div></div></div>');
return c?"":d.toString()};
a.soy.profile.updateStatus=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="blackHeader back ProfileUpdate"><div id="puBack" class="circleBtn" style="background-position: 2px -395px; "></div><div class="title">About me:</div></div><a id="puAnchor" class="anchor" href="javascript:;">&nbsp;</a><div class="titleBar statusField"><textarea id="puInput" class="mobileInput" style="width: 210px; " maxlength="140">',soy.$$escapeHtml(b.param0),'</textarea><div class="label">140 chars</div><div class="btnTxt"><div></div><a id="puSave" class="txt" href="javascript:;">Save</a><div></div></div></div>');return c?
"":d.toString()};
a.soy.profile.updateEmail=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="blackHeader back ProfileUpdate"><div id="puBack" class="circleBtn" style="background-position: 2px -395px; "></div><div class="title">Email</div></div><a id="puAnchor" class="anchor" href="javascript:;">&nbsp;</a><div class="titleBar email"><input id="puInput" type="email" class="mobileInput" autocomplete="off" autocapitalize="off" autocorrect="off" style="width: 210px; " value="',soy.$$escapeHtml(b.param0),'"/><div class="label">Your airGames account can only be accessed with this email. Don\'t forget it!</div><div class="btnTxt"><div></div><div id="puSave" class="txt">Save</div><div></div></div></div>');
return c?"":d.toString()};
a.soy.profile.updatePhone=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="blackHeader back ProfileUpdate"><div id="puBack" class="circleBtn" style="background-position: 2px -395px; "></div><div class="title">Phone number</div></div><a id="puAnchor" class="anchor" href="javascript:;">&nbsp;</a><div class="titleBar phone"><input id="puInput" type="tel" class="mobileInput" autocomplete="off" autocapitalize="off" autocorrect="off" style="width: 210px; " placeholder="Enter your phone number" value="',soy.$$escapeHtml(b.param0),
'"/><div class="label">Receive notifications by text message.<br />Standard charges may apply.</div><div class="btnTxt"><div></div><div id="puSave" class="txt">Save</div><div></div></div></div>');return c?"":d.toString()};
a.soy.profile.updatePassword=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="blackHeader back ProfileUpdate"><div id="puBack" class="circleBtn" style="background-position: 2px -395px; "></div><div class="title">Change password</div></div><a id="puAnchor" class="anchor" href="javascript:;">&nbsp;</a><div class="passWrapper"><input id="puInput" type="password" class="confirmPass" placeholder="New password" /><input id="puInputConfirm" type="password" class="confirmPass" placeholder="Confirm password" /><div class="btnTxt btnChangePass"><div></div><a id="puSave" class="txt" href="javascript:;">Save</a><div></div></div></div>');return c?
"":d.toString()};a.soy.sign={};
a.soy.sign.landing=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="body"><div id="snLandSky" class="ximage sky" style="background-image: url(/images/_landing/landing-transition',soy.$$escapeHtml(b.ret),'.jpg); background-size: 498.46153846153845px 648px; width: 498.46153846153845px; height: 648px; margin-left: -249.23076923076923px; background-repeat: no-repeat; "></div><div class="btnTxt"><div></div><div id="snLandBtn" class="txt">Let\'s play</div><div></div></div></div>');return c?
"":d.toString()};
a.soy.sign.email=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="header"><div><div id="snEmailBack" class="circleBtn" style="float: left; background-position: 2px -395px; "></div><div class="ximage logo" style="background-image: url(/images/logotype-lite',soy.$$escapeHtml(b.ret),'.png); background-size: 103px 25px; width: 103px; height: 25px; background-repeat: no-repeat; "></div></div></div><div class="scrollPanel"><table id="snEmailFormPanel" style="width: 100%; " cellpadding="0" cellspacing="0" class="formPanel"><colgroup><col /></colgroup><tbody><tr><td align="center"><div class="ximage" style="background-image: url(/images/wizEmail',soy.$$escapeHtml(b.ret),
'.jpg); background-size: 358px 235px; width: 320px; height: 160px; background-position-x: 50%; background-repeat: no-repeat; "></div></td></tr><tr><td align="center"><div class="smallLabel">We won\'t share your email with anyone!</div></td></tr><tr><td align="center" class="inputRow"><input id="snEmailInput" type="email" class="mobileInput" autocomplete="off" autocapitalize="off" autocorrect="off" placeholder="Email" /></td></tr><tr><td align="center" class="buttonRow"><div class="btnTxt"><div></div><a id="snEmailBtn" class="txt" href="javascript:;">Start!</a><div></div></div></td></tr></tbody></table></div><div class="footer"><div class="footCenter"><div id="snForgotPassBtn" class="linkFoot border pass">Forgot Password</div><div class="linkFoot border contact"><a href="mailto:support@airgames.com?subject=Support">Contact us</a></div><div id="snTermsBtn" class="linkFoot terms">Terms</div></div></div>');
return c?"":d.toString()};
a.soy.sign.password=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="header"><div><div id="snPassBack" class="circleBtn" style="float: left; background-position: 2px -395px; "></div><div class="ximage logo" style="background-image: url(/images/logotype-lite',soy.$$escapeHtml(b.ret),'.png); background-size: 103px 25px; width: 103px; height: 25px; background-repeat: no-repeat; "></div></div></div><div class="scrollPanel"><table id="snPassFormPanel" style="width: 100%; margin-top: -50px; " cellpadding="0" cellspacing="0" class="formPanel"><colgroup><col></colgroup><tbody><tr><td align="center"><div class="ximage" style="background-image: url(/images/wizPass',soy.$$escapeHtml(b.ret),
'.jpg); background-size: 358px 235px; width: 100%; height: 235px; background-position-x: 50%; background-repeat: no-repeat; "></div></td></tr><tr><td align="center"><div class="smallLabel" style="margin-top: -20px; "><div id="snPassLbl" class="strong"></div>Password:</div></td></tr><tr><td align="center" class="inputRow"><input id="snPassInput" type="password" class="mobileInput" autocomplete="off" autocapitalize="off" autocorrect="off" placeholder="Your password"></td></tr><tr><td align="center" class="buttonRow"><div class="btnTxt"><div></div><a id="snPassBtn" class="txt" href="javascript:;">Let me in</a><div></div></div></td></tr></tbody></table></div><div class="footer"><div class="footCenter"><div id="snForgotPassBtn" class="linkFoot border pass">Forgot Password</div><div class="linkFoot border contact"><a href="mailto:support@airgames.com?subject=Support">Contact us</a></div><div id="snTermsBtn" class="linkFoot terms">Terms</div></div></div>');
return c?"":d.toString()};
a.soy.sign.newPassword=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="header"><div><div id="snNewPassBack" class="circleBtn" style="float: left; background-position: 2px -395px; "></div><div class="ximage logo" style="background-image: url(/images/logotype-lite',soy.$$escapeHtml(b.ret),'.png); background-size: 103px 25px; width: 103px; height: 25px; background-repeat: no-repeat; "></div></div></div><div class="scrollPanel"><table id="snNewPassFormPanel" style="width: 100%; margin-top: -15px; " cellpadding="0" cellspacing="0" class="formPanel"><colgroup><col /></colgroup><tbody><tr><td align="center"><div class="ximage" style="background-image: url(/images/wizNewPass',soy.$$escapeHtml(b.ret),
'.jpg); background-size: 358px 235px; width: 100%; height: 165px; background-position-x: 50%; background-repeat: no-repeat; "></div></td></tr><tr><td align="center"><div class="smallLabel"><div id="snNewPassLbl" class="strong"></div>Choose your password:</div></td></tr><tr><td align="center" class="inputRow"><input id="snNewPassInput" type="password" class="mobileInput" autocomplete="off" autocapitalize="off" autocorrect="off" placeholder="Your password" /></td></tr><tr><td align="center" class="buttonRow"><div class="btnTxt"><div></div><a id="snNewPassBtn" class="txt" href="javascript:;">Create my account</a><div></div></div></td></tr></tbody></table></div><div class="footer"><div class="footCenter"><div id="snForgotPassBtn" class="linkFoot border pass">Forgot Password</div><div class="linkFoot border contact"><a href="mailto:support@airgames.com?subject=Support">Contact us</a></div><div id="snTermsBtn" class="linkFoot terms">Terms</div></div></div>');
return c?"":d.toString()};
a.soy.sign.forgotPassword=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="header"><div style="-webkit-transform: translate3d(0px, 0px, 0px); "><div class="title">Password help</div><div id="snForgotBack" class="circleBtn" style="float: right; background-position: 0px -509px; "></div></div></div><div class="scrollPanel"><table style="width: 100%; margin-top: -10px; " cellpadding="0" cellspacing="0" class="formPanel"><colgroup><col /></colgroup><tbody><tr><td align="center"><div id="snForgotImg" class="ximage" style="background-size: 358px 235px; width: 100%; height: 210px; background-image: url(/images/wizForgot',soy.$$escapeHtml(b.ret),
'.jpg); background-position-x: 50%; background-repeat: no-repeat; "></div></td></tr><tr><td align="center"><div id="snForgotLabel" class="smallLabel dark">Email:</div></td></tr><tr><td align="center" class="inputRow"><input id="snForgotInput" type="email" class="mobileInput" autocomplete="off" autocapitalize="off" autocorrect="off" placeholder="Email" /></td></tr><tr><td align="center" class="buttonRow"><div id="snForgotSend" class="btnTxt"><div></div><a class="txt" href="javascript:;">Send it!</a><div></div></div></td></tr><tr><td align="center" class="buttonRow"><div id="snForgotAnother" class="btnTxt" style="display: none; "><div></div><a class="txt" href="javascript:;">Try another email</a><div></div></div></td></tr><tr><td align="center" class="buttonRow"><div id="snForgotLetin" class="btnTxt" style="display: none; "><div></div><a class="txt" href="javascript:;">Let me in</a><div></div></div></td></tr><tr><td class="buttonRow"></td></tr></tbody></table></div>');
return c?"":d.toString()};
a.soy.sign.terms=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="SignView SignViewTerms" style="display: block; "><div class="header"><div><div id="snTermsBack" class="circleBtn" style="float: left; background-position: 2px -395px; "></div><div class="ximage logo" style="background-image: url(/images/logotype-lite',soy.$$escapeHtml(b.ret),'.png); background-size: 103px 25px; width: 103px; height: 25px; background-repeat: no-repeat; "></div></div></div><div class="scrollPanel"><table style="width: 100%; " cellpadding="0" cellspacing="0" class="formPanel"><colgroup><col /></colgroup><tbody><tr><td align="left"><div class="lblPanel"><div id="snTermsText" class="lbl">Loading...</div></div></td></tr></tbody></table></div></div>');return c?
"":d.toString()};
a.soy.sign.newDisplay=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="header"><div><div class="ximage logo" style="background-image: url(/images/logotype-lite',soy.$$escapeHtml(b.ret),'.png); background-size: 103px 25px; width: 103px; height: 25px; background-repeat: no-repeat; "></div></div></div><div class="scrollPanel"><table style="width: 100%; margin-top: -20px; " cellpadding="0" cellspacing="0" class="formPanel"><colgroup><col></colgroup><tbody><tr><td align="center"><div class="ximage" style="background-image: url(/images/wizDispl',soy.$$escapeHtml(b.ret),
'.jpg); background-size: 358px 235px; width: 100%; height: 235px; background-position-x: 50%; background-repeat: no-repeat; "></div></td></tr><tr><td align="center"><div class="smallLabel"><div class="strong">Choose a nickname for yourself.</div>You can change this later on.</div></td></tr><tr><td align="center" class="inputRow"><div style="width: 250px; " class="inputPanel"><input id="snNewDispInput" type="text" class="mobileInput" autocomplete="off" autocapitalize="off" autocorrect="off" placeholder="Your nickname" style="width: 180px;" readonly="readonly"><div id="snNewDispRefresh" class="circleBtn" style="background-position: -100px -500px; "></div></div></td></tr><tr><td align="center" class="buttonRow"><div class="btnTxt"><div></div><a id="snNewDispBtn" class="txt" href="javascript:;">Next</a><div></div></div></td></tr></tbody></table></div>');
return c?"":d.toString()};
a.soy.sign.newAvatar=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="header"><div><div id="snAvatarBack" class="circleBtn" style="float: left; background-position: 2px -395px; "></div><div class="ximage logo" style="background-image: url(/images/logotype-lite',soy.$$escapeHtml(b.ret),'.png); background-size: 103px 25px; width: 103px; height: 25px; background-repeat: no-repeat; "></div><div id="snAvatarSwitch" class="agswitch rightWidget"><div class="xswitch" style="-webkit-transition-duration: 100ms;"></div></div></div></div><div class="scrollPanel"><div><div class="ximage" style="background-image: url(/images/wizAvatar',soy.$$escapeHtml(b.ret),
'.jpg); background-size: 358px 235px; width: 100%; height: 160px; margin-top: -10px; background-position-x: 50%; background-repeat: no-repeat; "></div><div id="snFaces" class="female faces"><div id="face0" class="fc nice"><div class="face"></div><div class="name">nice</div></div><div id="face1" class="fc punk"><div class="face"></div><div class="name">punk</div></div><div id="face2" class="fc nerd"><div class="face"></div><div class="name">nerd</div></div><div id="face3" class="fc smooth"><div class="face"></div><div class="name">smooth</div></div><div id="face4" class="fc rough"><div class="face"></div><div class="name">rough</div></div><div id="face5" class="fc evil"><div class="face"></div><div class="name">evil</div></div></div></div></div>');
return c?"":d.toString()};
a.soy.sign.newAvatarColor=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="header"><div><div id="snColorBack" class="circleBtn" style="float: left; background-position: 2px -395px; "></div><div class="ximage logo" style="background-image: url(/images/logotype-lite',soy.$$escapeHtml(b.ret),'.png); background-size: 103px 25px; width: 103px; height: 25px; background-repeat: no-repeat; "></div><div id="snColorSwitch" class="agswitch rightWidget"><div class="xswitch" style="-webkit-transition-duration: 100ms;"></div></div></div></div><div class="scrollPanel"><div><div class="lblPanel"><div class="lbl">What\'s your favourite colour?</div></div><div id="snColorImage" class="ximage avatar" style="background-size: 122px; width: 122px; height: 122px; background-color: rgb(235, 53, 130); background-repeat: no-repeat; "></div><div class="colors">');for(var e=
b.colors,f=e.length,g=0;g<f;g++){var h=e[g];d.append('<div id="clr',soy.$$escapeHtml(h.id),'" class="clr ',soy.$$escapeHtml(h.id),'"><div style="background-color: ',soy.$$escapeHtml(h.clr),'; " class="',soy.$$escapeHtml(h.css),'"></div></div>')}d.append('<div class="btnTxt btnSubmit"><div></div><div id="snColorDone" class="txt">Done</div><div></div></div></div></div></div>');return c?"":d.toString()};a.soy.ui={};
a.soy.ui.blackPopup=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="blackPopup" style="position: absolute; -webkit-transition-property: opacity; -webkit-transition-duration: 250ms; left: 0px; right: 0px; top: 0px; bottom: 0px; opacity: 1; "><div class="contentPanel xpopup" style="top: 0px; right: 0px; bottom: 0px; left: 0px; "><div class="circleBtn" style="width: 58px; height: 58px; background-position: -150px -78px; "></div><div class="label">',b.msg,'</div><a class="anchor" href="javascript:;">&nbsp;</a></div></div>');
return c?"":d.toString()};
a.soy.ui.friendOptionPopup=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="xpopupOverlay optionPopup" style="position: absolute; opacity: 1; left: 0px; right: 0px; top: 0px; bottom: 0px; "><div class="contentPanel xpopup" style="top: 0px; right: 0px; bottom: 0px; left: 0px; "><div id="opPosition" class="btns" style="left: 0; top: 0; "><div id="opAddBtn" class="optionText btnFriend " style="display: none"><div class="text">Add friend</div></div><div id="opDeleteBtn" class="optionText btnUnfriend " style="display: none"><div class="text">Unfriend</div></div><div id="opBlockBtn" class="optionText btnBlock" style="display: none"><div class="text">Block</div></div><div id="opUnblockBtn" class="optionText btnBlock" style="display: none"><div class="text">Unblock</div></div></div><a class="anchor" href="javascript:;">&nbsp;</a></div></div>');return c?
"":d.toString()};
a.soy.ui.loading=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="blackPopup loading" style="position: absolute; -webkit-transition-property: opacity; -webkit-transition-duration: 250ms; left: 0px; right: 0px; top: 0px; bottom: 0px; opacity: 1; "><div class="contentPanel xpopup" style="top: 0px; right: 0px; bottom: 0px; left: 0px; "><div class="ximage" style=" background-image: url(/images/loading.gif); background-size: 150px 200px; width: 150px; height: 200px; background-repeat: no-repeat; left: 50%; position: absolute; margin-left: -75px; top: 50%; margin-top: -100px; background-color: RGBA(0,0,0,0.1); border-radius: 10px; "></div></div></div>');return c?
"":d.toString()};a.soy.ui.xpicker=function(b,c){var d=c||new soy.StringBuilder;d.append('<div class="xbtn"><div class="body"><div class="selectedText"></div><div class="icon"></div></div><select>');for(var e=b.options,f=e.length,g=0;g<f;g++){var h=e[g];d.append('<option value="',soy.$$escapeHtml(h.index),'"',b.selected==h.text?'selected="selected"':"",">",soy.$$escapeHtml(h.text),"</option>")}d.append("</select></div>");return c?"":d.toString()};a.BlackPopup=function(b){a.Widget.call(this);var c=goog.dom.createDom("div");c.innerHTML=a.soy.ui.blackPopup({msg:b});this.widget_=c;this.addToParent(goog.dom.getElement(a.Id.AG_ROOT))};goog.inherits(a.BlackPopup,a.Widget);a.BlackPopup.prototype.getElement=function(){return this.widget_};a.BlackPopup.prototype.onRender=function(){var b=this;aa.isTouchSupported()?new a.FastButton(this.widget_,function(){b.close()}):goog.events.listen(this.widget_,goog.events.EventType.CLICK,function(){b.close()})};
a.BlackPopup.prototype.close=function(){this.removeFromParent()};a.Skey={CookieApiKey:"airGAPIKey",Messages:"a.c:",FriendRequests:"a.fr",SessionUser:"a.u",SessionStatus:"a.status",SessionProfile:"a.up",FullScreen:"a.fs",GameList:"a.game.list",GameMap:"a.game.map",Profiles:"a.profiles",Friends:"a.friends",Blocked:"a.blocked",Buds:"a.buds",Chats:"a.chats",ChatIds:"a.chatIds",Email:"a.email",AgToken:"a.tok",SystemGameTurns:"a.nt.turn",SystemGameInvites:"a.nt.inv",SystemGameSystemInvites:"a.nt.sys.inv",Console:"a.cns",ConsoleEnabled:"a.cns.en"};a.UserDao=function(b,c){this.storage_=b;this.api_=c;this.sessionProfile_=this.sessionStatus_=this.sessionUser_=this.nscUser_=null;log("UserDao::constructor")};a.UserDao.prototype.setSessionUser=function(b){log("setSessionUser ",b);this.storage_.setItem(a.Skey.SessionUser,JSON.stringify(b));this.sessionUser_=b;aa.setCookie(a.Skey.CookieApiKey,this.sessionUser_.apiKey,new Date(2100,1,1),null,"/",!1);this.api_.init()};
a.UserDao.prototype.setSessionProfile=function(b){b.userId=this.sessionUser_.userId;b.avatarUrl=aa.getAvatarUrl(b);this.storage_.setItem(a.Skey.SessionProfile,JSON.stringify(b));this.sessionProfile_=b};a.UserDao.prototype.setFriends=function(b){this.friends_=b;this.storage_.setItem(a.Skey.Friends,JSON.stringify(b))};a.UserDao.prototype.setSessionStatus=function(b){this.sessionStatus_=b;this.storage_.setItem(a.Skey.SessionStatus,JSON.stringify(b))};
a.UserDao.prototype.initNscUser=function(b){log("Nsc.User init");this.nscUser_=new Nsc.User;var c=this,d=this.nscUser_;this.nscUser_.init(function(e){e||(log("Nsc.User completed with success",d.user),c.setSessionUser(d.user));b()})};a.UserDao.prototype.nscLogout=function(){this.nscUser_.logout()};a.UserDao.prototype.nscLogin=function(b,c,d,e){this.nscUser_.login(b,c,function(b){d(b)},e)};a.UserDao.prototype.nscRegister=function(b,c,d,e){this.nscUser_.register(b,c,function(b){d(b)},e)};
a.UserDao.prototype.clear=function(){this.storage_.removeItem(a.Skey.SessionUser);aa.removeCookie(a.Skey.CookieApiKey,"/");this.sessionUser_=null;this.storage_.removeItem(a.Skey.SessionProfile);this.sessionProfile_=null;this.storage_.removeItem(a.Skey.Friends);this.sList=null;this.storage_.removeItem(a.Skey.SessionStatus);this.sessionStatus_=null};
a.UserDao.prototype.getSessionUser=function(){if(!aa.isNull(this.sessionUser_))return this.sessionUser_;var b=this.storage_.getItem(a.Skey.SessionUser);return!aa.isEmpty(b)?this.sessionUser_=JSON.parse(b):null};a.UserDao.prototype.getSessionProfile=function(){if(!aa.isNull(this.sessionProfile_))return this.sessionProfile_;var b=this.storage_.getItem(a.Skey.SessionProfile);return!aa.isEmpty(b)?this.sessionProfile_=JSON.parse(b):null};
a.UserDao.prototype.getSessionStatus=function(){if(!aa.isNull(this.sessionStatus_))return this.sessionStatus_;var b=this.storage_.getItem(a.Skey.SessionStatus);return!aa.isEmpty(b)?this.sessionStatus_=JSON.parse(b):null};a.UserDao.prototype.updateSessionProfile=function(b,c,d,e){var f=this;f.api_.updateProfile(f.getSessionUser().userId,b,c,function(c){c.userId=b.userId;f.setSessionProfile(c);aa.isFunc(d)&&d()},e)};
a.UserDao.prototype.getFriends=function(b,c){Nsc.theFriends.get(this.sessionUser_.userId,b,c)};a.UserDao.prototype.deleteFriend=function(b,c,d){log(this,"deleteFriend",b);Nsc.theFriends.delFriend(b,c,d)};a.UserDao.prototype.addFriend=function(b,c,d){log(this,"addFriend",b);this.api_.addFriendByUserId(b,function(b){c(b)},d)};a.UserDao.prototype.getRecent=function(b,c){Nsc.theRecents.get(this.sessionUser_.userId,b,c)};
a.UserDao.prototype.getBuds=function(b,c){Nsc.theBuds.get(this.sessionUser_.userId,b,c)};a.UserDao.prototype.isFriend=function(b,c){Nsc.theFriends.get(b,function(d){for(var e=!1,f=0,g=d.length;f<g;f++)if(b===d[f]){e=!0;break}c(e)})};a.UserDao.prototype.acceptFriendRequest=function(b,c,d){Nsc.User.instance.accept(b,c,d)};a.ProfileDao=function(b,c){this.storage_=b;this.api_=c;log(this,"constructor")};a.ProfileDao.prototype.clear=function(){};a.ProfileDao.prototype.getProfile=function(b,c,d){Nsc.theProfiles.get(b,function(d){d.userId=b;c(d)},d)};a.ProfileDao.prototype.listByUserIds=function(b,c,d){Nsc.theProfiles.get(b,function(d){for(var f=0,g=b.length;f<g;f++){var h=b[f];d[h].userId=h}c(d)},d)};
a.ProfileDao.prototype.listByUsers=function(b,c,d){for(var e=[],f=0;f<b.length;f++)e.push(b[f].userId);Nsc.theProfiles.get(e,function(d){for(var e=0,f=b.length;e<f;e++){var j=b[e],k=j.userId;d[k].userId=k;d[k].online=j.online}c(d)},d)};
a.ProfileDao.prototype.onlinelistByUsers=function(b,c,d){for(var e=[],f=0;f<b.length;f++)e.push(b[f].userId);Nsc.theProfiles.get(e,function(d){for(var e={},f={},j=0,k=b.length;j<k;j++){var l=b[j],n=l.userId,l=l.online,m=d[n];m.userId=n;aa.isNull(l)||1>l?f[n]=m:e[n]=m}c(e,f)},d)};a.Storage=function(b){this.eventBus_=b};a.Storage.prototype.setItem=function(b,c){try{window.localStorage.setItem(b,c)}catch(d){this.handleError(d)}};a.Storage.prototype.getItem=function(b){try{return window.localStorage.getItem(b)}catch(c){this.handleError(c)}return null};a.Storage.prototype.hasKey=function(b){try{return null!=window.localStorage.getItem(b)}catch(c){this.handleError(c)}return!1};a.Storage.prototype.removeItem=function(b){try{window.localStorage.removeItem(b)}catch(c){this.handleError(c)}};
a.Storage.prototype.clear=function(){var b=window.localStorage;try{var c=b.getItem(a.Skey.Email),d=b.getItem(a.Skey.AgToken),e=b.getItem(a.Skey.GameList),f=b.getItem(a.Skey.GameMap),g=b.getItem(a.Skey.FullScreen),h=b.getItem(a.Skey.Profiles);b.clear();aa.isEmpty(c)||b.setItem(a.Skey.Email,c);aa.isEmpty(d)||b.setItem(a.Skey.AgToken,d);aa.isEmpty(e)||b.setItem(a.Skey.GameList,e);aa.isEmpty(f)||b.setItem(a.Skey.GameList,f);aa.isEmpty(g)||b.setItem(a.Skey.FullScreen,g);aa.isEmpty(h)||b.setItem(a.Skey.Profiles,
h)}catch(i){this.handleError(i)}};a.Storage.prototype.length=function(){try{return window.localStorage.length}catch(b){this.handleError(b)}return null};a.Storage.prototype.handleError=function(b){22==b.code||b.QUOTA_EXCEEDED_ERR||1014==b.code||-1!=b.message.indexOf("QUOTA_EXCEEDED_ERR")?this.eventBus_.fire(a.Event.StorageQuotaErr):this.eventBus_.fire(a.Event.StorageErr)};a.BlockedDao=function(b){this.api_=b.getApi();this.ctx_=b};a.BlockedDao.prototype.clear=function(){this.list_=[]};a.BlockedDao.prototype.listBlocked=function(b,c){var d=this;this.api_.getBlocked(function(c){d.ctx_.getProfileDao().listByUserIds(c,function(c){d.list_=c;b(c)})},c)};a.BlockedDao.prototype.isBlocked=function(b,c){aa.isNull(this.list_)?this.listBlocked(function(d){c(!aa.isNull(d[b]))}):c(!aa.isNull(this.list_[b]))};
a.BlockedDao.prototype.addBlocked=function(b,c){var d=this;this.api_.addBlocked(b.userId,function(e){c(e);d.list_[e]=b})};a.BlockedDao.prototype.removeBlocked=function(b,c){var d=this;this.api_.removeBlocked(b.userId,function(){d.listBlocked(function(){c()})})};a.Session=function(b){this.ctx_=b;this.sign_=null;this.hist_=a.Hist.NOHIST};a.Session.prototype.invalidate=function(){this.ctx_.getUserDao().clear();this.ctx_.getTubeReaderDao().clear();this.ctx_.getBlockedDao().clear();this.ctx_.getStorage().clear();this.sign_=null};a.Session.prototype.getSign=function(){return this.sign_};a.Session.prototype.setSign=function(b){this.sign_=b};a.Session.prototype.getUser=function(){return this.ctx_.getUserDao().getSessionUser()};
a.Session.prototype.setHist=function(b){this.hist_=b};a.Session.prototype.getHist=function(){return this.hist_};a.Session.prototype.isValid=function(){return!aa.isNull(this.ctx_.getUserDao().getSessionUser())};a.Session.prototype.isMe=function(b){return this.ctx_.getUserDao().getSessionUser().getId()===b};a.Session.prototype.isMe=function(b){return this.ctx_.getUserDao().getSessionUser().getId()===b.getId()};a.AgPanel=function(){log("AgPanel::constructor")};a.AgPanel.init=function(){log("AgPanel::init");var b=goog.dom.getElement(a.Id.AG_ROOT);a.AgPanel.setVisible(!1);jq(b).addClass("ANDROID");aa.isIOS()&&jq(b).addClass("IOS");(aa.isRetina()||aa.isLocalhost())&&jq(b).addClass("RETINA")};a.AgPanel.setVisible=function(b){var c=goog.dom.getElement(a.Id.AG_ROOT);b?jq(c).css("display","block"):jq(c).css("display","none")};a.AgPanel.clearAndAttachAndroid=function(b){jq(a.AgPanel.rootAndroid()).empty();jq(a.AgPanel.rootAndroid()).append(b)};
a.AgPanel.rootAndroid=function(){aa.isNull(a.AgPanel.rootAndroid_)&&(a.AgPanel.rootAndroid_=goog.dom.getElement(a.Id.AG_ROOT),a.AgPanel.rootAndroid_=goog.dom.createDom("div",{id:a.Id.AG_ROOT,style:"position: absolute;left: 0;top: 0;right: 0;bottom: 0;"}),goog.dom.appendChild(document.body,a.AgPanel.rootAndroid_));return a.AgPanel.rootAndroid_};a.AgPanel.addAndroid_AG_style=function(b){goog.dom.classes.add(a.AgPanel.rootAndroid(),b)};
a.AgPanel.removeAndroid_AG_style=function(b){goog.dom.classes.remove(a.AgPanel.rootAndroid(),b)};a.TubeReaderDao=function(b){this.storage_=b.getStorage();this.api_=b.getApi();log(this,"constructor");this.friendRequests_=null;b=this.storage_.getItem(a.Skey.FriendRequests);this.friendRequests_=aa.isEmpty(b)?[]:JSON.parse(b)};a.TubeReaderDao.prototype.clear=function(){this.friendRequests_=[];this.storage_.removeItem(a.Skey.FriendRequests)};
a.TubeReaderDao.prototype.addFriendRequest=function(b){log(this,"addFriendRequest",this.friendRequests_,b);this.friendRequests_.push(b);this.storage_.setItem(a.Skey.FriendRequests,JSON.stringify(this.friendRequests_))};a.TubeReaderDao.prototype.getFriendRequests=function(b){b(this.friendRequests_)};
a.TubeReaderDao.prototype.cancelFriendRequests=function(b,c){for(var d=[],e=0;e<this.friendRequests_.length;e++){var f=this.friendRequests_[e];f.userId!==b&&d.push(f)}this.friendRequests_=d;this.storage_.setItem(a.Skey.FriendRequests,JSON.stringify(this.friendRequests_));c()};a.GamesDao=function(b,c){this.storage_=b;this.api_=c;log("GamesDao::constructor")};a.GamesDao.prototype.getGames=function(b,c){this.gamesList_?b(this.gamesList_):this.apiGames(b,c)};a.GamesDao.prototype.apiGames=function(b,c){var d=this;d.api_.getGameConfigs(function(c){d.fixList(c);aa.isFunc(b)&&b(d.gamesList_)},c)};
a.GamesDao.prototype.fixList=function(b){var c=[],d={},e=aa.isRetina()?"_2":"",f;for(f in b){var g=b[f];log(this,"fixList",f,g);"tictactoe"===g.game?(g.imageUrl=aa.retinaUrl("/images/ag/ag-5-big.jpg"),g.imageThumbUrl=aa.retinaUrl(g.imageThumbUrl)):"smc"===g.game?(g.imageUrl=aa.retinaUrl("/images/ag/ag-1-big.jpg"),g.imageThumbUrl=aa.retinaUrl(g.imageThumbUrl),g.shots=[],g.shots.push("/images/ag/_screenshots/HF-1"+e+".jpg"),g.shots.push("/images/ag/_screenshots/HF-2"+e+".jpg"),g.shots.push("/images/ag/_screenshots/HF-3"+
e+".jpg"),this.gameFeatured1_=g):"vocab"===g.game?(g.imageUrl=aa.retinaUrl("/images/ag/ag-6-big.jpg"),g.imageThumbUrl=aa.retinaUrl(g.imageThumbUrl),g.shots=[],g.shots.push("/images/ag/_screenshots/LL-1"+e+".jpg"),g.shots.push("/images/ag/_screenshots/LL-2"+e+".jpg"),g.shots.push("/images/ag/_screenshots/LL-3"+e+".jpg"),this.gameFeatured2_=g):"gwar"===g.game&&(g.imageUrl=aa.retinaUrl("/images/ag/ag-8-big.jpg"),g.imageThumbUrl=aa.retinaUrl("/images/ag/icon-8.jpg"),g.shots=[],g.shots.push("/images/ag/_screenshots/DT-1"+
e+".jpg"),g.shots.push("/images/ag/_screenshots/DT-2"+e+".jpg"),g.shots.push("/images/ag/_screenshots/DT-3"+e+".jpg"));g.title||(g.title="A new game");g.author||(g.author="");g.enabled&&(c.push(g),d[g.game]=g)}this.gamesList_=c;this.gamesMap_=d;this.storage_.setItem(a.Skey.GameList,JSON.stringify(this.gamesList_));this.storage_.setItem(a.Skey.GameMap,JSON.stringify(this.gamesMap_))};
a.GamesDao.prototype.getGame=function(b,c){var d=this.gamesMap_[b],e=this;aa.isNull(d)?e.apiGames(function(){d=e.gamesMap_[b];c(d)}):c(d)};a.GamesDao.prototype.getGameFeatured1=function(){return this.gameFeatured1_};a.GamesDao.prototype.getGameFeatured2=function(){return this.gameFeatured2_};a.TidbitDao=function(b,c){this.storage_=b;this.api_=c;this.counter_=0};a.TidbitDao.prototype.getList=function(b,c){var d=this;0!=d.counter_%10?b(d.list_):(d.counter_=0,d.api_.getTidbits(function(c){log("list tb:",c);aa.isFunc(b)&&(d.list_=c,b(c),d.prefetchImages(c))},c));d.counter_++};
a.TidbitDao.prototype.prefetchImages=function(b){for(var c=b.length,d=0;d<c;d++){var e=b[d].msg.image;if(!aa.isEmpty(e)&&!aa.contains(e,"/null.png")){var f=new Image;aa.isRetina()&&(e=e.replace(".png","_2.png"),e=e.replace(".jpg","_2.jpg"));f.src=e}}};a.Urls={REGISTER:"/users/register",COUNTRIES:"/countries",ME:"/me?profile=1&friends=1&status=1",CHANGE_PROFILE:"/profiles/$1/default$2",CHANGE_STATUS:"/profiles/$1/status",CHANGE_EMAIL:"/users/$1/email",CHANGE_PHONE:"/users/$1/phonenumber",CHANGE_USERNAME:"/users/$1/username",CHANGE_PASSWORD:"/users/$1/password",RESET_PASSWORD:"/users/password",TUBE:"/tubes/$1",LOGOUT:"/devices/$1",LOGIN:"/users/login",FRIENDS_GET:"/contacts/$1/friends",FRIEND_ADD:"/contacts/$1/friends",FRIEND_ACCEPT_REQUEST:"/contacts/$1/friends",
FRIEND_DELETE:"/contacts/$1/friends/$2",BLOCKED_GET:"/contacts/$1/ignores",BLOCKED_ADD:"/contacts/$1/ignores",BLOCKED_DELETE:"/contacts/$1/ignores/$2",PROFILES_PRESENCE:"/profiles/$1/presence",PROFILES_STATUS:"/profiles/$1/status",PROFILES_GET:"/profiles/$1/default",INVITE_HOOKT:"/icodes/",INVITE_CREATE:"/icodes/?silent=1",INVITE_RETRIEVE:"/icodes/$1",GAMES_CREATE:"/games",GAMES_ACTIVE:"/games",GAME_GET:"/games/$1",NOTIFIES:"/notifies/$1",GAMES_MESSAGES_GET:"/games/$1/messages",GAMES_MESSAGES_POST:"/games/$1/messages",
GAMECONFIGS:"/gameconfigs",GAMEBUDS:"/gamebuds/$1",CHATS_CREATE:"/chats",CHATS:"/chats",CHAT_MESSAGES_GET:"/messages/$1",CHAT_MESSAGES_POST:"/messages/$1",EMAILS:"/emails/$1",DISPLAYS:"/displays",AVATARS:"/avatars",TIDBITS:"/tidbits",TERMS:"/terms.txt"};a.Urls.url=function(b,c){var d="/1"+a.Urls.argsToUrl_(b,c);return b===a.Urls.TUBE?"http://c.airgames.com"+d:"http://c.airgames.com"+a.Urls.rand_(d)};a.Urls.rand_=function(b){return 0<b.indexOf("?")?b+"&i="+Math.random():b+"?i="+Math.random()};
a.Urls.argsToUrl_=function(b,c){if(aa.isNull(c)||1>c.length)return b;for(var d=b,e=0;e<c.length;e++)d=d.replace("$"+(e+1),c[e]+"");return d};a.Api=function(b){this.ctx_=b;this.sessionUserId_=this.apiKey_=null;log("Api::constructor")};a.Api.prototype.init=function(){log("Api::init");var b=(new a.Storage).getItem(a.Skey.SessionUser);goog.string.isEmpty(b)?log("|ERROR| Api is not initialized!"):(log("Api::init from Storage..."),b=goog.json.parse(b),this.apiKey_=b.apiKey,this.sessionUserId_=b.userId)};a.Api.prototype.getEmail=function(b,c,d){a.HTTP.doGet(a.Urls.url(a.Urls.EMAILS,[b]),null,c,d)};
a.Api.prototype.updateDisplayName=function(b,c){var d=this.ctx_.getUserDao().getSessionUser(),d={display:b,userId:d.userId};this.ctx_.getUserDao().updateSessionProfile(d,"",c)};a.Api.prototype.updateProfile=function(b,c,d,e,f){a.HTTP.doPost(a.Urls.url(a.Urls.CHANGE_PROFILE,[b,d]),this.apiKey_,JSON.stringify(c),e,f)};a.Api.prototype.updateStatus=function(b,c,d){log("new status 1 ",c);a.HTTP.doPost(a.Urls.url(a.Urls.CHANGE_STATUS,[b]),this.apiKey_,JSON.stringify({status:c}),d)};
a.Api.prototype.changeEmail=function(b,c,d,e){a.HTTP.doPut(a.Urls.url(a.Urls.CHANGE_EMAIL,[b]),this.apiKey_,'"'+c+'"',d,e)};a.Api.prototype.changePhone=function(b,c,d,e){a.HTTP.doPut(a.Urls.url(a.Urls.CHANGE_PHONE,[b]),this.apiKey_,'"'+c+'"',d,e)};a.Api.prototype.changePassword=function(b,c,d,e){a.HTTP.doPut(a.Urls.url(a.Urls.CHANGE_PASSWORD,[b]),this.apiKey_,'"'+c+'"',d,e)};a.Api.prototype.getDisplays=function(b){a.HTTP.doGet(a.Urls.url(a.Urls.DISPLAYS),null,b)};
a.Api.prototype.getBuds=function(b){a.HTTP.doGet(a.Urls.url(a.Urls.GAMEBUDS,[this.sessionUserId_]),this.apiKey_,b)};a.Api.prototype.getMe=function(b){var c=this;a.HTTP.doGet(a.Urls.url(a.Urls.ME),this.apiKey_,b,function(b){401==b&&c.ctx_.fireEvent(a.Event.LogoutEvent)})};a.Api.prototype.logout=function(){this.ctx_.getUserDao().nscLogout();this.ctx_.getSession().invalidate()};
a.Api.prototype.getTerms=function(b){goog.net.XhrIo.send("/terms.html",function(c){c=c.target;200==c.getStatus()&&b(c.getResponseText())},"GET")};a.Api.prototype.resetPassword=function(b,c,d){b=JSON.stringify({email:b});a.HTTP.doPost(a.Urls.url(a.Urls.RESET_PASSWORD),null,b,c,d)};a.Api.prototype.loginWithPIN=function(b,c,d){b=JSON.stringify({pin:b});a.HTTP.doPost(a.Urls.url(a.Urls.LOGIN),null,b,c,d)};
a.Api.prototype.inviteRetrieve=function(b,c,d){a.HTTP.doGet(a.Urls.url(a.Urls.INVITE_RETRIEVE,[b]),null,c,d)};a.Api.prototype.getGameConfigs=function(b,c){a.HTTP.doGet(a.Urls.url(a.Urls.GAMECONFIGS),null,b,c)};a.Api.prototype.getTidbits=function(b,c){a.HTTP.doGet(a.Urls.url(a.Urls.TIDBITS),this.apiKey_,b,c)};a.Api.prototype.getBlocked=function(b){a.HTTP.doGet(a.Urls.url(a.Urls.BLOCKED_GET,[this.sessionUserId_]),this.apiKey_,b)};
a.Api.prototype.addBlocked=function(b,c){if(this.sessionUserId_===b)log("ERROR: Trying to add myself as blocked!");else{var d=JSON.stringify({userId:b});a.HTTP.doPost(a.Urls.url(a.Urls.BLOCKED_ADD,[this.sessionUserId_]),this.apiKey_,d,c)}};a.Api.prototype.removeBlocked=function(b,c){a.HTTP.doDelete(a.Urls.url(a.Urls.BLOCKED_DELETE,[this.sessionUserId_,b]),this.apiKey_,"[]",c)};
a.Api.prototype.addFriendByUserId=function(b,c,d){this.sessionUserId_===b?log("ERROR: Trying to add myself as friend!"):(b=JSON.stringify({userId:b}),a.HTTP.doPost(a.Urls.url(a.Urls.FRIEND_ADD,[this.sessionUserId_]),this.apiKey_,b,c,d))};a.Ctx=function(){this.eventBus_=new a.EventBus(this);this.api_=new a.Api(this);this.session_=new a.Session(this);this.storage_=new a.Storage(this.eventBus_);this.userDao_=new a.UserDao(this.storage_,this.api_);this.gamesDao_=new a.GamesDao(this.storage_,this.api_);this.tidbitDao_=new a.TidbitDao(this.storage_,this.api_);this.profileDao_=new a.ProfileDao(this.storage_,this.api_);this.blockedDao_=new a.BlockedDao(this);this.tubeReaderDao_=new a.TubeReaderDao(this);this.currentView_=null;a.AgPanel.rootAndroid();
log("a.Ctx::constructor")};goog.addSingletonGetter(a.Ctx);a.Ctx.prototype.getCurrentView=function(){return this.currentView_};a.Ctx.prototype.setCurrentView=function(b){this.currentView_=b};a.Ctx.prototype.getApi=function(){return this.api_};a.Ctx.prototype.getStorage=function(){return this.storage_};a.Ctx.prototype.getSession=function(){return this.session_};a.Ctx.prototype.getUserDao=function(){return this.userDao_};a.Ctx.prototype.getUserId=function(){return this.userDao_.getSessionUser().userId};
a.Ctx.prototype.getGamesDao=function(){return this.gamesDao_};a.Ctx.prototype.getTidbitDao=function(){return this.tidbitDao_};a.Ctx.prototype.getProfileDao=function(){return this.profileDao_};a.Ctx.prototype.getBlockedDao=function(){return this.blockedDao_};a.Ctx.prototype.getTubeReaderDao=function(){return this.tubeReaderDao_};a.Ctx.prototype.getEvents=function(){return this.events_};a.Ctx.prototype.setEvents=function(b){this.events_=b};a.Ctx.prototype.getUi=function(){return this.ui_};
a.Ctx.prototype.setUi=function(b){this.ui_=b};a.Ctx.prototype.getEventBus=function(){return this.eventBus_};a.Ctx.prototype.fireEvent=function(b,c){this.eventBus_.fire(b,c)};a.InstantButton=function(b,c){this.element=b;this.handler=c;b.addEventListener("touchstart",this,!1)};a.InstantButton.prototype.handleEvent=function(b){switch(b.type){case "touchstart":this.onTouchStart(b),this.handler(b)}};a.InstantButton.prototype.onTouchStart=function(b){b.stopPropagation()};a.Click={};
a.Click.wireTabs=function(){var b=goog.dom.getElement(a.Id.tabGames),c=goog.dom.getElement(a.Id.tabLogo),d=goog.dom.getElement(a.Id.tabFriends),e=goog.dom.getElement(a.Id.tabProfile),f=a.Ctx.getInstance();aa.isTouchSupported()?(new a.FastButton(b,function(){f.fireEvent(a.Event.MenuClickedEvent,a.Hist.Games)},!0),new a.FastButton(c,function(){f.fireEvent(a.Event.MenuClickedEvent,a.Hist.Activity)},!0),new a.FastButton(d,function(){f.fireEvent(a.Event.MenuClickedEvent,a.Hist.Friends)},!0),new a.FastButton(e,
function(){f.fireEvent(a.Event.MenuClickedEvent,a.Hist.Profile)},!0)):(goog.events.listen(b,goog.events.EventType.CLICK,function(){f.fireEvent(a.Event.MenuClickedEvent,a.Hist.Games)}),goog.events.listen(c,goog.events.EventType.CLICK,function(){f.fireEvent(a.Event.MenuClickedEvent,a.Hist.Activity)}),goog.events.listen(d,goog.events.EventType.CLICK,function(){f.fireEvent(a.Event.MenuClickedEvent,a.Hist.Friends)}),goog.events.listen(e,goog.events.EventType.CLICK,function(){f.fireEvent(a.Event.MenuClickedEvent,
a.Hist.Profile)}))};a.Click.onInstantTouch=function(b,c){var d=goog.dom.getElement(b),e=!1,f=function(){e||(c(),e=!0,setTimeout(function(){e=!1},400))};aa.isTouchSupported()?new a.InstantButton(d,f):goog.events.listen(d,goog.events.EventType.CLICK,f)};a.Click.onClick=function(b,c){var d=goog.dom.getElement(b);aa.isTouchSupported()?new a.FastButton(d,function(){c()}):goog.events.listen(d,goog.events.EventType.CLICK,function(){c()})};
a.Click.eleClick=function(b,c){aa.isTouchSupported()?new a.FastButton(b,function(){c()}):goog.events.listen(b,goog.events.EventType.CLICK,function(){c()})};a.SignLanding=function(){a.Widget.call(this);var b=goog.dom.createDom("div",{"class":"SignView Landing"}),c={ret:""};aa.isRetina()&&(c.ret="_2");b.innerHTML=a.soy.sign.landing(c);this.widget_=b};goog.inherits(a.SignLanding,a.Widget);a.SignLanding.prototype.getElement=function(){return this.widget_};a.SignLanding.prototype.onRender=function(){hideUrl();log(this,"----\> onRender");this.initialize()};
a.SignLanding.prototype.initialize=function(){if(!this.initialized_){this.initialized_=!0;log(this,"----\> initialize");var b=this.presenter_;a.Click.onClick(a.Id.snLandBtn,function(){b.showEmail()});var c=goog.dom.getElement(a.Id.snLandSky),d=goog.dom.getViewportSize().height/416,e=320*d,d=416*d;aa.isIPhoneIPod()&&(e=320,d=416);jq(c).css("width",e+"px").css("height",d+"px").css("background-size",e+"px "+d+"px").css("margin-left",-(e/2)+"px");this.prefetchSignImages("wizAvatar wizDispl wizDisplHookt wizEmail wizForgot wizForgotNotsent wizForgotSent wizNewPass wizPass".split(" "))}};
a.SignLanding.prototype.prefetchSignImages=function(b){for(var c=0;c<b.length;c++)(new Image).src=aa.retinaUrl("/images/"+b[c]+".jpg")};a.SignLanding.prototype.init=function(b){hideUrl();this.presenter_=b;return this};a.SignLanding.prototype.attach=function(){this.render(a.AgPanel.rootAndroid());a.History.push(a.Hist.sLanding)};a.SignPresenter=function(b){this.ctx_=b;this.ui_=this.ctx_.getUi();this.ctx_.getSession().setSign(new a.Sign)};a.SignPresenter.prototype.showLanding=function(){this.ui_.clearAll();this.ui_.signLanding().init(this).attach();var b=this.ctx_.getSession().getSign();if(aa.isNull(b.email)){var c=this.ctx_.getStorage().getItem(a.Skey.Email);b.email=c}};a.SignPresenter.prototype.getSign=function(){return this.ctx_.getSession().getSign()};a.SignPresenter.prototype.showEmail=function(){this.ui_.signEmail().init(this).attach()};
a.SignPresenter.prototype.showPassword=function(b){this.ctx_.getSession().getSign().email=b;this.ui_.signPassword().init(this).attach()};a.SignPresenter.prototype.showForgotPassword=function(){this.ui_.signForgotPassword().init(this).attach()};a.SignPresenter.prototype.showNewPassword=function(b){this.ctx_.getSession().getSign().email=b;this.ui_.signNewPassword().init(this).attach()};a.SignPresenter.prototype.showTerms=function(){var b=this.ui_.signTerms();b.init(this).attach();this.ctx_.getApi().getTerms(function(c){b.loadTerms(c)})};
a.SignPresenter.prototype.showDisplay=function(b,c,d){this.register(this.ctx_.getSession().getSign().email,b,c,d)};
a.SignPresenter.prototype.register=function(b,c,d,e){var f=this.ctx_,g=this;f.getUserDao().nscRegister(b,c,function(b){f.getUserDao().setSessionUser(b);g.ui_.signNewDisplay().init(g).attach();d()},function(c){400==c||409==c?new a.BlackPopup("Email "+b+" is already registered."):500<=statusCode?new a.BlackPopup("Well, this is embarrassing, our servers went down. Stay tuned."):new a.BlackPopup("Well, this is embarrassing, we can't log you in right now. Error [1 "+c+"]. Stay tuned.");e()})};
a.SignPresenter.prototype.getDisplays=function(b){this.ctx_.getApi().getDisplays(b)};a.SignPresenter.prototype.showAvatarFace=function(b){aa.isEmpty(b)?new a.BlackPopup("Please choose a nickname."):3>b.trim().length?new a.BlackPopup("Please choose a nickname with 3 characters or more."):(this.setDisplay(b),this.ui_.signNewAvatar().init(this).attach())};a.SignPresenter.prototype.showAvatarColor=function(b){this.getSign().avatarFace=b;this.ui_.signNewAvatarColor().init(this).attach()};
a.SignPresenter.prototype.setEmail=function(b){this.ctx_.getSession().getSign().email=b};a.SignPresenter.prototype.setDisplay=function(b){hideUrl();this.ctx_.getSession().getSign().display=b;this.ctx_.getApi().updateDisplayName(b)};a.SignPresenter.prototype.setGirl=function(b){hideUrl();this.ctx_.getSession().getSign().isGirl=b};a.SignPresenter.prototype.setAvatarColor=function(b){hideUrl();this.getSign().avatarColor=b};
a.SignPresenter.prototype.getEmail=function(b,c,d){this.ctx_.getApi().getEmail(b,c,d)};a.SignPresenter.prototype.resetPassword=function(b,c,d){this.ctx_.getApi().resetPassword(b,c,d)};a.SignPresenter.prototype.showFromForgotToNewPassword=function(b){this.ctx_.getSession().getSign().email=b;this.showNewPassword(b)};
a.SignPresenter.prototype.login=function(b,c,d){var e=this.ctx_.getSession().getSign().email,f=this.ctx_;this.ctx_.getUserDao().nscLogin(e,b,function(b){f.fireEvent(a.Event.LoginCompletedEvent,{user:b,callback:function(){c()}})},d)};a.SignPresenter.prototype._slideViews=function(){hideUrl()};
a.SignPresenter.prototype.completeSignUp=function(){var b=this.ctx_,c=b.getUserDao().getSessionProfile(),d=b.getSession().getSign();c.sex=d.isGirl?0:1;c.avatarId=(d.isGirl?"f":"m")+"-"+d.avatarFace+"-"+d.avatarColor.id;b.getUserDao().updateSessionProfile(c,"?tidbit=1",function(){b.fireEvent(a.Event.IntroCompletedEvent)})};a.EventController=function(){};
a.EventController.handleEvents=function(b){var c=b.getEventBus();log("========EventController::handleEvents=========",c);aa.supportOrientation()&&window.addEventListener("orientationchange",function(){setTimeout(function(){b.getEvents().orientationChange()},100)},!1);aa.supportOnlineOffline()&&(window.addEventListener("offline",function(){log("App is OFFLINE.")}),window.addEventListener("online",function(){log("App is ONLINE.")}));c.on(a.Event.LogoutEvent,function(){log("a.Event.LogoutEvent");var c=
b.getSession().getUser(),c=!aa.isNull(c)?c.email:null;c!=null&&b.getStorage().setItem(a.Skey.Email,c);b.getApi().logout();b.getEvents().logout();(new a.SignPresenter(b)).showLanding()});c.on(a.Event.LoadUserEvent,function(){log("a.Event.LoadUserEvent");b.getUserDao().initNscUser(function(){a.EventController.loadUserEvent(b)})});c.on(a.Event.LoginCompletedEvent,function(c){log("a.Event.LoginCompletedEvent.. ");var e=c;if(!aa.isNull(c)){var f=c.user;b.getUserDao().setSessionUser(f);e=c.callback}b.getEvents().loginCompleted();
b.getApi().getMe(function(c){log("Me retrieved.. ",c);c.profile.userId=c.user.userId;b.getUserDao().setSessionProfile(c.profile);b.getUserDao().setFriends(c.friends);b.getUserDao().setSessionStatus(c.status);aa.isNull(e)||e();b.getEvents().loginHide();b.fireEvent(a.Event.IntroCompletedEvent);hideUrl(1E3)})});c.on(a.Event.IntroCompletedEvent,function(){b.getEvents().introCompleted()});c.on(a.Event.MenuClickedEvent,function(c){hideUrl();b.getEvents().menuClicked(c)});c.on(a.Event.ProfileAvatarClickedEvent,
function(){a.History.push(a.Hist.profileAvatar);b.getEvents().profileAvatarClicked()});c.on(a.Event.ProfileRowClickedEvent,function(c){a.History.push(a.Hist.profileUpdate);b.getEvents().profileRowClicked(c)});c.on(a.Event.GameClickedEvent,function(c){a.History.push(a.Hist.game);b.getEvents().gameClicked(c)});c.on(a.Event.TidbitListClickedEvent,function(){a.History.push(a.Hist.tidbits);b.getEvents().tidbitListClicked()});c.on(a.Event.ShowProfileEvent,function(c){a.History.push(a.Hist.showProfile);
b.getEvents().showProfile(c)});c.on(a.Event.ShowFriendEvent,function(c){a.History.push(a.Hist.showFriend);b.getEvents().showFriend(c)});c.on(a.Event.BlockedEvent,function(c){b.getEvents().blocked();new a.BlackPopup(""+c.display+" was blocked.")});c.on(a.Event.UnblockedEvent,function(c){b.getEvents().unblocked();new a.BlackPopup(""+c.display+" was unblocked.")})};
a.EventController.loadUserEvent=function(b){var c=b.getUserDao().getSessionUser();aa.isNull(c)?(log("LoadUserEvent. User is null"),b.getSession().invalidate(),hideUrl(),AG_setLoadProgress("90"),setTimeout(function(){AG_setLoadProgress("100");setTimeout(function(){(new a.SignPresenter(b)).showLanding();var c=goog.dom.getElement(a.Id.AG_load);aa.isNull(c)||jq(c).css("display","none")},500)},500)):(log("LoadUserEvent. User exists. Loading from storage..",c),b.fireEvent(a.Event.LoginCompletedEvent,null))};a.SignTerms=function(){a.Widget.call(this);var b=goog.dom.createDom("div",{"class":"SignView Terms"}),c={ret:""};aa.isRetina()&&(c.ret="_2");b.innerHTML=a.soy.sign.terms(c);this.widget_=b};goog.inherits(a.SignTerms,a.Widget);a.SignTerms.prototype.getElement=function(){return this.widget_};a.SignTerms.prototype.onRender=function(){hideUrl();log(this,"----\> onRender");this.initialize()};
a.SignTerms.prototype.initialize=function(){this.initialized_||(this.initialized_=!0,log(this,"----\> initialize"),a.Click.onClick(a.Id.snTermsBack,function(){history.back()}))};a.SignTerms.prototype.init=function(b){this.presenter_=b;return this};a.SignTerms.prototype.attach=function(){a.AgPanel.removeAndroid_AG_style("blueFooter");a.AgPanel.addAndroid_AG_style("grayFooter");this.render(a.AgPanel.rootAndroid());a.History.push(a.Hist.sTerms)};
a.SignTerms.prototype.loadTerms=function(b){goog.dom.getElement(a.Id.snTermsText).innerHTML=b};a.SignEmail=function(){a.Widget.call(this);var b=goog.dom.createDom("div",{"class":"SignView Email"}),c={ret:""};aa.isRetina()&&(c.ret="_2");b.innerHTML=a.soy.sign.email(c);this.widget_=b;this.input_=null;this.btnSubmit_};goog.inherits(a.SignEmail,a.Widget);a.SignEmail.prototype.getElement=function(){return this.widget_};
a.SignEmail.prototype.onRender=function(){hideUrl();log(this,"----\> onRender",this.presenter_.getSign());this.initialize();var b=this.presenter_;aa.isEmpty(b.getSign().email)||jq(this.input_).attr("value",b.getSign().email)};
a.SignEmail.prototype.initialize=function(){if(!this.initialized_){this.initialized_=!0;log(this,"----\> initialize");var b=this,c=this.presenter_;b.btnSubmit_=goog.dom.getElement(a.Id.snEmailBtn);b.formPanel_=goog.dom.getElement(a.Id.snEmailFormPanel);b.input_=goog.dom.getElement(a.Id.snEmailInput);jq(b.input_).bind("keypress",function(c){13==c.keyCode&&b.submit()});a.Click.eleClick(b.btnSubmit_,function(){b.submit()});a.Click.onClick(a.Id.snForgotPassBtn,function(){c.showForgotPassword()});a.Click.onClick(a.Id.snTermsBtn,
function(){c.showTerms()});a.Click.onClick(a.Id.snEmailBack,function(){history.back()})}};
a.SignEmail.prototype.submit=function(){this.btnSubmit_.focus();if(aa.isEmpty(jq(this.input_).val()))this.setRunning(!1),new a.BlackPopup("Please provide a valid email.");else if(!this.isRunning_){this.setRunning(!0);var b=this,c=this.presenter_;this.emailExist(function(){b.setRunning(!1);c.showPassword(jq(b.input_).val())},function(d){b.setRunning(!1);500<=d?new a.BlackPopup("Well, this is embarrassing, our servers went down. Stay tuned."):c.showNewPassword(jq(b.input_).val())})}};
a.SignEmail.prototype.setRunning=function(b){b?(this.isRunning_=!0,jq(this.formPanel_).addClass("loading")):(this.isRunning_=!1,jq(this.formPanel_).removeClass("loading"))};a.SignEmail.prototype.emailExist=function(b,c){hideUrl();var d=jq(this.input_).val().trim().toLowerCase();0<=d.length&&5>d.length||!aa.validateEmail(d)?(new a.BlackPopup("Please provide a valid email."),this.isRunning_=!1):(this.presenter_.setEmail(d),this.presenter_.getEmail(d,b,c))};
a.SignEmail.prototype.init=function(b){this.presenter_=b;return this};a.SignEmail.prototype.attach=function(){a.AgPanel.removeAndroid_AG_style("grayFooter");a.AgPanel.addAndroid_AG_style("blueFooter");this.render(a.AgPanel.rootAndroid());a.History.push(a.Hist.sEmail)};a.SignNewAvatar=function(){a.Widget.call(this);var b=goog.dom.createDom("div",{"class":"SignView NewAvatar"}),c={ret:""};aa.isRetina()&&(c.ret="_2");b.innerHTML=a.soy.sign.newAvatar(c);this.widget_=b};goog.inherits(a.SignNewAvatar,a.Widget);a.SignNewAvatar.prototype.getElement=function(){return this.widget_};a.SignNewAvatar.prototype.onRender=function(){hideUrl();log(this,"----\> onRender");this.initialize();this.repaint()};
a.SignNewAvatar.prototype.initialize=function(){if(!this.initialized_){this.initialized_=!0;log(this,"----\> initialize");for(var b=this,c=this.presenter_,d=[goog.dom.getElement(a.Id.face+0),goog.dom.getElement(a.Id.face+1),goog.dom.getElement(a.Id.face+2),goog.dom.getElement(a.Id.face+3),goog.dom.getElement(a.Id.face+4),goog.dom.getElement(a.Id.face+5)],e=0;e<d.length;e++)this.onClick(c,d,e);a.Click.onInstantTouch(a.Id.snAvatarSwitch,function(){c.getSign().isGirl?c.setGirl(!1):c.setGirl(!0);b.repaint()});
a.Click.onClick(a.Id.snAvatarBack,function(){history.back()})}};a.SignNewAvatar.prototype.repaint=function(){var b=this.presenter_.getSign(),c=goog.dom.getElement(a.Id.snFaces),d=jq("#"+a.Id.snAvatarSwitch+" div");b.isGirl?(jq(d).css("background-position","-8px 0"),jq(c).addClass("female"),jq(c).removeClass("male")):(jq(d).css("background-position","-68px 0"),jq(c).removeClass("female"),jq(c).addClass("male"))};
a.SignNewAvatar.prototype.onClick=function(b,c,d){a.Click.eleClick(c[d],function(){for(var e=0;e<c.length;e++)jq(c[e]).removeClass("selected");jq(c[d]).addClass("selected");setTimeout(function(){b.showAvatarColor(a.Globals.AVATAR_FACES[d])},100)})};a.SignNewAvatar.prototype.init=function(b){this.presenter_=b;this.presenter_.setGirl(!1);return this};a.SignNewAvatar.prototype.attach=function(){this.render(a.AgPanel.rootAndroid());a.History.push(a.Hist.sNewAvatar)};a.SignPassword=function(){a.Widget.call(this);var b=goog.dom.createDom("div",{"class":"SignView Password"}),c={ret:""};aa.isRetina()&&(c.ret="_2");b.innerHTML=a.soy.sign.password(c);this.widget_=b};goog.inherits(a.SignPassword,a.Widget);a.SignPassword.prototype.getElement=function(){return this.widget_};a.SignPassword.prototype.onRender=function(){hideUrl();log(this,"----\> onRender");this.initialize();var b=this.presenter_;aa.isEmpty(b.getSign().email)||(this.lbl_.innerHTML=b.getSign().email)};
a.SignPassword.prototype.initialize=function(){if(!this.initialized_){this.initialized_=!0;log(this,"----\> initialize");var b=this,c=this.presenter_;b.input_=goog.dom.getElement(a.Id.snPassInput);b.btnSubmit_=goog.dom.getElement(a.Id.snPassBtn);b.formPanel_=goog.dom.getElement(a.Id.snPassFormPanel);b.lbl_=goog.dom.getElement(a.Id.snPassLbl);jq(b.input_).bind("keypress",function(c){13==c.keyCode&&b.submit()});a.Click.eleClick(this.btnSubmit_,function(){b.submit()});a.Click.onClick(a.Id.snPassBack,
function(){c.showEmail()});a.Click.onClick(a.Id.snForgotPassBtn,function(){c.showForgotPassword()});a.Click.onClick(a.Id.snTermsBtn,function(){c.showTerms()})}};
a.SignPassword.prototype.submit=function(){hideUrl();var b=this,c=this.input_;if(!b.running_){b.setRunning(!0);this.btnSubmit_.focus();var d=jq(this.input_).val().trim();3>d.length?(new a.BlackPopup("Please enter a password that is at least 3 characters."),b.setRunning(!1)):this.presenter_.login(d,function(){b.setRunning(!1)},function(d){b.setRunning(!1);jq(c).addClass("error");500<=d?new a.BlackPopup("Well, this is embarrassing, our servers went down. Stay tuned."):new a.BlackPopup("Password is incorrect.")})}};
a.SignPassword.prototype.setRunning=function(b){b?(this.isRunning_=!0,jq(this.formPanel_).addClass("loading"),jq(this.input_).removeClass("error")):(this.isRunning_=!1,jq(this.formPanel_).removeClass("loading"))};a.SignPassword.prototype.init=function(b){this.presenter_=b;return this};a.SignPassword.prototype.attach=function(){a.AgPanel.removeAndroid_AG_style("grayFooter");a.AgPanel.addAndroid_AG_style("blueFooter");this.render(a.AgPanel.rootAndroid());a.History.push(a.Hist.sPassword)};a.HomeView=function(){a.Widget.call(this);var b=goog.dom.createDom("div",{"class":"HomeView"}),c={ret:""};aa.isRetina()&&(c.ret="_2");b.innerHTML=a.soy.home.homeView(c);this.widget_=b};goog.inherits(a.HomeView,a.Widget);a.HomeView.prototype.getElement=function(){return this.widget_};a.HomeView.prototype.onRender=function(){this.initialize();log(this,"----\> onRender")};
a.HomeView.prototype.initialize=function(){if(!this.initialized_){this.initialized_=!0;log(this,"----\> initialize");var b=this,c=this.presenter_;c.wireActions();this.tbImage=goog.dom.getElement(a.Id.hmTbImage);this.tbTitle=goog.dom.getElement(a.Id.hmTbTitle);this.tbMsg=goog.dom.getElement(a.Id.hmTbMsg);this.tbMsg2=goog.dom.getElement(a.Id.hmTbMsg2);this.mascot=goog.dom.getElement(a.Id.hmMascot);var d=this.hmMoreBtn=goog.dom.getElement(a.Id.hmMoreBtn);this.gmFeat1Image=jq("#"+a.Id.hmFeat1+" .ximage");
this.gmFeat1Title=jq("#"+a.Id.hmFeat1+" .atitle");this.gmFeat1Company=jq("#"+a.Id.hmFeat1+" .company");this.gmFeat1Descr=jq("#"+a.Id.hmFeat1+" .descr");this.gmFeat2Image=jq("#"+a.Id.hmFeat2+" .ximage");this.gmFeat2Title=jq("#"+a.Id.hmFeat2+" .atitle");this.gmFeat2Company=jq("#"+a.Id.hmFeat2+" .company");this.gmFeat2Descr=jq("#"+a.Id.hmFeat2+" .descr");b.gameFeat1Clicked_=function(){};b.gameFeat2Clicked_=function(){};a.Click.eleClick(d,function(){c.showMoreGames()});a.Click.eleClick(this.mascot,function(){new a.BlackPopup("Hey, hi, hello!<br/><br/>airGames is a new mobile gaming community. We're just getting started, so check back often to see what we roll out in the near future.<br/><br/>In the mean time, invite your friends to play games, or play against someone else in the community. Enjoy!<br/>")});
a.Click.onClick(a.Id.hmFeat1,function(){b.gameFeat1Clicked_()});a.Click.onClick(a.Id.hmFeat2,function(){b.gameFeat2Clicked_()});a.Click.onClick(a.Id.hmTidbit,function(){c.tidbitExecuted()})}};
a.HomeView.prototype.setGames=function(b,c){log(this,"setGames",b,c);var d=this.presenter_;jq(this.gmFeat1Image).css("background-image","url("+b.imageUrl.replace("-big","")+")");jq(this.gmFeat1Title).html(b.title);jq(this.gmFeat1Company).html(b.author);jq(this.gmFeat1Descr).html(b.shortDescr);jq(this.gmFeat2Image).css("background-image","url("+c.imageUrl.replace("-big","")+")");jq(this.gmFeat2Title).html(c.title);jq(this.gmFeat2Company).html(c.author);jq(this.gmFeat2Descr).html(c.shortDescr);this.gameFeat1Clicked_=
function(){d.gameSelected(b)};this.gameFeat2Clicked_=function(){d.gameSelected(c)}};a.HomeView.prototype.setTidbit=function(b){log(this,"setTidbit",b);var c=b.msg;if(!aa.isNull(c)){var b=c.image,d=c.title,e=c.text1,c=c.text2;aa.isNull(b)||jq(this.tbImage).css("background-image","url("+b+")");aa.isNull(d)||jq(this.tbTitle).html(d);aa.isNull(e)||jq(this.tbMsg).html(e);aa.isNull(c)||jq(this.tbMsg2).html(c)}};a.SignNewColor=function(){a.Widget.call(this);var b=goog.dom.createDom("div",{"class":"SignView NewAvatarColor"}),c={ret:"",colors:a.Globals.AVATAR_COLORS};aa.isRetina()&&(c.ret="_2");b.innerHTML=a.soy.sign.newAvatarColor(c);this.widget_=b};goog.inherits(a.SignNewColor,a.Widget);a.SignNewColor.prototype.getElement=function(){return this.widget_};
a.SignNewColor.prototype.onRender=function(){hideUrl();log(this,"----\> onRender");this.initialize();a.SignNewColor.prefetchColorImgs(this.presenter_.getSign());this.repaint()};
a.SignNewColor.prototype.initialize=function(){if(!this.initialized_){this.initialized_=!0;log(this,"----\> initialize");for(var b=this,c=this.presenter_,d=0;d<a.Globals.AVATAR_COLORS.length;d++)this.onClick(c,a.Globals.AVATAR_COLORS[d],d);a.Click.onClick(a.Id.snColorSwitch,function(){c.getSign().isGirl?c.setGirl(!1):c.setGirl(!0);a.SignNewColor.prefetchColorImgs(b.presenter_.getSign());b.repaint()});a.Click.onClick(a.Id.snColorDone,function(){c.completeSignUp()});a.Click.onClick(a.Id.snColorBack,
function(){history.back()})}};a.SignNewColor.prefetchColorImgs=function(b){for(var c=[],d=0;d<a.Globals.AVATAR_COLORS.length;d++){var e=a.Globals.AVATAR_PATH+"f-"+b.avatarFace+"-"+a.Globals.AVATAR_COLORS[d].id+".png";c.push(a.Globals.AVATAR_PATH+"m-"+b.avatarFace+"-"+a.Globals.AVATAR_COLORS[d].id+".png");c.push(e)}setTimeout(function(){aa.prefetchImages(c)},300)};
a.SignNewColor.prototype.onClick=function(b,c){var d=a.Id.clr+c.id,e=this;a.Click.onClick(d,function(){for(var b=0;b<a.Globals.AVATAR_COLORS.length;b++)jq("#"+a.Id.clr+a.Globals.AVATAR_COLORS[b].id+" div").removeClass("checked");jq("#"+d+" div").addClass("checked");e.presenter_.setAvatarColor(c);e.repaint()})};
a.SignNewColor.prototype.repaint=function(){var b=this.presenter_.getSign(),c=goog.dom.getElement(a.Id.snColorImage),d=aa.retinaUrl(aa.getSignAvatarUrl(b));jq(c).css("background-image","url("+d+")");jq(c).css("background-color",b.avatarColor.clr);c=jq("#"+a.Id.snColorSwitch+" div");b.isGirl?jq(c).css("background-position","-8px 0"):jq(c).css("background-position","-68px 0")};
a.SignNewColor.prototype.init=function(b){this.presenter_=b;this.presenter_.getSign().avatarColor=a.Globals.AVATAR_COLORS[0];return this};a.SignNewColor.prototype.attach=function(){this.render(a.AgPanel.rootAndroid());a.History.push(a.Hist.sNewAvatarColor)};a.ProfileView=function(){a.Widget.call(this);var b=goog.dom.createDom("div",{"class":"ProfileView"}),c={ret:""};aa.isRetina()&&(c.ret="_2");b.innerHTML=a.soy.profile.profileView(c);this.widget_=b};goog.inherits(a.ProfileView,a.Widget);a.ProfileView.prototype.getElement=function(){return this.widget_};a.ProfileView.prototype.onRender=function(){this.initialize();log(this,"----\> onRender")};
a.ProfileView.prototype.initialize=function(){if(!this.initialized_){this.initialized_=!0;log(this,"----\> initialize");var b=this,c=this.presenter_;c.wireActions();var d=aa.noNull(document.title),d=aa.isEmpty(d)?"":d.replace("airgames","").trim();goog.dom.getElement(a.Id.pfBuild).innerHTML=d;d=this.pfAvatar=goog.dom.getElement(a.Id.pfAvatar);this.pfImg=goog.dom.getElement(a.Id.pfImg);this.pfImgBg=goog.dom.getElement(a.Id.pfImgBg);var e=this.pfName=goog.dom.getElement(a.Id.pfName),f=this.pfSexBoy=
goog.dom.getElement(a.Id.pfSexBoy),g=this.pfSexGirl=goog.dom.getElement(a.Id.pfSexGirl),h=this.pfSexInco=goog.dom.getElement(a.Id.pfSexInco),i=this.pfAge=goog.dom.getElement(a.Id.pfAge),j=this.pfStatus=goog.dom.getElement(a.Id.pfStatus);this.pfLast=goog.dom.getElement(a.Id.pfLast);var k=this.pfEmail=goog.dom.getElement(a.Id.pfEmail),l=this.pfPhone=goog.dom.getElement(a.Id.pfPhone),n=this.pfPass=goog.dom.getElement(a.Id.pfPass);a.Click.eleClick(d,function(){c.avatarClicked()});a.Click.eleClick(e,function(){c.onFieldSelect(a.ProfilePresenter.Type.Display)});
a.Click.eleClick(i,function(){c.onFieldSelect(a.ProfilePresenter.Type.Birthday)});a.Click.eleClick(j,function(){c.onFieldSelect(a.ProfilePresenter.Type.Status)});a.Click.eleClick(k,function(){c.onFieldSelect(a.ProfilePresenter.Type.Email)});a.Click.eleClick(l,function(){c.onFieldSelect(a.ProfilePresenter.Type.Phone)});a.Click.eleClick(n,function(){c.onFieldSelect(a.ProfilePresenter.Type.Password)});a.Click.eleClick(f,function(){jq(f).addClass("checked");jq(g).removeClass("checked");jq(h).removeClass("checked");
c.updateSex(1);b.renderAvatar(c.getProfile())});a.Click.eleClick(g,function(){jq(f).removeClass("checked");jq(g).addClass("checked");jq(h).removeClass("checked");c.updateSex(0);b.renderAvatar(c.getProfile())});a.Click.eleClick(h,function(){jq(f).removeClass("checked");jq(g).removeClass("checked");jq(h).addClass("checked");c.updateSex(2)})}};a.ProfileView.prototype.init=function(b,c,d){log(this,"----\> init",b,c,d);this.onUpdateProfile(c);this.onUpdateStatus(d);this.onUpdateUser(b)};
a.ProfileView.prototype.renderAvatar=function(b){var c=this.pfImg,d=this.pfImgBg,e=aa.retinaUrl("url("+aa.getAvatarFace(b)+")");jq(c).css("background-image",e);jq(d).css("background-image",aa.retinaUrl("url("+aa.getAvatarBackground(b)+")"));jq(d).css("background-color",aa.getAvatarColor(b))};
a.ProfileView.prototype.onUpdateProfile=function(b){log(this,"onUpdateProfile",b);var c=this.pfName,d=this.pfSexBoy,e=this.pfSexGirl,f=this.pfSexInco,g=this.pfAge,h=this.pfLast;this.renderAvatar(b);var i=b.display,j=b.birthday,k=b.sex,b=b.lastAccess;aa.isEmpty(i)?(jq(c).addClass("notSet"),jq(c).html("Not set")):(jq(c).removeClass("notSet"),jq(c).html("My name is <strong>"+aa.filteredHTML(i)+"</strong>"));aa.isNull(j)?(jq(g).addClass("notSet"),jq(g).html("When is your birthday?")):(i=new Date(Date.parse(j)),
c=new Date,c=c.getYear()-i.getYear(),jq(g).removeClass("notSet"),jq(g).html("I am <span>"+c+"</span> years old"));0>k||(0==k?(jq(e).addClass("checked"),jq(d).removeClass("checked"),jq(f).removeClass("checked")):1==k?(jq(d).addClass("checked"),jq(e).removeClass("checked"),jq(f).removeClass("checked")):(jq(f).addClass("checked"),jq(d).removeClass("checked"),jq(e).removeClass("checked")));aa.isEmpty(b)||(d=new Date(Date.parse(b)),c=new Date,d=0+c.getTime()/1E3-d.getTime()/1E3,d=1<d/86400?"Last login: "+
aa.toInt(d/86400)+" days ago":1<d/3600?"Last login: "+aa.toInt(d/3600)+" hours ago":1<d/60?"Last login: "+aa.toInt(d/60)+" minutes ago":"Last login: Moments ago",jq(h).html(d))};a.ProfileView.prototype.onUpdateStatus=function(b){log(this,"onUpdateStatus",b);var c=this.pfStatus;aa.isNull(b)||aa.isNull(b)||0==b.length?(jq(c).addClass("notSet"),jq(c).html("Enter your status ...")):(jq(c).removeClass("notSet"),jq(c).html(b))};
a.ProfileView.prototype.onUpdateUser=function(b){log(this,"onUpdateUser",b);var c=this.pfEmail,d=this.pfPhone;aa.isEmpty(b.email)?(jq(c).addClass("notSet"),jq(c).html("Enter your email")):(jq(c).removeClass("notSet"),jq(c).html(b.email),jq(c).css("font-weight","bold"));aa.isEmpty(b.phonenumber)?(jq(d).addClass("notSet"),jq(d).html("Enter your phone number")):(jq(d).removeClass("notSet"),jq(d).html(b.phonenumber),jq(d).css("font-weight","bold"))};a.SignNewPassword=function(){a.Widget.call(this);var b=goog.dom.createDom("div",{"class":"SignView NewPassword"}),c={ret:""};aa.isRetina()&&(c.ret="_2");b.innerHTML=a.soy.sign.newPassword(c);this.widget_=b};goog.inherits(a.SignNewPassword,a.Widget);a.SignNewPassword.prototype.getElement=function(){return this.widget_};a.SignNewPassword.prototype.onRender=function(){hideUrl();log(this,"----\> onRender");this.initialize();var b=this.presenter_;aa.isEmpty(b.getSign().email)||(this.lbl_.innerHTML=b.getSign().email)};
a.SignNewPassword.prototype.initialize=function(){if(!this.initialized_){this.initialized_=!0;log(this,"----\> initialize");var b=this,c=this.presenter_;b.input_=goog.dom.getElement(a.Id.snNewPassInput);b.btnSubmit_=goog.dom.getElement(a.Id.snNewPassBtn);b.formPanel_=goog.dom.getElement(a.Id.snNewPassFormPanel);b.lbl_=goog.dom.getElement(a.Id.snNewPassLbl);jq(this.input_).bind("keypress",function(c){13==c.keyCode&&b.submit()});a.Click.eleClick(this.btnSubmit_,function(){b.submit()});a.Click.onClick(a.Id.snNewPassBack,
function(){c.showEmail()});a.Click.onClick(a.Id.snForgotPassBtn,function(){c.showForgotPassword()});a.Click.onClick(a.Id.snTermsBtn,function(){c.showTerms()})}};
a.SignNewPassword.prototype.submit=function(){hideUrl();var b=this,c=this.input_;if(!b.running_){b.setRunning(!0);this.btnSubmit_.focus();var d=jq(this.input_).val().trim();3>d.length?(new a.BlackPopup("Please enter a password that is at least 3 characters."),b.setRunning(!1)):b.presenter_.showDisplay(d,function(){b.setRunning(!1)},function(){b.setRunning(!1);jq(c).addClass("error")})}};
a.SignNewPassword.prototype.setRunning=function(b){b?(this.isRunning_=!0,jq(this.formPanel_).addClass("loading"),jq(this.input_).removeClass("error")):(this.isRunning_=!1,jq(this.formPanel_).removeClass("loading"))};a.SignNewPassword.prototype.init=function(b){this.presenter_=b;return this};a.SignNewPassword.prototype.attach=function(){a.AgPanel.removeAndroid_AG_style("grayFooter");a.AgPanel.addAndroid_AG_style("blueFooter");this.render(a.AgPanel.rootAndroid());a.History.push(a.Hist.sNewPass)};a.SignNewDisplay=function(){a.Widget.call(this);var b=goog.dom.createDom("div",{"class":"SignView NewDisplay"}),c={ret:""};aa.isRetina()&&(c.ret="_2");b.innerHTML=a.soy.sign.newDisplay(c);this.widget_=b};goog.inherits(a.SignNewDisplay,a.Widget);a.SignNewDisplay.prototype.getElement=function(){return this.widget_};a.SignNewDisplay.prototype.onRender=function(){hideUrl();log(this,"----\> onRender");this.initialize()};
a.SignNewDisplay.prototype.initialize=function(){if(!this.initialized_){this.initialized_=!0;log(this,"----\> initialize");var b=this,c=this.presenter_,d=this.input_=goog.dom.getElement(a.Id.snNewDispInput),e=this.btnSubmit_=goog.dom.getElement(a.Id.snNewDispBtn);jq(d).blur();jq(e).focus();setTimeout(function(){jq(d).blur();jq(d).removeAttr("readonly");jq(e).focus()},500);jq(d).bind("keypress",function(b){13==b.keyCode&&(jq(e).focus(),c.showAvatarFace(jq(d).val()))});a.Click.onClick(a.Id.snNewDispBtn,
function(){jq(e).focus();c.showAvatarFace(jq(d).val())});a.Click.onClick(a.Id.snNewDispRefresh,function(){b.refresh()});b.refresh()}};a.SignNewDisplay.prototype.refresh=function(){var b=this.presenter_,c=this.input_;b.getDisplays(function(d){var e=d.length;1>e||(e=Math.floor(Math.random()*(e-1)+1),d=d[e],jq(c).val(d),b.setDisplay(d))})};a.SignNewDisplay.prototype.init=function(b){this.presenter_=b;return this};
a.SignNewDisplay.prototype.attach=function(){a.AgPanel.removeAndroid_AG_style("blueFooter");a.AgPanel.addAndroid_AG_style("grayFooter");this.render(a.AgPanel.rootAndroid());a.History.push(a.Hist.sNewDispl)};a.SignForgotPassword=function(){a.Widget.call(this);var b=goog.dom.createDom("div",{"class":"SignView ForgotPassword"}),c={ret:""};aa.isRetina()&&(c.ret="_2");b.innerHTML=a.soy.sign.forgotPassword(c);this.widget_=b};goog.inherits(a.SignForgotPassword,a.Widget);a.SignForgotPassword.prototype.getElement=function(){return this.widget_};
a.SignForgotPassword.prototype.onRender=function(){hideUrl();log(this,"----\> onRender");this.initialize();var b=this.presenter_,c=this.input_,d=this.btnSend_,e=this.btnLetin_,f=this.btnAnother_,g=this.img_;this.lbl_.innerHTML="Email:";jq(c).show();jq(d).show();jq(f).hide();jq(e).hide();jq(g).css("background-image",aa.retinaUrl("url(/images/wizForgot.jpg)"));aa.isEmpty(b.getSign().email)||jq(c).attr("value",b.getSign().email)};
a.SignForgotPassword.prototype.initialize=function(){if(!this.initialized_){this.initialized_=!0;log(this,"----\> initialize");var b=this,c=this.presenter_,d=this.input_=goog.dom.getElement(a.Id.snForgotInput),e=this.btnSend_=goog.dom.getElement(a.Id.snForgotSend),f=this.btnLetin_=goog.dom.getElement(a.Id.snForgotLetin),g=this.btnAnother_=goog.dom.getElement(a.Id.snForgotAnother);this.img_=goog.dom.getElement(a.Id.snForgotImg);this.lbl_=goog.dom.getElement(a.Id.snForgotLabel);jq(d).bind("keypress",
function(c){13==c.keyCode&&b.submit()});a.Click.eleClick(e,function(){b.submit()});a.Click.eleClick(g,function(){b.onRender()});a.Click.eleClick(f,function(){this.accountFound_?c.showPassword(jq(d).val()):c.showFromForgotToNewPassword(jq(d).val())});a.Click.onClick(a.Id.snForgotBack,function(){history.back()})}};
a.SignForgotPassword.prototype.submit=function(){hideUrl();log(this,"----\> submit");var b=this,c=this.presenter_;if(!b.running_){b.setRunning(!0);var d=jq(this.input_).val().trim().toLowerCase();0<=d.length&&5>d.length||!aa.validateEmail(d)?(new a.BlackPopup("Please provide a valid email."),b.setRunning(!1),jq(this.input_).addClass("error")):(c.getSign().email=d,b.presenter_.resetPassword(d,function(){b.setRunning(!1);this.accountFound_=!0;b.showDone()},function(){b.setRunning(!1);this.accountFound_=
!1;b.doTryAnotherEmail()}))}};a.SignForgotPassword.prototype.setRunning=function(b){b?(this.isRunning_=!0,jq(this.formPanel_).addClass("loading"),jq(this.input_).removeClass("error")):(this.isRunning_=!1,jq(this.formPanel_).removeClass("loading"))};
a.SignForgotPassword.prototype.doTryAnotherEmail=function(){log("...........doTryAnotherEmail");this.lbl_.innerHTML="<div class=red>"+jq(this.input_).val()+"</div> doesn't seem to be registered.";jq(this.img_).css("background-image",aa.retinaUrl("url(/images/wizForgotNotsent.jpg)"));jq(this.input_).hide();jq(this.btnSend_).hide();jq(this.btnAnother_).show();jq(this.btnLetin_).show()};
a.SignForgotPassword.prototype.showDone=function(){log("............showDone");this.lbl_.innerHTML="OK! A new log in link has been sent to <br/><br/><strong>"+jq(this.input_).val()+"</strong><br/><br/><span style='padding: 0 50px; display: block;'>Follow the link and change your password right away!";jq(this.img_).css("background-image",aa.retinaUrl("url(/images/wizForgotSent.jpg)"));jq(this.input_).hide();jq(this.btnSend_).hide();jq(this.btnLetin_).show();jq(this.lbl_).show()};
a.SignForgotPassword.prototype.init=function(b){this.presenter_=b;return this};a.SignForgotPassword.prototype.attach=function(){a.AgPanel.removeAndroid_AG_style("blueFooter");a.AgPanel.addAndroid_AG_style("grayFooter");this.render(a.AgPanel.rootAndroid());a.History.push(a.Hist.sForgotPass)};a.Fx={};a.Fx.absoluteLeft=function(b){for(var c=0,d=b;d.offsetParent;)c-=d.scrollLeft,d=d.parentNode;for(;b;)c+=b.offsetLeft,b=b.offsetParent;return c};a.Fx.absoluteTop=function(b){for(var c=0,d=b;d.offsetParent;)c-=d.scrollTop,d=d.parentNode;for(;b;)c+=b.offsetTop,b=b.offsetParent;return c};a.Fx.offsetHeight=function(b){return b.offsetHeight||0};a.Fx.offsetLeft=function(b){return b.offsetLeft||0};a.Fx.offsetTop=function(b){return b.offsetTop||0};
a.Fx.offsetWidth=function(b){return b.offsetWidth||0};a.Fx.getStyleTop=function(b){b=b.style.top;return goog.string.isEmpty(b)?0:parseFloat(b.replace("px",""))};a.Fx.setStyleTop=function(b,c){b.style.top=c};a.Fx.setTranslateY=function(b,c){b.style.webkitTransform="translate3d(0px, "+c+"px ,0px)"};a.Fx.setTranslateX=function(b,c){b.style.webkitTransform="translate3d("+c+"px ,0px,0px)"};a.Fx.setTranslateXY=function(b,c,d){b.style.webkitTransform="translate3d("+c+"px ,"+d+"px,0px)"};
a.Fx.getTranslateX=function(b){var b=b.style.webkitTransform,c=0;b&&""!==b&&(b=b.replace("translate3d(","").replace(")","").split("px,"),c=parseInt(b[0]));return c};a.Fx.getTranslateY=function(b){var b=b.style.webkitTransform,c=0;b&&""!==b&&(b=b.replace("translate3d(","").replace(")","").split("px,"),c=parseInt(b[1]));return c};
a.Fx.debug=function(b){log("ele.style.webkitTransitionProperty: "+b.style.webkitTransitionProperty);log("ele.style.webkitTransitionDuration: "+b.style.webkitTransitionDuration);log("ele.style.webkitTransitionTimingFunction: "+b.style.webkitTransitionTimingFunction)};a.Fx.setTransitionTimingFunction=function(b,c){b.style.webkitTransitionTimingFunction=c};a.Fx.setTransitionDuration=function(b,c){b.style.webkitTransitionDuration=""+c+"ms"};
a.Fx.setTransitionProperty=function(b,c){b.style.webkitTransitionProperty=c};a.Fx.getMatrixX=function(b){return(new WebKitCSSMatrix(window.getComputedStyle(b).webkitTransform)).e};a.Fx.getMatrixY=function(b){return(new WebKitCSSMatrix(window.getComputedStyle(b).webkitTransform)).f};a.Fx.getHeight=function(b){return parseInt(document.defaultView.getComputedStyle(b,"").getPropertyValue("height"))};a.Fx.getWidth=function(b){return parseInt(document.defaultView.getComputedStyle(b,"").getPropertyValue("width"))};
a.Fx.getOffsetHeight=function(b){return b.offsetHeight||0};a.FriendsView=function(){a.Widget.call(this);var b=goog.dom.createDom("div",{"class":"FriendsView"}),c={ret:""};aa.isRetina()&&(c.ret="_2");b.innerHTML=a.soy.friends.friendsView(c);this.widget_=b};goog.inherits(a.FriendsView,a.Widget);a.FriendsView.Type={online:0,change:1,block:2,recent:3};a.FriendsView.prototype.getElement=function(){return this.widget_};
a.FriendsView.prototype.onRender=function(){this.initialize();log(this,"----\> onRender");jq(this.input).val("");jq(this.clearSearchBtn).removeClass("activated");this.slideState==a.FriendsView.Type.block&&this.presenter_.loadBlocked()};
a.FriendsView.prototype.initialize=function(){if(!this.initialized_){var b=this,c=this.presenter_;b.initialized_=!0;log(b,"----\> initialize");c.wireActions();b.slideState=a.FriendsView.Type.online;b.viewOnline=goog.dom.getElement(a.Id.fsViewOnline);b.viewChange=goog.dom.getElement(a.Id.fsViewChange);b.viewRecent=goog.dom.getElement(a.Id.fsViewRecent);b.viewBlock=goog.dom.getElement(a.Id.fsViewBlock);b.input=goog.dom.getElement(a.Id.fsInput);b.clearSearchBtn=goog.dom.getElement(a.Id.fsClearSearchBtn);
b.fsSelectBlocked=goog.dom.getElement(a.Id.fsSelectBlocked);b.fsSelectRecent=goog.dom.getElement(a.Id.fsSelectRecent);b.fsTitle=goog.dom.getElement(a.Id.fsTitle);b.btnSlide=goog.dom.getElement(a.Id.fsSlideBtn);b.btnCancel=goog.dom.getElement(a.Id.fsCancelBtn);b.btnMascot=goog.dom.getElement(a.Id.fsBlockedMascot);b.fsFriendRequests=goog.dom.getElement(a.Id.fsFriendRequests);b.fsFriendRequestRows=goog.dom.getElement(a.Id.fsFriendRequestRows);a.Click.eleClick(b.btnMascot,function(){new a.BlackPopup("Blocked users will not be able to contact you or invite you to games, but they will still be able to see your profile.<br/><br/>You can unblock them at any time.")});
a.Click.eleClick(b.btnCancel,function(){b.slideChangeTo(b.viewOnline,a.FriendsView.Type.online);setTimeout(function(){jq(b.fsTitle).html("Friends");jq(b.btnCancel).hide();jq(b.btnSlide).show();c.loadOnline()},150)});a.Click.eleClick(b.fsSelectBlocked,function(){b.slideChangeTo(b.viewBlock,a.FriendsView.Type.block);setTimeout(function(){jq(b.fsTitle).html("Blocked");jq(b.btnCancel).hide();jq(b.btnSlide).show();c.loadBlocked()},150)});a.Click.eleClick(b.fsSelectRecent,function(){b.slideChangeTo(b.viewRecent,
a.FriendsView.Type.recent);setTimeout(function(){jq(b.fsTitle).html("Recent Players");jq(b.btnCancel).hide();jq(b.btnSlide).show();c.loadRecent()},150)});a.Click.eleClick(b.btnSlide,function(){log(" 1 $this.fsSlide",b.slideState);b.slideState==a.FriendsView.Type.online?b.slideToChange(b.viewOnline):b.slideState==a.FriendsView.Type.block?b.slideToChange(b.viewBlock):b.slideState==a.FriendsView.Type.recent&&b.slideToChange(b.viewRecent);setTimeout(function(){jq(b.fsTitle).html("Change List");jq(b.btnCancel).show();
jq(b.btnSlide).hide()},150)});a.Click.eleClick(b.clearSearchBtn,function(){aa.isEmpty(jq(b.input).val())||(jq(b.input).val(""),jq(b.clearSearchBtn).removeClass("activated"),b.setFriendsRepaint(b.listOnline,b.listOffline),jq("#"+a.Id.fsAnchor).focus())});jq(b.input).bind("keyup",function(){var c=jq(b.input).val().toLowerCase();log("input",c);b.doSearch(c);aa.isEmpty(c)?jq(b.clearSearchBtn).removeClass("activated"):jq(b.clearSearchBtn).addClass("activated")});jq(b.input).blur(function(){jq("#"+a.Id.fsAnchor).focus()});
jq(b.input).bind("keypress",function(b){13==b.keyCode&&jq("#"+a.Id.fsAnchor).focus()})}};a.FriendsView.prototype.doSearch=function(b){var c={},d={},e;for(e in this.listOnline){var f=this.listOnline[e],g=f.display.toLowerCase();aa.contains(g,b)&&(c["'"+e+"'"]=f)}for(e in this.listOffline)f=this.listOffline[e],g=f.display.toLowerCase(),aa.contains(g,b)&&(d["'"+e+"'"]=f);this.setFriendsRepaint(c,d)};
a.FriendsView.prototype.setFriendRequests=function(b){log(this,"setFriendRequests",b);if(aa.isNull(b))jq(this.fsFriendRequests).css("display","none");else{jq(this.fsFriendRequests).css("display","block");goog.dom.removeChildren(this.fsFriendRequestRows);var c="",d;for(d in b)var e=b[d],e={ret:aa.isRetina()?"_2":"",p:e},c=c+a.soy.friends.friendRequestRow(e);jq(this.fsFriendRequestRows).html(c);for(d in b)e=b[d],this.friendRequestAccepted(e)}};
a.FriendsView.prototype.friendRequestAccepted=function(b){var c=this.presenter_,d=b.userId,e=b.rid,b=goog.dom.getElement("accept-"+d),f=goog.dom.getElement("cancel-"+d);a.Click.eleClick(b,function(){c.acceptRequest(e,d)});a.Click.eleClick(f,function(){c.deleteRequest(d)})};a.FriendsView.prototype.setOnlineList=function(b,c){log(this,"setFriends",b,c);this.listOnline=b;this.listOffline=c;this.setFriendsRepaint(this.listOnline,this.listOffline)};
a.FriendsView.prototype.setRecentList=function(b){log(this,"setRecentList",b);var c=goog.dom.getElement(a.Id.fsRowsRecent);goog.dom.removeChildren(c);var d=!0,e;for(e in b){var d=b[e],f=goog.dom.createDom("div",{id:d.userId,"class":"row"}),g={ret:aa.isRetina()?"_2":"",p:d};f.innerHTML=a.soy.friends.friendRow(g);goog.dom.appendChild(c,f);this.onRowClick(f,d);d=!1}d&&(b=goog.dom.createDom("div",{"class":"empty"},"No recent players."),goog.dom.appendChild(c,b))};
a.FriendsView.prototype.setBlockedList=function(b){log(this,"setBlockedList",b);var c=goog.dom.getElement(a.Id.fsRowsBlocked);goog.dom.removeChildren(c);var d=!0,e;for(e in b){var d=b[e],f=goog.dom.createDom("div",{id:d.userId,"class":"row"}),g={ret:aa.isRetina()?"_2":"",p:d};f.innerHTML=a.soy.friends.friendRow(g);goog.dom.appendChild(c,f);this.onRowClick(f,d);d=!1}d&&(b=goog.dom.createDom("div",{"class":"empty"},"No blocked players."),goog.dom.appendChild(c,b))};
a.FriendsView.prototype.setFriendsRepaint=function(b,c){var d=goog.dom.getElement(a.Id.fsRowsOffline);goog.dom.removeChildren(d);var e=goog.dom.getElement(a.Id.fsRowsOnline);goog.dom.removeChildren(e);var f=!0,g=!0,h;for(h in b){var i=b[h],j=goog.dom.createDom("div",{id:i.userId,"class":"row"}),k={ret:aa.isRetina()?"_2":"",p:i};j.innerHTML=a.soy.friends.friendRow(k);goog.dom.appendChild(e,j);this.onRowClick(j,i);f=!1}for(h in c)i=c[h],j=goog.dom.createDom("div",{id:i.userId,"class":"row"}),k={ret:aa.isRetina()?
"_2":"",p:i},j.innerHTML=a.soy.friends.friendRow(k),goog.dom.appendChild(d,j),this.onRowClick(j,i),g=!1;f&&(f=goog.dom.createDom("div",{"class":"empty"},"No contacts in your Online list."),goog.dom.appendChild(e,f));g&&(f=goog.dom.createDom("div",{"class":"empty"},"No contacts in your Offline list."),goog.dom.appendChild(d,f))};a.FriendsView.prototype.onRowClick=function(b,c){var d=this.presenter_;a.Click.eleClick(b,function(){log(c,"clicked");d.friendClicked(c)})};
a.FriendsView.prototype.resetInit=function(b,c){a.Fx.setTransitionProperty(b,"-webkit-transform");a.Fx.setTransitionDuration(b,0);if(c)a.Fx.setTranslateX(b,0),jq(b).show();else{var d=goog.dom.getViewportSize();a.Fx.setTranslateX(b,d.width);jq(b).hide()}};a.FriendsView.prototype.slideToChange=function(b){hideUrl();log("$this.fsSlide",b);var c=this,d=this.viewChange;c.reset(d,!1,function(){c.slide(b,d);c.slideState=a.FriendsView.Type.change})};
a.FriendsView.prototype.slideChangeTo=function(b,c){hideUrl();var d=this,e=this.viewChange;d.reset(b,!1,function(){d.slide(e,b);d.slideState=c})};a.FriendsView.prototype.reset=function(b,c,d){a.Fx.setTransitionProperty(b,"-webkit-transform");a.Fx.setTransitionDuration(b,0);jq(b).hide();c?a.Fx.setTranslateX(b,0):(c=goog.dom.getViewportSize(),a.Fx.setTranslateX(b,c.width));setTimeout(function(){jq(b).show();aa.isFunc(d)&&d()},10)};
a.FriendsView.prototype.slide=function(b,c){a.Fx.setTranslateX(b,-a.Fx.offsetWidth(b));a.Fx.setTranslateX(c,0);a.Fx.setTransitionDuration(b,300);a.Fx.setTransitionDuration(c,300);jq(b).css("position","absolute");jq(c).css("position","absolute");setTimeout(function(){jq(b).hide();jq(b).css("position","static");jq(c).css("position","static")},310)};a.GamesView=function(){a.Widget.call(this);var b=goog.dom.createDom("div",{"class":"GamesView"}),c={ret:""};aa.isRetina()&&(c.ret="_2");b.innerHTML=a.soy.games.gamesView(c);this.widget_=b};goog.inherits(a.GamesView,a.Widget);a.GamesView.prototype.getElement=function(){return this.widget_};a.GamesView.prototype.onRender=function(){this.initialize();log(this,"----\> onRender")};a.GamesView.prototype.initialize=function(){this.initialized_||(this.initialized_=!0,log(this,"----\> initialize"),this.presenter_.wireActions())};
a.GamesView.prototype.setData=function(b){log(this,"setData",b);var c=this;goog.dom.getElement(a.Id.gaRows).innerHTML=a.soy.games.gameRows({games:b});for(var d=0;d<b.length;d++)c.onGameclick(b[d]);a.Click.onClick(a.Id.gaFeat1,function(){c.presenter_.gameFeaturedSelected()})};a.GamesView.prototype.onGameclick=function(b){var c=this.presenter_;a.Click.onClick(a.Id.garow+b.game,function(){c.gameSelected(b)})};a.AnWidgets=function(b){this.ctx_=b};a.AnWidgets.prototype.clearAll=function(){this.removeSignViews();aa.isNull(this.homeV_)||(this.homeV_.removeFromParent(),delete this.homeV_);aa.isNull(this.gamesV_)||(this.gamesV_.removeFromParent(),delete this.gamesV_);aa.isNull(this.profileV_)||(this.profileV_.removeFromParent(),delete this.profileV_);aa.isNull(this.friendsV_)||(this.friendsV_.removeFromParent(),delete this.friendsV_);goog.dom.removeChildren(a.AgPanel.rootAndroid())};
a.AnWidgets.prototype.removeSignViews=function(){log(this,"removeSignViews");aa.isNull(this.signLanding_)||(this.signLanding_.removeFromParent(),delete this.signLanding_);aa.isNull(this.signEmail_)||(this.signEmail_.removeFromParent(),delete this.signEmail_);aa.isNull(this.signPassword_)||(this.signPassword_.removeFromParent(),delete this.signPassword_);aa.isNull(this.signNewPassword_)||(this.signNewPassword_.removeFromParent(),delete this.signNewPassword_);aa.isNull(this.signForgotPassword_)||(this.signForgotPassword_.removeFromParent(),
delete this.signForgotPassword_);aa.isNull(this.signTerms_)||(this.signTerms_.removeFromParent(),delete this.signTerms_);aa.isNull(this.signNewDisplay_)||(this.signNewDisplay_.removeFromParent(),delete this.signNewDisplay_);aa.isNull(this.signNewAvatar_)||(this.signNewAvatar_.removeFromParent(),delete this.signNewAvatar_);aa.isNull(this.signNewAvatarColor_)||(this.signNewAvatarColor_.removeFromParent(),delete this.signNewAvatarColor_)};
a.AnWidgets.prototype.signLanding=function(){aa.isNull(this.signLanding_)&&(this.signLanding_=new a.SignLanding);return this.signLanding_};a.AnWidgets.prototype.signEmail=function(){aa.isNull(this.signEmail_)&&(this.signEmail_=new a.SignEmail);return this.signEmail_};a.AnWidgets.prototype.signPassword=function(){aa.isNull(this.signPassword_)&&(this.signPassword_=new a.SignPassword);return this.signPassword_};
a.AnWidgets.prototype.signForgotPassword=function(){aa.isNull(this.signForgotPassword_)&&(this.signForgotPassword_=new a.SignForgotPassword);return this.signForgotPassword_};a.AnWidgets.prototype.signTerms=function(){aa.isNull(this.signTerms_)&&(this.signTerms_=new a.SignTerms);return this.signTerms_};a.AnWidgets.prototype.signNewDisplay=function(){aa.isNull(this.signNewDisplay_)&&(this.signNewDisplay_=new a.SignNewDisplay);return this.signNewDisplay_};
a.AnWidgets.prototype.signNewAvatar=function(){aa.isNull(this.signNewAvatar_)&&(this.signNewAvatar_=new a.SignNewAvatar);return this.signNewAvatar_};a.AnWidgets.prototype.signNewAvatarColor=function(){aa.isNull(this.signNewAvatarColor_)&&(this.signNewAvatarColor_=new a.SignNewColor);return this.signNewAvatarColor_};a.AnWidgets.prototype.signNewPassword=function(){aa.isNull(this.signNewPassword_)&&(this.signNewPassword_=new a.SignNewPassword);return this.signNewPassword_};
a.AnWidgets.prototype.getHome=function(){aa.isNull(this.homeV_)&&(this.homeV_=new a.HomeView);return this.homeV_};a.AnWidgets.prototype.getGameList=function(){aa.isNull(this.gamesV_)&&(this.gamesV_=new a.GamesView);return this.gamesV_};a.AnWidgets.prototype.getProfile=function(){aa.isNull(this.profileV_)&&(this.profileV_=new a.ProfileView);return this.profileV_};a.AnWidgets.prototype.getFriendList=function(){aa.isNull(this.friendsV_)&&(this.friendsV_=new a.FriendsView);return this.friendsV_};a.Param={pin:"pin",inv:"inv",reset:"reset",stub:"stub",dbg:"dbg"};a.Param.get=function(b){return goog.uri.utils.getParamValue(window.location.href,b)};a.Param.contains=function(b){return goog.uri.utils.hasParam(window.location.href,b)};a.HomePresenter=function(b,c){this.ctx_=c;this.view_=b;this.view_.setPresenter(this)};a.HomePresenter.prototype.init=function(){log(this,"init");var b=this.ctx_,c=this;b.getGamesDao().getGames(function(){var b=c.ctx_.getGamesDao().getGameFeatured1(),e=c.ctx_.getGamesDao().getGameFeatured2();c.view_.setGames(b,e)});b.getTidbitDao().getList(function(b){log("list tb:",b);!aa.isNull(b)&&0<b.length&&c.view_.setTidbit(b[0])});return this};
a.HomePresenter.prototype.renderAndroid=function(){this.view_.render(a.AgPanel.rootAndroid());return this};a.HomePresenter.prototype.wireActions=function(){a.Click.wireTabs()};a.HomePresenter.prototype.gameSelected=function(b){this.ctx_.fireEvent(a.Event.GameClickedEvent,b)};a.HomePresenter.prototype.showMoreGames=function(){this.ctx_.fireEvent(a.Event.MenuClickedEvent,a.Hist.Games)};a.HomePresenter.prototype.tidbitExecuted=function(){this.ctx_.fireEvent(a.Event.TidbitListClickedEvent)};a.Loading=function(){a.Widget.call(this);var b=goog.dom.createDom("div",{id:a.Id.xLoading});b.innerHTML=a.soy.ui.loading({});this.widget_=b;this.addToParent(goog.dom.getElement(a.Id.AG_ROOT))};goog.inherits(a.Loading,a.Widget);a.Loading.prototype.getElement=function(){return this.widget_};a.Loading.prototype.onRender=function(){};a.Loading.prototype.close=function(){this.removeFromParent()};a.ProfileAvatarPresenter=function(b,c){this.ctx_=c;this.view_=b;this.sign_=new a.Sign;this.view_.setPresenter(this)};a.ProfileAvatarPresenter.prototype.init=function(){var b=this.ctx_.getUserDao().getSessionProfile();this.profile_=b;this.sign_.avatarFace=aa.getAvatarFaceVal(b);this.sign_.avatarColor=aa.getAvatarColorVal(b);this.sign_.isGirl=0==b.sex;this.view_.init(this.sign_,b.avatarUrl);return this};
a.ProfileAvatarPresenter.prototype.renderAndroid=function(){this.view_.render(a.AgPanel.rootAndroid());return this};
a.ProfileAvatarPresenter.prototype.updateProfile=function(){var b=new a.Loading,c=this.ctx_,d=this.sign_;this.profile_.avatarId=(d.isGirl?"f":"m")+"-"+d.avatarFace+"-"+d.avatarColor;this.profile_.sex=d.isGirl?0:1;var e=function(){setTimeout(function(){b.close();history.back()},200)};c.getUserDao().updateSessionProfile(this.profile_,"",function(){c.fireEvent(a.Event.ProfileUpdatedEvent);e()},function(){e()})};a.ProfileAvatarPresenter.prototype.setGirl=function(b){var c=this.sign_;c.isGirl=b;return c};
a.ProfileAvatarPresenter.prototype.setAvatarColor=function(b){var c=this.sign_;c.avatarColor=b.id;return c};a.ProfileAvatarPresenter.prototype.setAvatarFace=function(b){var c=this.sign_;c.avatarFace=a.Globals.AVATAR_FACES[b];return c};a.TidbitsView=function(){a.Widget.call(this);this.widget_=goog.dom.createDom("div",{"class":"TidbitListView TidbitListWrapper"})};goog.inherits(a.TidbitsView,a.Widget);a.TidbitsView.prototype.getElement=function(){return this.widget_};a.TidbitsView.prototype.onRender=function(){this.initialize();log(this,"----\> onRender");hideUrl()};
a.TidbitsView.prototype.initialize=function(){if(!this.initialized_){this.initialized_=!0;log(this,"----\> initialize");var b=this;setTimeout(function(){a.Click.onClick(a.Id.tbBack,function(){history.back()});for(var c=0;c<b.list_.length;c++)b.onTidbitclick(b.list_[c].userId)},500)}};a.TidbitsView.prototype.setTidbits=function(b){log(this,"setTidbits",b);this.widget_.innerHTML=a.soy.home.tidbits({list:b});this.list_=b};
a.TidbitsView.prototype.onTidbitclick=function(b){var c=this.presenter_;a.Click.onClick(a.Id.tb+"-"+b,function(){c.tidibitSelected(b)})};a.GameView=function(b){a.Widget.call(this);var c=goog.dom.createDom("div",{"class":"GameView"}),d={ret:aa.isRetina()?"_2":"",g:b};log("before soy",d);c.innerHTML=a.soy.games.game(d);this.widget_=c;this.game_=b;log(this,"newInstance",b)};goog.inherits(a.GameView,a.Widget);a.GameView.prototype.getElement=function(){return this.widget_};a.GameView.prototype.onRender=function(){this.initialize();log(this,"----\> onRender");hideUrl()};
a.GameView.prototype.initialize=function(){if(!this.initialized_){this.initialized_=!0;log(this,"----\> initialize");var b=goog.dom.getViewportSize().width,c=0.625*b;jq("#"+a.Id.gmImg).css("width",b).css("height",c).css("background-size",b+"px "+c+"px");a.Click.onClick(a.Id.gmBack,function(){history.back()})}};a.GamePresenter=function(b,c){this.ctx_=c;this.view_=b;this.view_.setPresenter(this)};a.GamePresenter.prototype.init=function(b){log(this,"init",b);return this};a.GamePresenter.prototype.renderAndroid=function(){this.view_.render(a.AgPanel.rootAndroid());return this};a.ProfilePresenter=function(b,c){this.ctx_=c;this.view_=b;this.view_.setPresenter(this)};a.ProfilePresenter.Type={Display:"8",Birthday:"7",Gender:"6",Location:"5",Status:"4",Realname:"3",Email:"2",Phone:"1",Password:"0"};a.ProfilePresenter.prototype.init=function(){log(this,"init");var b=this.ctx_,c=b.getSession().getUser(),d=b.getUserDao().getSessionProfile(),b=b.getUserDao().getSessionStatus();this.view_.init(c,d,b);return this};
a.ProfilePresenter.prototype.renderAndroid=function(){this.view_.render(a.AgPanel.rootAndroid());return this};a.ProfilePresenter.prototype.wireActions=function(){a.Click.wireTabs();var b=this.ctx_;a.Click.onClick(a.Id.pfLogout,function(){b.fireEvent(a.Event.LogoutEvent)})};a.ProfilePresenter.prototype.onFieldSelect=function(b){this.ctx_.fireEvent(a.Event.ProfileRowClickedEvent,b)};a.ProfilePresenter.prototype.avatarClicked=function(){this.ctx_.fireEvent(a.Event.ProfileAvatarClickedEvent)};
a.ProfilePresenter.prototype.updateSex=function(b){var c=this.ctx_.getUserDao().getSessionProfile();c.sex=b;aa.setAvatarSex(b,c);this.ctx_.getUserDao().updateSessionProfile(c,"")};a.ProfilePresenter.prototype.getProfile=function(){return this.ctx_.getUserDao().getSessionProfile()};a.XPicker=function(b,c,d){this.handler=d;d=goog.dom.createDom("div",{"class":"xpicker"});b.selected=c;d.innerHTML=a.soy.ui.xpicker(b);d.addEventListener("change",this,!1);var e=goog.dom.getElementByClass("selectedText",d);e.innerHTML=c;this.selectedTextDiv_=e;this.optionsArray_=b;return d};
a.XPicker.prototype.handleEvent=function(b){if("change"===b.type){b.stopPropagation();for(var b=b.target.options.selectedIndex,c=null,d=this.optionsArray_.options,e=d.length,f=0;f<e;f++)if(b==f){c=d[f].text;this.selectedTextDiv_.innerHTML=c;break}aa.isFunc(this.handler)&&this.handler(b,c)}};a.ProfileUpdateView=function(){a.Widget.call(this);this.widget_=goog.dom.createDom("div",{"class":"ProfileUpdateView"})};goog.inherits(a.ProfileUpdateView,a.Widget);a.ProfileUpdateView.prototype.getElement=function(){return this.widget_};a.ProfileUpdateView.prototype.onRender=function(){this.initialize();log(this,"----\> onRender")};a.ProfileUpdateView.prototype.initialize=function(){this.initialized_||(this.initialized_=!0,log(this,"----\> initialize"))};
a.ProfileUpdateView.prototype.init=function(b,c,d,e){log(this,"----\> init",b,c,d,e);this.key_=b;var f="scrollPanel ProfileUpdateWrapper",g=this,h=this.presenter_;if(a.ProfilePresenter.Type.Display===b){this.widget_.innerHTML=a.soy.profile.updateDisplay({param0:aa.noNull(d.display)});var i=goog.dom.getElement(a.Id.puInput),j=goog.dom.getElement(a.Id.puAnchor),k=function(){jq(j).focus();hideUrl();3>aa.noNull(jq(i).val()).trim().length?new a.BlackPopup("Your display name should be at least 3 characters long."):
h.updateDisplay(aa.filteredHTML(jq(i).val()))};jq(i).bind("keypress",function(b){13==b.keyCode&&k()});a.Click.onClick(a.Id.puSave,function(){k()});a.Click.onClick(a.Id.puRefresh,function(){jq(j).focus();g.refreshDisplayName(i)})}else if(a.ProfilePresenter.Type.Birthday===b){b={ret:""};aa.isRetina()&&(b.ret="_2");var l={options:[{index:"01",text:"January"},{index:"02",text:"February"},{index:"03",text:"March"},{index:"04",text:"April"},{index:"05",text:"May"},{index:"06",text:"June"},{index:"07",text:"July"},
{index:"08",text:"August"},{index:"09",text:"September"},{index:"10",text:"October"},{index:"11",text:"November"},{index:"12",text:"December"}]},n="Date",m="Month",p="Month",q="Year";if(!aa.isNull(d.birthday)){e=d.birthday.split("-");q=e[0];p=e[1];n=e[2];for(c=0;12>c;c++)if(e[1]===l.options[c].index){m=l.options[c].text;p=l.options[c].index;break}}e={options:[]};for(c=0;31>c;c++){var o={};o.index=9>c?"0"+(c+1):""+(c+1);o.text=""+(c+1);e.options[c]=o}for(var e=new a.XPicker(e,n,function(b,c){n=c}),
l=new a.XPicker(l,m,function(b,c){p=b+1;m=c}),s={options:[]},c=95;-1<c;c--)o={},o.index=""+(c+1912),o.text=""+(c+1912),s.options[Math.abs(c-95)]=o;c=new a.XPicker(s,q,function(b,c){q=c});this.widget_.innerHTML=a.soy.profile.updateBirthday(b);b=goog.dom.getElement(a.Id.puSelects);goog.dom.classes.add(e,"dates");goog.dom.classes.add(l,"months");goog.dom.classes.add(c,"years");goog.dom.appendChild(b,e);goog.dom.appendChild(b,l);goog.dom.appendChild(b,c);k=function(){hideUrl();if(n==="Date")new a.BlackPopup("Please choose a date.");
else if(q==="Year")new a.BlackPopup("Please choose a year.");else if(m==="Month")new a.BlackPopup("Please choose a month.");else{var b=q+"-"+p+"-"+n;log("submitted ",b);d.birthday=b;h.updateProfile(d)}};a.Click.onClick(a.Id.puSave,function(){k()})}else if(a.ProfilePresenter.Type.Status===b)this.widget_.innerHTML=a.soy.profile.updateStatus({param0:aa.noNull(e)}),i=goog.dom.getElement(a.Id.puInput),j=goog.dom.getElement(a.Id.puAnchor),k=function(){jq(j).focus();hideUrl();for(var b=jq(i).val().replace("<",
"&lt;").replace(">","&gt;").split(" "),c="",d=0;d<b.length;d++){var e=b[d];20<aa.noNull(e).length?(c+=e.substring(0,20),c+="... "):(c+=e,c+=" ")}aa.isEmpty(c)||h.updateStatus(c)},jq(i).blur(function(){hideUrl()}),a.Click.onClick(a.Id.puSave,function(){k()});else if(a.ProfilePresenter.Type.Email===b)f+=" accountField",this.widget_.innerHTML=a.soy.profile.updateEmail({param0:c.email}),i=goog.dom.getElement(a.Id.puInput),j=goog.dom.getElement(a.Id.puAnchor),k=function(){jq(j).focus();hideUrl();var b=
jq(i).val().trim().toLowerCase();0<=b.length&&5>b.length||!aa.validateEmail(b)?new a.BlackPopup("Please provide a valid email."):h.updateEmail(b)},jq(i).blur(function(){jq(j).focus();hideUrl()}),jq(i).bind("keypress",function(b){13==b.keyCode&&k()}),a.Click.onClick(a.Id.puSave,function(){k()});else if(a.ProfilePresenter.Type.Phone===b)f+=" accountField",this.widget_.innerHTML=a.soy.profile.updatePhone({param0:aa.noNull(c.phonenumber)}),i=goog.dom.getElement(a.Id.puInput),j=goog.dom.getElement(a.Id.puAnchor),
k=function(){jq(j).focus();hideUrl();var b=jq(i).val().replace(/\D/g,"");10>b.length||15<b.length?new a.BlackPopup("Please provide a valid phone number. Ensure you include a country code. E.g. 1-555-123-4567"):h.updatePhone(b)},jq(i).blur(function(){jq(j).focus();hideUrl()}),jq(i).bind("keypress",function(b){13==b.keyCode&&k()}),a.Click.onClick(a.Id.puSave,function(){k()});else if(a.ProfilePresenter.Type.Password===b){f+=" accountField";this.widget_.innerHTML=a.soy.profile.updatePassword();var i=
goog.dom.getElement(a.Id.puInput),r=goog.dom.getElement(a.Id.puInputConfirm),j=goog.dom.getElement(a.Id.puAnchor),k=function(){jq(j).focus();hideUrl();var b=jq(i).val().trim(),c=jq(r).val().trim();3>b.length?new a.BlackPopup("Password must be at least 3 characters."):b!==c?new a.BlackPopup("Confirm password doesn't match"):h.updatePassword(b)};jq(i).blur(function(){jq(j).focus();hideUrl()});jq(r).blur(function(){jq(j).focus();hideUrl()});jq(i).bind("keypress",function(b){13==b.keyCode&&jq(j).focus()});
jq(r).bind("keypress",function(b){13==b.keyCode&&jq(j).focus()});a.Click.onClick(a.Id.puSave,function(){k()})}jq(this.widget_).addClass(f);a.Click.onClick(a.Id.puBack,function(){history.back()})};a.ProfileUpdateView.prototype.refreshDisplayName=function(b){this.presenter_.getDisplays(function(c){var d=c.length;1>d||(d=aa.randomUpper(d-1),jq(b).val(c[d]))})};a.FriendPresenter=function(b,c){this.ctx_=c;this.view_=b;this.view_.setPresenter(this)};a.FriendPresenter.prototype.init=function(b){log(this,"init",b);return this};a.FriendPresenter.prototype.renderAndroid=function(){this.view_.render(a.AgPanel.rootAndroid());return this};a.FriendPresenter.prototype.isFriend=function(b,c){return this.ctx_.getUserDao().isFriend(b.userId,c)};a.FriendPresenter.prototype.isBlocked=function(b,c){this.ctx_.getBlockedDao().isBlocked(b.userId,c)};
a.FriendPresenter.prototype.deleteFriend=function(b,c){log(this,"deleteFriend",b);this.ctx_.getUserDao().deleteFriend(b.userId,function(b){log("!!! FIXME BBBB deleted",b);c()})};
a.FriendPresenter.prototype.addFriend=function(b,c){log(this,"addFriend",b);this.ctx_.getUserDao().addFriend(b.userId,function(){new a.BlackPopup("A friend add request was sent to "+b.display+".");c()},function(d){409==d?new a.BlackPopup("A friend add request was already sent to "+b.display+"."):log("ERROR: FriendPresenter::addFriend",d);c()})};
a.FriendPresenter.prototype.blockFriend=function(b,c){var d=this.ctx_;d.getBlockedDao().addBlocked(b,function(){d.getProfileDao().getProfile(b.userId,function(b){d.fireEvent(a.Event.BlockedEvent,b);c()})})};a.FriendPresenter.prototype.unblockFriend=function(b,c){var d=this.ctx_;d.getBlockedDao().removeBlocked(b,function(){d.getProfileDao().getProfile(b.userId,function(){d.fireEvent(a.Event.UnblockedEvent,b);c()})})};a.FriendOptionPopup=function(b,c,d,e){a.Widget.call(this);var f=this;f.left_=b;f.top_=c;f.profile_=d;f.presenter_=e;b=goog.dom.createDom("div",{style:"position: absolute; overflow: hidden; left: 0px; top: 0px; right: 0px; bottom: 0px; z-index: 9999999;"});b.innerHTML=a.soy.ui.friendOptionPopup();f.widget_=b;b=goog.dom.getElement(a.Id.AG_ROOT);f.addToParent(b);f.opAddBtn_=goog.dom.getElement(a.Id.opAddBtn);f.opDeleteBtn_=goog.dom.getElement(a.Id.opDeleteBtn);f.opBlockBtn_=goog.dom.getElement(a.Id.opBlockBtn);
f.opUnblockBtn_=goog.dom.getElement(a.Id.opUnblockBtn);f.opPosition_=goog.dom.getElement(a.Id.opPosition);jq(f.opPosition_).css("left",f.left_-185+"px").css("top",f.top_-24+"px");e.isFriend(d,function(b){log(b,"isFriend....");b?jq(f.opDeleteBtn_).css("display","initial"):jq(f.opAddBtn_).css("display","initial")});e.isBlocked(d,function(b){log(b,"isBlocked....");b?jq(f.opUnblockBtn_).css("display","initial"):jq(f.opBlockBtn_).css("display","initial")})};goog.inherits(a.FriendOptionPopup,a.Widget);
a.FriendOptionPopup.prototype.getElement=function(){return this.widget_};
a.FriendOptionPopup.prototype.onRender=function(){var b=this,c=this.presenter_;log(this,"onRender",b.left_,b.top_);a.Click.eleClick(this.widget_,function(){b.removeFromParent()});a.Click.onClick(a.Id.opAddBtn,function(){log("opAddBtn");c.addFriend(b.profile_,function(){b.removeFromParent()})});a.Click.onClick(a.Id.opDeleteBtn,function(){log("opDeleteBtn");c.deleteFriend(b.profile_,function(){b.removeFromParent()})});a.Click.onClick(a.Id.opBlockBtn,function(){c.blockFriend(b.profile_,function(){b.removeFromParent()})});
a.Click.onClick(a.Id.opUnblockBtn,function(){c.unblockFriend(b.profile_,function(){b.removeFromParent()})})};a.FriendOptionPopup.prototype.close=function(){this.removeFromParent()};a.FriendView=function(b){a.Widget.call(this);var c=goog.dom.createDom("div",{"class":"FriendView"}),d={ret:aa.isRetina()?"_2":"",p:b};log("before soy",d);c.innerHTML=a.soy.friends.profile(d);this.widget_=c;this.profile_=b;log(this,"newInstance",b)};goog.inherits(a.FriendView,a.Widget);a.FriendView.prototype.getElement=function(){return this.widget_};a.FriendView.prototype.onRender=function(){this.initialize();log(this,"----\> onRender");hideUrl()};
a.FriendView.prototype.initialize=function(){if(!this.initialized_){this.initialized_=!0;log(this,"----\> initialize");var b=this;a.Click.onClick(a.Id.frBack,function(){history.back()});var c=goog.dom.getElement(a.Id.frAddBtn);a.Click.eleClick(c,function(){var d=a.Fx.absoluteLeft(c),e=a.Fx.absoluteTop(c);new a.FriendOptionPopup(d,e,b.profile_,b.presenter_)});jq("#"+a.Id.frImgBg).css("background-image","url("+aa.retinaUrl(aa.getAvatarBackground(this.profile_))+")");jq("#"+a.Id.frImgBg).css("background-color",
aa.getAvatarColor(this.profile_))}};a.ProfileUpdatePresenter=function(b,c){this.ctx_=c;this.view_=b;this.view_.setPresenter(this)};a.ProfileUpdatePresenter.prototype.init=function(b){log(this,"init");var c=this.ctx_.getSession().getUser(),d=this.ctx_.getUserDao().getSessionProfile(),e=this.ctx_.getUserDao().getSessionStatus();this.view_.init(b,c,d,e);return this};a.ProfileUpdatePresenter.prototype.renderAndroid=function(){this.view_.render(a.AgPanel.rootAndroid());return this};
a.ProfileUpdatePresenter.prototype.updateDisplay=function(b){var c=this.ctx_.getUserDao().getSessionProfile();c.display=b;this.updateProfile(c)};a.ProfileUpdatePresenter.prototype.updateProfile=function(b){var c=new a.Loading,d=this,e=this.ctx_;log("ProfileUpdatePresenter::update",b,b.birthday,b.birthday);e.getUserDao().updateSessionProfile(b,"",function(){e.fireEvent(a.Event.ProfileUpdatedEvent);d.loadingClose(c)},function(){d.loadingClose(c)})};
a.ProfileUpdatePresenter.prototype.loadingClose=function(b){setTimeout(function(){b.close();history.back()},300)};a.ProfileUpdatePresenter.prototype.getDisplays=function(b){this.ctx_.getApi().getDisplays(b)};a.ProfileUpdatePresenter.prototype.updateStatus=function(b){var c=new a.Loading,d=this,e=this.ctx_,f=e.getSession().getUser();log("new status ",b);e.getApi().updateStatus(f.userId,b,function(){e.getUserDao().setSessionStatus(b);e.fireEvent(a.Event.ProfileUpdatedEvent);d.loadingClose(c)},function(){d.loadingClose(c)})};
a.ProfileUpdatePresenter.prototype.updateEmail=function(b){var c=new a.Loading,d=this,e=this.ctx_,f=e.getSession().getUser();e.getApi().changeEmail(f.userId,b,function(){f.email=b;e.getUserDao().setSessionUser(f);e.fireEvent(a.Event.ProfileUpdatedEvent);d.loadingClose(c)},function(){d.loadingClose(c)})};
a.ProfileUpdatePresenter.prototype.updatePhone=function(b){var c=new a.Loading,d=this,e=this.ctx_,f=e.getSession().getUser();e.getApi().changePhone(f.userId,b,function(){f.phonenumber=b;e.getUserDao().setSessionUser(f);e.fireEvent(a.Event.ProfileUpdatedEvent);d.loadingClose(c)},function(){d.loadingClose(c)})};
a.ProfileUpdatePresenter.prototype.updatePassword=function(b){var c=new a.Loading,d=this,e=this.ctx_,f=e.getSession().getUser();e.getApi().changePassword(f.userId,b,function(){d.loadingClose(c)},function(){d.loadingClose(c)})};a.FriendsPresenter=function(b,c){this.ctx_=c;this.view_=b;this.view_.setPresenter(this)};
a.FriendsPresenter.prototype.loadOnline=function(){log(this,"init");var b=this,c=this.ctx_;c.getUserDao().getBuds(function(d){log(b,"000 loadOnline",d);c.getProfileDao().onlinelistByUsers(d,function(c,d){log(b," 111 listOnline",c,"listOffline",d);b.view_.setOnlineList(c,d)})});c.getTubeReaderDao().getFriendRequests(function(d){if(!aa.isNull(d)&&0<d.length){for(var e=[],f=0;f<d.length;f++)e.push(d[f].userId);c.getProfileDao().listByUserIds(e,function(c){for(var e=0;e<d.length;e++){var f=d[e];c[f.userId].rid=
f.system.rid}b.view_.setFriendRequests(c)})}else b.view_.setFriendRequests(null)});return this};a.FriendsPresenter.prototype.loadRecent=function(){log(this,"loadRecent");var b=this,c=this.ctx_;c.getUserDao().getRecent(function(d){c.getProfileDao().listByUsers(d,function(c){b.view_.setRecentList(c)})});return this};a.FriendsPresenter.prototype.loadBlocked=function(){log(this,"initBuds");var b=this;this.ctx_.getBlockedDao().listBlocked(function(c){b.view_.setBlockedList(c)});return this};
a.FriendsPresenter.prototype.renderAndroid=function(){this.view_.render(a.AgPanel.rootAndroid());return this};a.FriendsPresenter.prototype.wireActions=function(){a.Click.wireTabs()};a.FriendsPresenter.prototype.friendClicked=function(b){this.ctx_.fireEvent(a.Event.ShowFriendEvent,b)};a.FriendsPresenter.prototype.acceptRequest=function(b,c){var d=this,e=this.ctx_;e.getUserDao().acceptFriendRequest(b,function(){d.deleteRequest(c);e.fireEvent(a.Event.MenuClickedEvent,a.Hist.Friends)})};
a.FriendsPresenter.prototype.deleteRequest=function(b){var c=this.ctx_;c.getTubeReaderDao().cancelFriendRequests(b,function(){c.fireEvent(a.Event.MenuClickedEvent,a.Hist.Friends)})};a.GamesPresenter=function(b,c){this.ctx_=c;this.view_=b;this.view_.setPresenter(this)};a.GamesPresenter.prototype.init=function(){log(this,"init");var b=this;this.ctx_.getGamesDao().getGames(function(c){b.view_.setData(c)});return this};a.GamesPresenter.prototype.renderAndroid=function(){this.view_.render(a.AgPanel.rootAndroid());return this};a.GamesPresenter.prototype.wireActions=function(){a.Click.wireTabs()};
a.GamesPresenter.prototype.gameSelected=function(b){this.ctx_.fireEvent(a.Event.GameClickedEvent,b)};a.GamesPresenter.prototype.gameFeaturedSelected=function(){this.gameSelected(this.ctx_.getGamesDao().getGameFeatured1())};a.TidbitsPresenter=function(b,c){this.ctx_=c;this.view_=b;this.view_.setPresenter(this)};a.TidbitsPresenter.prototype.init=function(){log(this,"init");var b=this;this.ctx_.getTidbitDao().getList(function(c){!aa.isNull(c)&&0<c.length&&b.view_.setTidbits(c)});return this};a.TidbitsPresenter.prototype.renderAndroid=function(){this.view_.render(a.AgPanel.rootAndroid());return this};a.TidbitsPresenter.prototype.tidibitSelected=function(b){this.ctx_.fireEvent(a.Event.ShowProfileEvent,b)};a.ProfileAvatarView=function(){a.Widget.call(this);this.widget_=goog.dom.createDom("div",{"class":"ProfileAvatarView"})};goog.inherits(a.ProfileAvatarView,a.Widget);a.ProfileAvatarView.prototype.getElement=function(){return this.widget_};a.ProfileAvatarView.prototype.onRender=function(){this.initialize();log(this,"----\> onRender")};a.ProfileAvatarView.prototype.initialize=function(){this.initialized_||(this.initialized_=!0,log(this,"----\> initialize"))};
a.ProfileAvatarView.prototype.init=function(b,c){log(this,"----\> init",b,c);var d=this,e=this.presenter_;d.widget_.innerHTML=a.soy.profile.profileAvatarView({colors:a.Globals.AVATAR_COLORS});this.avatarImg=goog.dom.getElement(a.Id.paAvatar);this.xswitch=goog.dom.getElement(a.Id.paSwitch);this.facesPanel=goog.dom.getElement(a.Id.paFaces);this.colorsPanel=goog.dom.getElement(a.Id.paColors);this.savePanel=goog.dom.getElement(a.Id.paSavePanel);for(var f=[goog.dom.getElement(a.Id.face+0),goog.dom.getElement(a.Id.face+
1),goog.dom.getElement(a.Id.face+2),goog.dom.getElement(a.Id.face+3),goog.dom.getElement(a.Id.face+4),goog.dom.getElement(a.Id.face+5)],g=0;g<f.length;g++)this.onFaceClick(e,f,g);for(g=0;g<a.Globals.AVATAR_COLORS.length;g++)this.onColorClick(e,a.Globals.AVATAR_COLORS[g],g);a.Click.onClick(a.Id.puBack,function(){history.back();hideUrl()});a.Click.onInstantTouch(a.Id.paSwitch,function(){b=b.isGirl?e.setGirl(!1):e.setGirl(!0);d.repaint(b);hideUrl()});a.Click.onClick(a.Id.puSave,function(){e.updateProfile();
hideUrl()});f=aa.getAvatarFaceIndex(b.avatarFace);f=goog.dom.getElement(a.Id.face+f);jq(f).addClass("selected");goog.dom.getElement(a.Id.clr+b.avatarColor);jq("#"+a.Id.clr+b.avatarColor+" div").addClass("checked");this.repaint(b);hideUrl()};
a.ProfileAvatarView.prototype.onFaceClick=function(b,c,d){var e=this;a.Click.eleClick(c[d],function(){for(var f=0;f<c.length;f++)jq(c[f]).removeClass("selected");jq(c[d]).addClass("selected");var g=b.setAvatarFace(d);e.repaint(g);var h=new a.Loading;setTimeout(function(){jq(e.colorsPanel).css("display","");jq(e.savePanel).css("display","");jq(e.facesPanel).css("display","none");h.close();hideUrl();a.SignNewColor.prefetchColorImgs(g)},300)})};
a.ProfileAvatarView.prototype.onColorClick=function(b,c){var d=a.Id.clr+c.id,e=this;a.Click.onClick(d,function(){for(var b=0;b<a.Globals.AVATAR_COLORS.length;b++)jq("#"+a.Id.clr+a.Globals.AVATAR_COLORS[b].id+" div").removeClass("checked");jq("#"+d+" div").addClass("checked");b=e.presenter_.setAvatarColor(c);e.repaint(b);hideUrl()})};
a.ProfileAvatarView.prototype.renderAvatar=function(b){var c=this.avatarImg,d=aa.getAvatarPath(b.isGirl?"f":"m",b.avatarFace,b.avatarColor),d=aa.retinaUrl("url("+d+")");jq(c).css("background-image",d);for(d=0;d<a.Globals.AVATAR_COLORS.length;d++)if(a.Globals.AVATAR_COLORS[d].id===b.avatarColor){jq(c).css("background-color",a.Globals.AVATAR_COLORS[d].clr);break}};
a.ProfileAvatarView.prototype.repaint=function(b){this.renderAvatar(b);var c=jq("#"+a.Id.paSwitch+" div");b.isGirl?(jq(c).css("background-position","-8px 0"),jq(this.facesPanel).addClass("female"),jq(this.facesPanel).removeClass("male")):(jq(c).css("background-position","-68px 0"),jq(this.facesPanel).removeClass("female"),jq(this.facesPanel).addClass("male"))};a.AnEvents=function(b){this.ctx_=b;this.ui_=b.getUi()};a.AnEvents.prototype.loginCompleted=function(){};a.AnEvents.prototype.loginHide=function(){};a.AnEvents.prototype.logout=function(){};
a.AnEvents.prototype.introCompleted=function(){log("----\> introCompleted");AG_setLoadProgress("80");var b=this;b.ctx_.getSession().setSign(null);b.ctx_.fireEvent(a.Event.MenuClickedEvent,a.Hist.Activity);b.ui_.removeSignViews();AG_setLoadProgress("100");setTimeout(function(){hideUrl();setTimeout(function(){jq("body").css("background","#E9E9E9");jq("body").css("background-size","");jq("#"+a.Id.AG_load).css("display","none");a.Tube.start(b.ctx_)},10)},500);hideUrl(1E3)};
a.AnEvents.prototype.blocked=function(){};a.AnEvents.prototype.unblocked=function(){};a.AnEvents.prototype.friendDeleted=function(){};a.AnEvents.prototype.friendAdded=function(){};
a.AnEvents.prototype.menuClicked=function(b){log("----menuClicked",b);var c=this.ctx_;c.getSession().isValid()?b===a.Hist.Activity?(a.History.push(a.Hist.Activity),(new a.HomePresenter(c.getUi().getHome(),c)).renderAndroid().init()):b===a.Hist.Games?(a.History.push(a.Hist.Games),(new a.GamesPresenter(c.getUi().getGameList(),c)).renderAndroid().init()):b===a.Hist.Friends?(a.History.push(a.Hist.Friends),(new a.FriendsPresenter(c.getUi().getFriendList(),c)).renderAndroid().loadOnline()):b===a.Hist.Profile&&
(a.History.push(a.Hist.Profile),(new a.ProfilePresenter(c.getUi().getProfile(),c)).renderAndroid().init()):c.fireEvent(a.Event.LogoutEvent)};a.AnEvents.prototype.orientationChange=function(){setTimeout(function(){hideUrl();aa.isLandscapeOrientation()?a.AgPanel.addAndroid_AG_style("LANDSCAPE"):(aa.fixViewportHeightAndroid(),a.AgPanel.removeAndroid_AG_style("LANDSCAPE"));hideUrl(500)},550)};
a.AnEvents.prototype.gameClicked=function(b){var c=new a.GamePresenter(new a.GameView(b),this.ctx_);c.renderAndroid();c.init(b)};a.AnEvents.prototype.tidbitListClicked=function(){(new a.TidbitsPresenter(new a.TidbitsView,this.ctx_)).init().renderAndroid()};a.AnEvents.prototype.showProfile=function(b){var c=this.ctx_;c.getProfileDao().getProfile(b,function(b){b=new a.FriendPresenter(new a.FriendView(b),c);b.renderAndroid();b.init()})};
a.AnEvents.prototype.showFriend=function(b){b=new a.FriendPresenter(new a.FriendView(b),this.ctx_);b.renderAndroid();b.init()};a.AnEvents.prototype.showFriendFind=function(){};a.AnEvents.prototype.profileAvatarClicked=function(){(new a.ProfileAvatarPresenter(new a.ProfileAvatarView,this.ctx_)).renderAndroid().init()};a.AnEvents.prototype.profileRowClicked=function(b){(new a.ProfileUpdatePresenter(new a.ProfileUpdateView,this.ctx_)).renderAndroid().init(b)};a.AnEvents.prototype.showNews=function(){};a.Main=function(){var b=a.Ctx.getInstance();b.setUi(new a.AnWidgets(b));b.setEvents(new a.AnEvents(b));a.Main.init(b);hideUrl()};
a.Main.init=function(b){AG_setLoadProgress("60");a.EventController.handleEvents(b);aa.fixViewportHeightAndroid();AG_setLoadProgress("70");a.Main.loadInviteOrPIN(b,function(){a.AgPanel.init();a.History(b);hideUrl();a.AgPanel.setVisible(!0);a.Param.contains(a.Param.pin)&&a.Param.contains(a.Param.reset)&&setTimeout(function(){b.fireEvent(a.Event.MenuClickedEvent,a.Hist.Profile)},100);setTimeout(function(){b.fireEvent(a.Event.LoadUserEvent)},300)})};
a.Main.loadInviteOrPIN=function(b,c){var d=a.Param.get(a.Param.inv),e=a.Param.get(a.Param.pin);log("Main:: inviteCode, pinCode ",d,e);aa.isNull(e)?c():(log("....PINController "+e),b.getApi().loginWithPIN(e,function(d){b.getSession().invalidate();b.getUserDao().setSessionUser(d);b.getApi().getMe(function(e){e.profile.userId=d.userId;b.getUserDao().setSessionProfile(e.profile);b.getUserDao().setFriends(e.friends);c()})},function(){new a.BlackPopup("PIN is invalid or expired.");c()}))};
goog.exportSymbol("a.Main",a.Main);
